# scenarios/cases_inner_codes_documents.toml

# Documents codes
[[cases]]
submitter_case_id = "ABC123"
type = "germline"
status_code = "in_progress"
project_code = "N1"
diagnostic_lab_code = "LDM-CHUSJ"
primary_condition_code_system = "MONDO"
primary_condition_value = "MONDO:0700092"
priority_code = "routine"
category_code = "postnatal"
analysis_code = "WGA"
resolution_status_code = "unsolved"
note = "test case note"
ordering_physician = "Dr. Test"
ordering_organization_code = "CHUSJ"

    [[cases.patients]]
    submitter_patient_id = "MRN-283773"
    affected_status_code = "affected"
    patient_organization_code = "CHUSJ"
    relation_to_proband_code = "proband"

    [[cases.sequencing_experiments]]
    aliquot = "NA12891"
    sample_organization_code = "CQGC"
    submitter_sample_id = "S13225"

    [[cases.tasks]]
    type_code = "alignment_germline_variant_calling"
    aliquots = ["NA12891"]
    pipeline_name = "Dragen"
    pipeline_version = "4.4.4"
    genome_build = "GRch38"

        [[cases.tasks.output_documents]]
        data_category_code = "not-genomic" # DOCUMENT-001 invalid data_category_code
        data_type_code = "not-alignment" # DOCUMENT-001 invalid data_type_code
        format_code = "not-cram" # DOCUMENT-001 invalid format_code
        name = "NA12891.recal.cram"
        size = 11
        url = "s3://test-bucket/CASE-12345.recal.crai"  # DOCUMENT-002 document not found at URL

        [[cases.tasks.output_documents]]
        data_category_code = "genomic!@#$%"  # DOCUMENT-001 regex error
        data_type_code = "alignment"
        format_code = "cram"
        hash = "d57f21e6a273781dbf8b7657940f3b03333"  # DOCUMENT-006 incorrect hash
        name = "NA12891.recal.cram"
        size = 0  # DOCUMENT-006 incorrect size
        url = "s3://test-bucket/existing_document.recal.crai"

        [[cases.tasks.output_documents]]  # DOCUMENT-003 document already exists
        data_category_code = "genomic"
        data_type_code = "snv"
        format_code = "vcf"
        hash = "5d41402abc4b2a76b9719d911017c826"
        name = "SH032.exomiser.vcf.gz"
        size = 307610255
        url = "s3://cqdg-prod-file-workspace/Postprocessing/exomiser/SH032.exomiser.vcf.gz"

        [[cases.tasks.output_documents]]
        data_category_code = "genomicc"
        data_type_code = "snv"
        format_code = "vcf"
        hash = "5d41402abc4b2a76b9719d911017c826"
        name = "SH032.exomiser.vcf.gz"
        size = 307610255
        url = "s3://cqdg-prod-file-workspace/Postprocessing/exomiser/SH032.exomiser.vcf.gz"  # DOCUMENT-004 document already exist with different fields (data_category_code)

        [[cases.tasks.output_documents]]
        data_category_code = "genomic"
        data_type_code = "alignment"
        format_code = "cram"
        hash = ""
        name = "NA12891.recal.cram"
        size = 11
        url = "s3://test-bucket/CASE-12345.recal.crai"  # DOCUMENT-008 document already exists in the batch
