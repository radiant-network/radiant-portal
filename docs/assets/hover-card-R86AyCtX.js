import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-CGj_12n1.js";import{a as L,c as k,b as l}from"./index-CcLUv2_A.js";import{P as F,u as M}from"./index-COcwYKbe.js";import{c as T,R as I,A as U,C as W,a as $}from"./index-ButkbYdn.js";import{P as z}from"./index-BOEjv1S3.js";import{D as B}from"./index-CphM_NEg.js";import{c as V}from"./utils-D-KgF5mV.js";var w,b="HoverCard",[H,de]=k(b,[T]),S=T(),[q,E]=H(b),O=e=>{const{__scopeHoverCard:t,children:n,open:a,defaultOpen:s,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,i=S(t),m=r.useRef(0),u=r.useRef(0),C=r.useRef(!1),p=r.useRef(!1),[h,o]=L({prop:a,defaultProp:s??!1,onChange:c,caller:b}),x=r.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>o(!0),f)},[f,o]),P=r.useCallback(()=>{clearTimeout(m.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>o(!1),v))},[v,o]),j=r.useCallback(()=>o(!1),[o]);return r.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),d.jsx(q,{scope:t,open:h,onOpenChange:o,onOpen:x,onClose:P,onDismiss:j,hasSelectionRef:C,isPointerDownOnContentRef:p,children:d.jsx(I,{...i,children:n})})};O.displayName=b;var y="HoverCardTrigger",N=r.forwardRef((e,t)=>{const{__scopeHoverCard:n,...a}=e,s=E(y,n),c=S(n);return d.jsx(U,{asChild:!0,...c,children:d.jsx(F.a,{"data-state":s.open?"open":"closed",...a,ref:t,onPointerEnter:l(e.onPointerEnter,g(s.onOpen)),onPointerLeave:l(e.onPointerLeave,g(s.onClose)),onFocus:l(e.onFocus,s.onOpen),onBlur:l(e.onBlur,s.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});N.displayName=y;var G="HoverCardPortal",[le,K]=H(G,{forceMount:void 0}),R="HoverCardContent",_=r.forwardRef((e,t)=>{const n=K(R,e.__scopeHoverCard),{forceMount:a=n.forceMount,...s}=e,c=E(R,e.__scopeHoverCard);return d.jsx(z,{present:a||c.open,children:d.jsx(J,{"data-state":c.open?"open":"closed",...s,onPointerEnter:l(e.onPointerEnter,g(c.onOpen)),onPointerLeave:l(e.onPointerLeave,g(c.onClose)),ref:t})})});_.displayName=R;var J=r.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:f,...v}=e,i=E(R,n),m=S(n),u=r.useRef(null),C=M(t,u),[p,h]=r.useState(!1);return r.useEffect(()=>{if(p){const o=document.body;return w=o.style.userSelect||o.style.webkitUserSelect,o.style.userSelect="none",o.style.webkitUserSelect="none",()=>{o.style.userSelect=w,o.style.webkitUserSelect=w}}},[p]),r.useEffect(()=>{if(u.current){const o=()=>{h(!1),i.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var P;((P=document.getSelection())==null?void 0:P.toString())!==""&&(i.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointerup",o),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!1}}},[i.isPointerDownOnContentRef,i.hasSelectionRef]),r.useEffect(()=>{u.current&&Y(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),d.jsx(B,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:l(c,o=>{o.preventDefault()}),onDismiss:i.onDismiss,children:d.jsx(W,{...m,...v,onPointerDown:l(v.onPointerDown,o=>{o.currentTarget.contains(o.target)&&h(!0),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Q="HoverCardArrow",X=r.forwardRef((e,t)=>{const{__scopeHoverCard:n,...a}=e,s=S(n);return d.jsx($,{...s,...a,ref:t})});X.displayName=Q;function g(e){return t=>t.pointerType==="touch"?void 0:e()}function Y(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Z=O,ee=N,D=_;const ue=Z,pe=ee;function A({className:e,align:t="center",sideOffset:n=4,...a}){return d.jsx(D,{align:t,sideOffset:n,className:V("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}A.displayName=D.displayName;A.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};export{ue as H,pe as a,A as b};
