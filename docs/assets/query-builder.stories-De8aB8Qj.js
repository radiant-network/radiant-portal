import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{f as u}from"./index-B7YJKKKT.js";import{a as re}from"./index-B-lxVbXh.js";import{w as Jt,x as Yt,n as Xt,B as H,S as oe,v as W,q as O}from"./query-builder-remote-CCBfoM9g.js";import{d as D,e as y,C as Oe,f as v,h as $t,i as Kt,o as Re,j as Ee,P as Gt,a as Zt,u as en,k as Le,Q as tn,b as nn,l as Q,g as T}from"./utils-DJ7NGo6L.js";import{R as x,r as p}from"./index-DQLiH3RP.js";import{b as ze,c as rn,P as Ue,u as an,d as on}from"./index-D-AYaadb.js";import{i as sn,u as ln}from"./dropdown-menu-maOUzwaK.js";import{c as Ve,R as un,T as dn,b as cn}from"./index-DypPYETe.js";import{u as mn}from"./index-Bf9LPmYV.js";import{c as R}from"./utils-D-KgF5mV.js";import{C as hn}from"./chevron-right--l3G0NFC.js";import{C as fn}from"./chevron-down-QEmn0_AS.js";import{B as m}from"./button-B_hWqCKH.js";import{P as yn,a as vn,b as pn,c as qe}from"./popover-s8qrO1yz.js";import{T as He}from"./trash-DCT5GB8X.js";import{T as j,a as k,b as F}from"./tooltip-mvIAbbjV.js";import{D as se,a as le,b as ue,c as de,d as ce,e as me}from"./dialog-tSfKNUXe.js";import{t as A,n as he,g as we,a as gn,e as Cn,m as je,b as L,u as We,s as Je,F as Ye,c as Xe,d as $e,f as Ke,h as Ge,i as Ze,o as et,j as tt,P as nt,k as _,l as M,p as bn,q as ee}from"./en-US-BDGQjM70.js";import{I as it}from"./input-DyY2UfVx.js";import{c as fe}from"./createLucideIcon-BMP5cxO1.js";import"./i18n-DXpx3sP5.js";import{S as xn}from"./spinner-DHVcj7-u.js";import{n as Sn}from"./number-format-BmdRvOec.js";import{C as Qn}from"./checkbox-CO27iIkV.js";import{c as qn}from"./index-C66Dxnp2.js";import{a as wn}from"./alert-dialog-store-CZoSfA8g.js";import{A as jn}from"./ActionButton-A54waDHb.js";import"./button.variants-Czj0iLzG.js";import{d as ke}from"./capitalize-CCB5UcF2.js";import{S as kn}from"./switch-DBZYXyXU.js";import{S as Fn,a as In,L as Pn}from"./list-item-with-action-DRQpohnl.js";import{S as An,a as Dn,c as Nn,d as Bn,e as Tn}from"./select-BJ1ILXCN.js";import{S as _n}from"./star-DfQf5eJj.js";import{U as Mn}from"./user-Dv_C2EEw.js";import"./v4-CtRu48qb.js";import"./api-BXByjzrT.js";import"./less-than-or-equal-operator-icon-BI5aNTvi.js";import"./not-in-operator-icon-DdiM-lgK.js";import"./chevron-left-DGpQFcG5.js";import"./x-ClsbQ_rO.js";import"./conditional-wrapper-BBX8pIPQ.js";import"./separator-DcuX0n1V.js";import"./index-CECE1b4A.js";import"./index-CJPVTaBz.js";import"./index-DD7n3F2b.js";import"./index-Bx8PXznd.js";import"./index-C5A_jyAq.js";import"./check-DSCf8CVO.js";import"./index-Czeu9DHN.js";import"./index-CkYa-_Ih.js";import"./label-Buk2CdJ1.js";import"./info-rYv3sqpq.js";import"./iframe-CaUkAZJU.js";import"./index-DDGWSPzp.js";import"./ellipsis-BtlAG3ey.js";import"./pen-DfDDAb28.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Rn=fe("Folder",On);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ln=fe("RotateCcw",En);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rt=fe("Save",zn);function J(t,i){const n=+A(t)-+A(i);return n<0?-1:n>0?1:n}function Un(t,i,n){const[r,a]=he(n==null?void 0:n.in,t,i),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function Vn(t){return i=>{const r=(t?Math[t]:Math.trunc)(i);return r===0?0:r}}function Hn(t,i){return+A(t)-+A(i)}function Wn(t,i){const n=A(t,i==null?void 0:i.in);return n.setHours(23,59,59,999),n}function Jn(t,i){const n=A(t,i==null?void 0:i.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Yn(t,i){const n=A(t,i==null?void 0:i.in);return+Wn(n,i)==+Jn(n,i)}function Xn(t,i,n){const[r,a,o]=he(n==null?void 0:n.in,t,t,i),l=J(a,o),s=Math.abs(Un(a,o));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*s);let d=J(a,o)===-l;Yn(r)&&s===1&&J(r,o)===1&&(d=!1);const h=l*(s-+d);return h===0?0:h}function $n(t,i,n){const r=Hn(t,i)/1e3;return Vn(n==null?void 0:n.roundingMethod)(r)}function Kn(t,i,n){const r=gn(),a=(n==null?void 0:n.locale)??r.locale??Cn,o=2520,l=J(t,i);if(isNaN(l))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,h]=he(n==null?void 0:n.in,...l>0?[i,t]:[t,i]),c=$n(h,d),g=(we(h)-we(d))/1e3,f=Math.round((c-g)/60);let C;if(f<2)return n!=null&&n.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,s):c<10?a.formatDistance("lessThanXSeconds",10,s):c<20?a.formatDistance("lessThanXSeconds",20,s):c<40?a.formatDistance("halfAMinute",0,s):c<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):f===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",f,s);if(f<45)return a.formatDistance("xMinutes",f,s);if(f<90)return a.formatDistance("aboutXHours",1,s);if(f<je){const b=Math.round(f/60);return a.formatDistance("aboutXHours",b,s)}else{if(f<o)return a.formatDistance("xDays",1,s);if(f<L){const b=Math.round(f/je);return a.formatDistance("xDays",b,s)}else if(f<L*2)return C=Math.round(f/L),a.formatDistance("aboutXMonths",C,s)}if(C=Xn(h,d),C<12){const b=Math.round(f/L);return a.formatDistance("xMonths",b,s)}else{const b=C%12,w=Math.trunc(C/12);return b<3?a.formatDistance("aboutXYears",w,s):b<9?a.formatDistance("overXYears",w,s):a.formatDistance("almostXYears",w+1,s)}}var q="Accordion",Gn=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ye,Zn,ei]=sn(q),[X,$r]=rn(q,[ei,Ve]),ve=Ve(),at=x.forwardRef((t,i)=>{const{type:n,...r}=t,a=r,o=r;return e.jsx(ye.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?e.jsx(ri,{...o,ref:i}):e.jsx(ii,{...a,ref:i})})});at.displayName=q;var[ot,ti]=X(q),[st,ni]=X(q,{collapsible:!1}),ii=x.forwardRef((t,i)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...l}=t,[s,d]=ze({prop:n,defaultProp:r??"",onChange:a,caller:q});return e.jsx(ot,{scope:t.__scopeAccordion,value:x.useMemo(()=>s?[s]:[],[s]),onItemOpen:d,onItemClose:x.useCallback(()=>o&&d(""),[o,d]),children:e.jsx(st,{scope:t.__scopeAccordion,collapsible:o,children:e.jsx(lt,{...l,ref:i})})})}),ri=x.forwardRef((t,i)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=t,[l,s]=ze({prop:n,defaultProp:r??[],onChange:a,caller:q}),d=x.useCallback(c=>s((g=[])=>[...g,c]),[s]),h=x.useCallback(c=>s((g=[])=>g.filter(f=>f!==c)),[s]);return e.jsx(ot,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:e.jsx(st,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(lt,{...o,ref:i})})})}),[ai,$]=X(q),lt=x.forwardRef((t,i)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...l}=t,s=x.useRef(null),d=an(s,i),h=Zn(n),g=ln(a)==="ltr",f=on(t.onKeyDown,C=>{var Se;if(!Gn.includes(C.key))return;const b=C.target,w=h().filter(Z=>{var Qe;return!((Qe=Z.ref.current)!=null&&Qe.disabled)}),P=w.findIndex(Z=>Z.ref.current===b),N=w.length;if(P===-1)return;C.preventDefault();let S=P;const B=0,I=N-1,K=()=>{S=P+1,S>I&&(S=B)},G=()=>{S=P-1,S<B&&(S=I)};switch(C.key){case"Home":S=B;break;case"End":S=I;break;case"ArrowRight":o==="horizontal"&&(g?K():G());break;case"ArrowDown":o==="vertical"&&K();break;case"ArrowLeft":o==="horizontal"&&(g?G():K());break;case"ArrowUp":o==="vertical"&&G();break}const Wt=S%N;(Se=w[Wt].ref.current)==null||Se.focus()});return e.jsx(ai,{scope:n,disabled:r,direction:a,orientation:o,children:e.jsx(ye.Slot,{scope:n,children:e.jsx(Ue.div,{...l,"data-orientation":o,ref:d,onKeyDown:r?void 0:f})})})}),Y="AccordionItem",[oi,pe]=X(Y),ut=x.forwardRef((t,i)=>{const{__scopeAccordion:n,value:r,...a}=t,o=$(Y,n),l=ti(Y,n),s=ve(n),d=mn(),h=r&&l.value.includes(r)||!1,c=o.disabled||t.disabled;return e.jsx(oi,{scope:n,open:h,disabled:c,triggerId:d,children:e.jsx(un,{"data-orientation":o.orientation,"data-state":yt(h),...s,...a,ref:i,disabled:c,open:h,onOpenChange:g=>{g?l.onItemOpen(r):l.onItemClose(r)}})})});ut.displayName=Y;var dt="AccordionHeader",ct=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=$(q,n),o=pe(dt,n);return e.jsx(Ue.h3,{"data-orientation":a.orientation,"data-state":yt(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:i})});ct.displayName=dt;var ae="AccordionTrigger",mt=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=$(q,n),o=pe(ae,n),l=ni(ae,n),s=ve(n);return e.jsx(ye.ItemSlot,{scope:n,children:e.jsx(dn,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...r,ref:i})})});mt.displayName=ae;var ht="AccordionContent",ft=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=$(q,n),o=pe(ht,n),l=ve(n);return e.jsx(cn,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...l,...r,ref:i,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});ft.displayName=ht;function yt(t){return t?"open":"closed"}var si=at,li=ut,ui=ct,vt=mt,pt=ft;const di=si,ge=function({className:t,...i}){return e.jsx(li,{className:R("border-b",t),...i})};ge.displayName="AccordionItem";function Ce({className:t,children:i,chevronPlacement:n="left",...r}){return e.jsx(ui,{className:"flex justify-between items-center",children:e.jsx(vt,{className:R("py-2 transition-all group w-full",t),...r,children:e.jsxs("div",{className:"flex flex-1 items-center",children:[n==="left"&&e.jsx(hn,{className:"size-4 text-muted-foreground shrink-0 group-data-[state=open]:rotate-90 transition-transform duration-200 mr-2"}),i,n==="right"&&e.jsx(fn,{className:"size-4 text-muted-foreground shrink-0 group-data-[state=open]:rotate-180 transition-transform duration-200 ml-2"})]})})})}Ce.displayName=vt.displayName;function be({className:t,children:i,...n}){return e.jsx(pt,{className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:e.jsx("div",{className:R("pb-2 pt-0",t),children:i})})}be.displayName=pt.displayName;ge.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};Ce.__docgenInfo={description:"",methods:[],props:{chevronPlacement:{required:!1,tsType:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}]},description:"",defaultValue:{value:"'left'",computed:!1}}}};be.__docgenInfo={description:"",methods:[]};function gt(){const{query:t}=D(),{getQueryReferenceColor:i}=y(),n=t.isReferencedInActiveQuery()?i(t.index()):null;return e.jsx("div",{className:"w-1 rounded-s-sm bg-muted-foreground group-data-[query-active=true]/query:bg-primary",style:n?{backgroundColor:n}:{}})}gt.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function Ct(){const{query:t}=D();return e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>t.duplicate(),children:e.jsx(Oe,{})})}Ct.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};function bt(){const{query:t}=D(),i=v();return e.jsxs(yn,{children:[e.jsx(vn,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",children:e.jsx(He,{})})}),e.jsxs(pn,{side:"left",className:"w-[200px] space-y-3",children:[e.jsx("span",{className:"text-sm",children:i.queryBar.deletePopover.title}),e.jsxs("div",{className:"flex gap-1 justify-end",children:[e.jsx(qe,{asChild:!0,children:e.jsx(m,{size:"xs",variant:"outline",children:i.queryBar.deletePopover.cancel})}),e.jsx(qe,{asChild:!0,children:e.jsx(m,{size:"xs",variant:"destructive",onClick:()=>t.delete(),children:i.queryBar.deletePopover.ok})})]})]})]})}bt.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};const ci=et({title:tt()});function xt({open:t,onOpenChange:i,query:n}){const[r,a]=p.useState(!1),o=v(),l=We({resolver:Je(ci),values:{title:""}}),s=async d=>(a(!0),Promise.resolve(n.saveAsCustomPill(d.title)).then(()=>i(!1)).finally(()=>a(!1)));return e.jsx(se,{open:t,onOpenChange:i,children:e.jsxs(le,{children:[e.jsx(ue,{children:e.jsx(de,{children:o.queryBar.saveDialog.title})}),e.jsx(Ye,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(s),className:"space-y-6",children:[e.jsx(Xe,{control:l.control,name:"title",render:({field:d})=>e.jsxs($e,{children:[e.jsx(Ke,{children:o.queryBar.saveDialog.fields.title.label}),e.jsx(Ge,{children:e.jsx(it,{placeholder:o.queryBar.saveDialog.fields.title.placeholder,...d})}),e.jsx(Ze,{})]})}),e.jsx("div",{className:"text-sm",children:o.queryBar.saveDialog.notice}),e.jsxs(ce,{children:[e.jsx(me,{asChild:!0,children:e.jsx(m,{variant:"outline",children:o.queryBar.saveDialog.cancel})}),e.jsx(m,{type:"submit",color:"primary",loading:r,children:o.queryBar.saveDialog.ok})]})]})})]})})}xt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function St(){const{query:t}=D(),i=v(),[n,r]=p.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>r(!0),disabled:t.hasCustomPill(),children:e.jsx(rt,{})})}),e.jsx(F,{className:"max-w-[200px]",children:t.hasCustomPill()?i.queryBar.customPill.cannotSaveAsCustomPill:i.queryBar.customPill.createTooltip})]}),e.jsx(xt,{open:n,onOpenChange:r,query:t})]})}St.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function Qt(){const{customPillConfig:t}=y();return e.jsxs("div",{className:`
      flex items-center p-2 border-r border-t border-b 
      border-muted-foreground/20 bg-muted/35 text-muted-foreground
      group-data-[query-active=true]/query:border-primary/75
      group-data-[query-active=true]/query:bg-primary/10
      group-data-[query-active=true]/query:text-foreground`,onClick:i=>i.stopPropagation(),children:[(t==null?void 0:t.enable)&&e.jsx(St,{}),e.jsx(Ct,{}),e.jsx(bt,{})]})}Qt.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};function qt(){const{queryBuilder:t,queryCountIcon:i,fetchQueryCount:n}=y(),{query:r}=D(),a=p.useRef(null),[o,l]=p.useState(0),[s,d]=p.useState(!0);return p.useEffect(()=>{if(t.getRawQueries().find(h=>h.id===r.id)){const h=a.current,c=Jt(r.raw(),t.getRawQueries());(!a.current||!Yt(h,c))&&(a.current=c,d(!0),n(c).then(l).finally(()=>{d(!1)}))}},[n,r.raw(),t.getRawQueries()]),e.jsx("div",{className:"flex items-center gap-1",children:s?e.jsx(xn,{}):e.jsxs(e.Fragment,{children:[i,e.jsx("span",{className:"font-medium",children:Sn(o)})]})})}qt.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function wt(){const{query:t}=D();return t.isSelectable()?e.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-muted-foreground/20 bg-muted/35 text-muted-foreground
      group-data-[query-active=true]/query:border-primary/75
      group-data-[query-active=true]/query:bg-primary/10
      group-data-[query-active=true]/query:text-foreground
      `,children:[e.jsx(Qn,{size:"sm",checked:t.isSelected(),onClick:i=>{i.stopPropagation(),t.toggleSelect(!t.isSelected())}}),e.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}wt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};const mi=qn({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-primary/75 bg-primary/10"],false:["border-muted-foreground/20 bg-muted/35 text-muted-foreground"]}},defaultVariants:{active:!1}});function jt({query:t}){const i=t.isActive(),n=v(),{enableCombine:r}=y(),a=()=>{i||t.setAsActive()};return e.jsx($t.Provider,{value:{query:t},children:e.jsxs("div",{"data-query-active":i,className:"flex group/query",onClick:a,children:[e.jsx(gt,{}),r&&e.jsx(wt,{}),e.jsx("div",{className:mi({active:i}),children:e.jsx("div",{className:"flex flex-1 items-center justify-between",children:t.isEmpty()?e.jsx(e.Fragment,{children:n.queryBar.empty}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1",children:Xt(t.raw())&&e.jsx("div",{className:"flex items-center flex-wrap pr-2",children:e.jsx(Kt,{sqon:t.raw()})})}),e.jsx(qt,{})]})})}),t.isNotEmpty()&&e.jsx(Qt,{})]})})}jt.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function kt(){const t=v(),{queryBuilder:i}=y(),n=p.useCallback(()=>{wn.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{variant:"destructive",onClick:()=>i.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[i,t]);return i.getQueries().length>1?e.jsx(m,{variant:"ghost",size:"sm",className:"no-underline enabled:hover:no-underline",onClick:n,children:t.toolbar.clearAll}):null}kt.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function Ft(){const t=v(),{queryBuilder:i,enableCombine:n}=y();return i.canCombine()&&n?e.jsx(jn,{actions:[{label:ke(t.queryPill.operator.and),onClick:()=>i.combineSelectedQueries(H.And)},{label:ke(t.queryPill.operator.or),onClick:()=>i.combineSelectedQueries(H.Or)}],onDefaultAction:()=>i.combineSelectedQueries(H.And),size:"xs",color:"primary",children:t.toolbar.combine}):null}Ft.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function It(){const t=v(),{queryBuilder:i}=y();return i.canCombine()?null:e.jsxs(m,{size:"xs",disabled:i.hasEmptyQuery(),onClick:()=>i.createQuery({op:H.And,content:[]}),children:[e.jsx(nt,{}),t.toolbar.newQuery]})}It.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function Pt(){const t=v(),{queryBuilder:i,enableShowHideLabels:n,showLabels:r,toggleLabels:a}=y();return!i.canCombine()&&n?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(kn,{size:"xs",checked:r,onCheckedChange:a})," ",t.toolbar.labels]}):null}Pt.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function At(){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(It,{}),e.jsx(Ft,{}),e.jsx(Pt,{})]}),e.jsx("div",{children:e.jsx(kt,{})})]})}At.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function Dt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=function(){n!=null&&n.isDirty()?Re(i,t):n==null||n.duplicate()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isNew())||!n,onClick:r,children:e.jsx(Oe,{})})})}),e.jsx(F,{children:t.savedFilter.duplicateTooltip})]})}Dt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function Nt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=function(){n!=null&&n.isDirty()?Re(i,t):i.createSavedFilter()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:r,disabled:(n==null?void 0:n.isNew())||!n,children:e.jsx(nt,{})})})}),e.jsx(F,{children:t.savedFilter.newFilter})]})}Nt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function Bt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=n&&!n.isNew()?!n.isDirty():i.isEmpty(),a=function(){n?n.save(oe.Filter):i.saveNewFilter()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:r,className:n!=null&&n.isDirty()?"text-yellow-500":"",onClick:a,children:e.jsx(rt,{})})})}),e.jsx(F,{children:i.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:n!=null&&n.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}Bt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Tt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter();return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isNew())||!n,onClick:()=>Ee(n,t),children:e.jsx(He,{})})})}),e.jsx(F,{children:t.savedFilter.deleteTooltip})]})}Tt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function _t(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=function(){};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isDirty())||(n==null?void 0:n.isNew())||!n,onClick:r,children:e.jsx(Fn,{})})})}),e.jsx(F,{children:n!=null&&n.isDirty()||!n?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}_t.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};const hi=et({title:tt().min(2,"Min 2 characters").max(50,"Max 50 characters")});function xe({open:t,onOpenChange:i,savedFilter:n}){const r=v(),{queryBuilder:a}=y(),o=We({resolver:Je(hi),values:{title:(n==null?void 0:n.raw().title)||""}});function l(s){n?n.save(oe.Filter,{title:s.title}):a.saveNewFilter({title:s.title}),i(!1)}return e.jsx(se,{open:t,onOpenChange:i,children:e.jsxs(le,{children:[e.jsx(ue,{children:e.jsx(de,{children:r.savedFilter.editDialog.title})}),e.jsx(Ye,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-8",children:[e.jsx(Xe,{control:o.control,name:"title",render:({field:s})=>e.jsxs($e,{children:[e.jsx(Ke,{children:r.savedFilter.editDialog.fields.title.label}),e.jsx(Ge,{children:e.jsx(it,{placeholder:r.savedFilter.editDialog.fields.title.placeholder,...s})}),e.jsx(Ze,{})]})}),e.jsxs(ce,{children:[e.jsx(me,{asChild:!0,children:e.jsx(m,{variant:"outline",children:r.savedFilter.editDialog.cancel})}),e.jsx(m,{type:"submit",color:"primary",children:r.savedFilter.editDialog.ok})]})]})})]})})}xe.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to copy the SavedFilter
   * This will only return a new SavedFilter object without calling any side effects
   */
  copy(): ISavedFilter;

  /**
   * Call this function to duplicate the SavedFilter
   * This will update the queryBuilder state with a new SavedFilter
   * and will perform any side effects defined in the queryBuilder coreProps
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    },
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"copy",value:{name:"ISavedFilter",required:!0},description:`Call this function to copy the SavedFilter
This will only return a new SavedFilter object without calling any side effects`},{key:"duplicate",value:{name:"void",required:!0},description:`Call this function to duplicate the SavedFilter
This will update the queryBuilder state with a new SavedFilter
and will perform any side effects defined in the queryBuilder coreProps`},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const fi={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},yi=(t,i,n)=>{let r;const a=fi[t];return typeof a=="string"?r=a:i===1?r=a.one:r=a.other.replace("{{count}}",String(i)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},vi={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},pi=(t,i,n,r)=>vi[t],gi={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Ci={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},bi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},xi={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Si={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Qi=(t,i)=>{const n=Number(t),r=i==null?void 0:i.unit;if(n===0)return"0";const a=["year","week","hour","minute","second"];let o;return n===1?o=r&&a.includes(r)?"ère":"er":o="ème",n+o},qi=["MMM","MMMM"],wi={preprocessor:(t,i)=>t.getDate()===1||!i.some(r=>r.isToken&&qi.includes(r.value))?i:i.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:Qi,era:_({values:gi,defaultWidth:"wide"}),quarter:_({values:Ci,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_({values:bi,defaultWidth:"wide"}),day:_({values:xi,defaultWidth:"wide"}),dayPeriod:_({values:Si,defaultWidth:"wide"})},ji=/^(\d+)(ième|ère|ème|er|e)?/i,ki=/\d+/i,Fi={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Ii={any:[/^av/i,/^ap/i]},Pi={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Ai={any:[/1/i,/2/i,/3/i,/4/i]},Di={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Ni={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bi={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Ti={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},_i={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Mi={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Oi={ordinalNumber:bn({matchPattern:ji,parsePattern:ki,valueCallback:t=>parseInt(t)}),era:M({matchPatterns:Fi,defaultMatchWidth:"wide",parsePatterns:Ii,defaultParseWidth:"any"}),quarter:M({matchPatterns:Pi,defaultMatchWidth:"wide",parsePatterns:Ai,defaultParseWidth:"any",valueCallback:t=>t+1}),month:M({matchPatterns:Di,defaultMatchWidth:"wide",parsePatterns:Ni,defaultParseWidth:"any"}),day:M({matchPatterns:Bi,defaultMatchWidth:"wide",parsePatterns:Ti,defaultParseWidth:"any"}),dayPeriod:M({matchPatterns:_i,defaultMatchWidth:"any",parsePatterns:Mi,defaultParseWidth:"any"})},Ri={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},Ei={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Li={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zi={date:ee({formats:Ri,defaultWidth:"full"}),time:ee({formats:Ei,defaultWidth:"full"}),dateTime:ee({formats:Li,defaultWidth:"full"})},Ui={code:"fr-CA",formatDistance:yi,formatLong:zi,formatRelative:pi,localize:wi,match:Oi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mt({open:t,onOpenChange:i}){const n=v(),{queryBuilder:r}=y(),a=r.getSavedFilters().filter(o=>!o.isNew());return p.useEffect(()=>{a.length===0&&i(!1)},[a]),e.jsx(e.Fragment,{children:e.jsx(se,{open:t,onOpenChange:i,children:e.jsxs(le,{className:"w-full max-w-[550px]",children:[e.jsx(ue,{children:e.jsx(de,{children:n.savedFilter.manageDialog.title})}),e.jsx(In,{bordered:!0,className:"max-h-[250px]",children:a.map(o=>e.jsx(Vi,{savedFilter:o},o.id))}),e.jsx(ce,{children:e.jsx(me,{asChild:!0,children:e.jsx(m,{children:n.savedFilter.manageDialog.close})})})]})})})}const Vi=({savedFilter:t})=>{const i=v(),[n,r]=p.useState(!1),a=p.useCallback(()=>{const o=t.raw();if(!o.updated_date)return i.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const l=Kn(new Date,new Date(o.updated_date),{locale:Ui});return i.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",l)},[t.raw()]);return e.jsxs(e.Fragment,{children:[e.jsx(Pn,{title:t.raw().title,description:a(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>r(!0),onDelete:()=>Ee(t,i)},t.id),e.jsx(xe,{open:n,onOpenChange:r,savedFilter:t})]})};Mt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function Ot(){const t=v(),{queryBuilder:i}=y(),n=i.getSavedFilters().filter(c=>!c.isNew()),[r,a]=p.useState(!1),[o,l]=p.useState(!1),s=i.getSelectedSavedFilter(),d=function(){a(!1),l(!0)},h=p.useMemo(()=>new Date,[s==null?void 0:s.id]);return e.jsxs(e.Fragment,{children:[e.jsxs(An,{value:s==null?void 0:s.id,onValueChange:c=>{var g;return(g=n.find(f=>f.id===c))==null?void 0:g.select()},open:r,onOpenChange:a,disabled:n.length===0,children:[e.jsxs(j,{open:n.length>0?!1:void 0,children:[e.jsx(k,{asChild:!0,children:e.jsx(Dn,{className:"w-[135px] h-7",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rn,{size:14})," ",t.savedFilter.myFilters]})})}),e.jsx(F,{children:t.savedFilter.noSavedFilters})]}),e.jsxs(Nn,{children:[n.map(c=>e.jsx(Bn,{value:c.id,children:c.raw().title},c.id)),e.jsx(Tn,{}),e.jsx(m,{size:"sm",variant:"ghost",className:"w-full pl-2 justify-start",onClick:d,children:t.savedFilter.manageFilters})]})]},+h),e.jsx(Mt,{open:o,onOpenChange:l})]})}Ot.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function Rt({className:t,...i}){return e.jsx("div",{className:R("flex",t),...i,children:e.jsxs("div",{className:"flex gap-4 items-center",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex whitespace-nowrap",children:[e.jsx(Nt,{}),e.jsx(Bt,{}),e.jsx(Dt,{}),e.jsx(Tt,{}),e.jsx(_t,{})]}),e.jsx(Ot,{})]})})}Rt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function Et(){const{queryBuilder:t}=y(),[i,n]=p.useState(!1),r=t.getSelectedSavedFilter();return e.jsxs(e.Fragment,{children:[e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>n(!0),children:e.jsx(Gt,{})}),e.jsx(xe,{open:i,onOpenChange:n,savedFilter:r})]})}Et.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Lt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter();return n!=null&&n.isDirty()?e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:!n,onClick:()=>n.discardChanges(),children:e.jsx(Ln,{})})}),e.jsx(F,{children:t.savedFilter.discardTooltip})]}):null}Lt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function zt(){const t=v(),{queryBuilder:i,enableFavorite:n}=y(),r=i.getSelectedSavedFilter();if(!n)return null;const a=function(){r?r.save(oe.Filter,{favorite:!r.isFavorite()}):i.saveNewFilter({favorite:!0})};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:!r,onClick:a,children:e.jsx(_n,{className:r!=null&&r.isFavorite()?"stroke-yellow-500 fill-yellow-500":""})})}),e.jsx(F,{children:r!=null&&r.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}zt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function Ut({className:t,...i}){const{queryBuilder:n}=y(),r=n.getSelectedSavedFilter();return e.jsxs("div",{className:R("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...i,children:[e.jsx("div",{className:"text-ellipsis overflow-hidden text-base",children:r?r.raw().title:n.coreProps.savedFilterDefaultTitle}),e.jsxs("div",{className:"flex items-center",onClick:a=>a.stopPropagation(),children:[e.jsx(Et,{}),e.jsx(zt,{}),e.jsx(Lt,{})]})]})}Ut.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};function te(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Vt(t,i){const n={...t},r=i;return te(t)&&te(i)&&Object.keys(i).forEach(a=>{te(r[a])&&a in t?n[a]=Vt(n[a],r[a]):n[a]=r[a]}),n}function E({className:t,enableCombine:i=!0,enableFavorite:n=!1,enableShowHideLabels:r,initialShowHideLabels:a=!0,queryReferenceColors:o=Le,queryCountIcon:l,fetchQueryCount:s,dictionary:d,customPillConfig:h,queryPillFacetFilterConfig:c,resolveSyntheticSqon:g,...f}){const C=Zt(f),b=en(),w=p.useMemo(()=>Vt(b,d||{}),[d,b]),[P,N]=p.useState(a),S=p.useCallback(I=>o[I%o.length],[o]),B=p.useMemo(()=>({queryBuilder:C,enableCombine:i,enableFavorite:n,enableShowHideLabels:r,showLabels:P,toggleLabels:N,queryCountIcon:l,getQueryReferenceColor:S,fetchQueryCount:s,dictionary:d,customPillConfig:h,queryPillFacetFilterConfig:c,resolveSyntheticSqon:g}),[C,i,n,r,P,N,l,S,s,d,h,c,g]);return e.jsx(tn.Provider,{value:w,children:e.jsx(nn.Provider,{value:B,children:e.jsx(di,{type:"multiple",defaultValue:["query-builder"],className:t,children:e.jsxs(ge,{value:"query-builder",className:"border-none",children:[e.jsxs(Ce,{asChild:!0,className:"border py-0 px-5 rounded-t data-[state=closed]:rounded-sm hover:cursor-pointer",children:[e.jsx(Ut,{className:"py-4 pr-4"}),e.jsx(Rt,{className:"ml-auto py-4"})]}),e.jsxs(be,{className:"border-l border-b border-r py-4 px-5 space-y-4 rounded-b",children:[e.jsx("div",{className:"flex flex-col gap-2 max-h-[30vh] overflow-y-scroll",children:C.getQueries().map(I=>e.jsx(jt,{query:I},I.id))}),e.jsx(At,{})]})]})})})})}E.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1}}};const Hi={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:'You will find your saved queries in the sidebar under the "Queries" heading.',cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},Kr={title:"Feature/Query Builder",component:E,args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:Le,resolveSyntheticSqon:u(),dictionary:Hi}},ne="query-builder-id",Wi="query-builder-custom-pill-id",ie="query-builder-query-pill-filter-id";function Ht({queryBuilderId:t}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Testing Tools:"}),e.jsxs("div",{className:"flex border p-4 gap-2",children:[e.jsx(m,{color:"primary",size:"sm",onClick:()=>O.addQuery(t,Q()),children:"Add query"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>{O.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>{O.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const z={args:{id:ne,initialState:{...O.getLocalQueryBuilderState(ne),savedFilters:[{id:W(),title:"Olivier's Filter",favorite:!1,queries:[Q(),Q(),Q()]},{id:W(),title:"Francis' Filter",favorite:!1,queries:[Q(),Q()]},{id:W(),title:"Luc's Filter",favorite:!1,queries:[Q(),Q(),Q()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onCustomPillSave:u(),onCustomPillUpdate:u(),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u()},render:t=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{...t}),e.jsx(Ht,{queryBuilderId:ne})]})},Fe=W(),U={args:{id:Wi,queryCountIcon:e.jsx(Mn,{size:14}),initialState:{activeQueryId:Fe,queries:[Q(Fe),Q()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onCustomPillSave:t=>(re("onCustomPillSave")(t),new Promise(i=>setTimeout(()=>i(T(t)),750))),onCustomPillUpdate:t=>(re("onCustomPillUpdate")(t),new Promise(i=>setTimeout(()=>i(T(t)),750))),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(T()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([T(),T()]),750))}},render:t=>e.jsx(E,{...t})},V={args:{id:ie,initialState:{...O.getLocalQueryBuilderState(ie),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(re("onFacetClick")(t),e.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{...t}),e.jsx(Ht,{queryBuilderId:ie})]})};var Ie,Pe,Ae;z.parameters={...z.parameters,docs:{...(Ie=z.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(Ae=(Pe=z.parameters)==null?void 0:Pe.docs)==null?void 0:Ae.source}}};var De,Ne,Be;U.parameters={...U.parameters,docs:{...(De=U.parameters)==null?void 0:De.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    queryCountIcon: <UserIcon size={14} />,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action('onCustomPillSave')(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action('onCustomPillUpdate')(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: 'qb-custom-pill-edit-id',
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(Be=(Ne=U.parameters)==null?void 0:Ne.docs)==null?void 0:Be.source}}};var Te,_e,Me;V.parameters={...V.parameters,docs:{...(Te=V.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action('onFacetClick')(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Me=(_e=V.parameters)==null?void 0:_e.docs)==null?void 0:Me.source}}};const Gr=["Default","CustomPill","QueryPillFilter"];export{U as CustomPill,z as Default,V as QueryPillFilter,Gr as __namedExportsOrder,Kr as default};
