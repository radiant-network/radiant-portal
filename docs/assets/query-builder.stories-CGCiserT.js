var jv=Object.defineProperty;var qv=(t,e,r)=>e in t?jv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var mr=(t,e,r)=>qv(t,typeof e!="symbol"?e+"":e,r);import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{f as te}from"./index-DhvbgntC.js";import{a as wo}from"./index-B-lxVbXh.js";import{c as nn,g as $t,r as m,R as G}from"./index-DUAV1Q2A.js";import{c as Tn,u as Xt,P as xe,b as fe,d as Ee,e as vt,S as Bo,g as kv}from"./index-aKoabQ1X.js";import{f as Ef,u as Nf,d as Pn,R as Df,A as Uo,C as Ff,e as Qf,g as Rv}from"./dropdown-menu-BQyRnyXE.js";import{P as $o}from"./index-5epIGEb9.js";import{u as sr,P as Mf,h as Vf,R as Lf,a as Bf,F as Uf,D as $f}from"./Combination-BCojpehm.js";import{c as ue}from"./utils-BNf5BS2b.js";import{C as Zo,S as Ov}from"./separator-BJe2BF5g.js";import{A as Ev}from"./ActionButton-BJyb2P8g.js";import{I as Ne}from"./IconButton-EsFSaVKh.js";import"./button.variants-BeBGLAvg.js";import{c as at}from"./createLucideIcon-DirO1-NP.js";import{B as Te}from"./button-2jmoyEDh.js";import{T as Zf,C as Nv,S as Dv,a as Fv,L as Qv}from"./list-item-with-action-CWzuy-nv.js";import{b as st,c as ot,T as lt,V as Mv,a as Wf}from"./tooltip-DW4kxM8r.js";import{D as jn,a as qn,b as kn,c as Rn,d as On,e as En,X as Vv}from"./dialog-3ysF2mkX.js";import{c as Hf}from"./index-C66Dxnp2.js";import{I as Wo}from"./input-BvXtte4q.js";import{S as Lv}from"./spinner-CbKTttg0.js";import{C as Bv}from"./checkbox-BD_aHgh9.js";import{a as Uv,E as Ho,c as $v,L as Zv,b as Wv,G as Hv}from"./less-than-or-equal-operator-icon-Bw5nz3Pd.js";import{a as or,A as zv}from"./alert-dialog-provider-Bee2PciY.js";import{S as Gv}from"./switch-C_CxMkoC.js";import{r as zf}from"./index-VDvXe9nZ.js";import{u as Kv}from"./index-DeoL25kd.js";import{C as Yv}from"./check-D0WsHlur.js";import"./v4-CtRu48qb.js";import"./index-BXOWtdLR.js";import"./index-BiAv9jRD.js";import"./index-CqVsPxxY.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=at("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=at("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=at("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=at("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=at("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=at("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),he={In:"in",And:"and",Or:"or",Not:"not",Between:"between",GreaterThan:">",LessThan:"<",GreaterThanOrEqualTo:">=",LessThanOrEqualTo:"<=",NotIn:"not-in",All:"all"},$l={GreaterThan:he.GreaterThan,LessThan:he.LessThan,Between:he.Between,GreaterThanOrEqualTo:he.GreaterThanOrEqualTo,LessThanOrEqualTo:he.LessThanOrEqualTo,In:he.In},dn={In:he.In,All:he.All},Le={And:he.And,Or:he.Or,Not:he.Not},iy="set_id:";var er=(t=>(t.DEFAULT="OVERRIDE_VALUES",t.OVERRIDE_VALUES="OVERRIDE_VALUES",t.APPEND_VALUES="APPEND_VALUES",t))(er||{}),Nn=(t=>(t.DEFAULT="OVERRIDE_OPERATOR",t.OVERRIDE_OPERATOR="OVERRIDE_OPERATOR",t.KEEP_OPERATOR="KEEP_OPERATOR",t))(Nn||{});const Ae=[];for(let t=0;t<256;++t)Ae.push((t+256).toString(16).slice(1));function ay(t,e=0){return(Ae[t[e+0]]+Ae[t[e+1]]+Ae[t[e+2]]+Ae[t[e+3]]+"-"+Ae[t[e+4]]+Ae[t[e+5]]+"-"+Ae[t[e+6]]+Ae[t[e+7]]+"-"+Ae[t[e+8]]+Ae[t[e+9]]+"-"+Ae[t[e+10]]+Ae[t[e+11]]+Ae[t[e+12]]+Ae[t[e+13]]+Ae[t[e+14]]+Ae[t[e+15]]).toLowerCase()}let oi;const sy=new Uint8Array(16);function oy(){if(!oi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oi=crypto.getRandomValues.bind(crypto)}return oi(sy)}const ly=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zl={randomUUID:ly};function be(t,e,r){var i;if(Zl.randomUUID&&!t)return Zl.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??oy();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ay(n)}var li,Wl;function Dn(){if(Wl)return li;Wl=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return li=e,li}var ui,Hl;function Jf(){if(Hl)return ui;Hl=1;function t(e,r){return function(n){return e(r(n))}}return ui=t,ui}var ci,zl;function uy(){if(zl)return ci;zl=1;var t=Jf(),e=t(Object.keys,Object);return ci=e,ci}var di,Gl;function Xf(){if(Gl)return di;Gl=1;var t=Dn(),e=uy(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return di=i,di}var fi,Kl;function eh(){if(Kl)return fi;Kl=1;var t=typeof nn=="object"&&nn&&nn.Object===Object&&nn;return fi=t,fi}var hi,Yl;function ut(){if(Yl)return hi;Yl=1;var t=eh(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return hi=r,hi}var pi,Jl;function lr(){if(Jl)return pi;Jl=1;var t=ut(),e=t.Symbol;return pi=e,pi}var mi,Xl;function cy(){if(Xl)return mi;Xl=1;var t=lr(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),u=s[i];try{s[i]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(o?s[i]=u:delete s[i]),d}return mi=a,mi}var vi,eu;function dy(){if(eu)return vi;eu=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return vi=r,vi}var yi,tu;function ur(){if(tu)return yi;tu=1;var t=lr(),e=cy(),r=dy(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return yi=s,yi}var gi,ru;function gt(){if(ru)return gi;ru=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return gi=t,gi}var _i,nu;function Go(){if(nu)return _i;nu=1;var t=ur(),e=gt(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==i||u==r||u==a}return _i=s,_i}var bi,iu;function fy(){if(iu)return bi;iu=1;var t=ut(),e=t["__core-js_shared__"];return bi=e,bi}var xi,au;function hy(){if(au)return xi;au=1;var t=fy(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return xi=r,xi}var Ci,su;function th(){if(su)return Ci;su=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ci=r,Ci}var Si,ou;function py(){if(ou)return Si;ou=1;var t=Go(),e=hy(),r=gt(),n=th(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,c=o.hasOwnProperty,d=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(y){if(!r(y)||e(y))return!1;var b=t(y)?d:a;return b.test(n(y))}return Si=f,Si}var wi,lu;function my(){if(lu)return wi;lu=1;function t(e,r){return e==null?void 0:e[r]}return wi=t,wi}var Ai,uu;function Zt(){if(uu)return Ai;uu=1;var t=py(),e=my();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Ai=r,Ai}var Ii,cu;function vy(){if(cu)return Ii;cu=1;var t=Zt(),e=ut(),r=t(e,"DataView");return Ii=r,Ii}var Ti,du;function Ko(){if(du)return Ti;du=1;var t=Zt(),e=ut(),r=t(e,"Map");return Ti=r,Ti}var Pi,fu;function yy(){if(fu)return Pi;fu=1;var t=Zt(),e=ut(),r=t(e,"Promise");return Pi=r,Pi}var ji,hu;function rh(){if(hu)return ji;hu=1;var t=Zt(),e=ut(),r=t(e,"Set");return ji=r,ji}var qi,pu;function gy(){if(pu)return qi;pu=1;var t=Zt(),e=ut(),r=t(e,"WeakMap");return qi=r,qi}var ki,mu;function Lr(){if(mu)return ki;mu=1;var t=vy(),e=Ko(),r=yy(),n=rh(),i=gy(),a=ur(),s=th(),o="[object Map]",u="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",y="[object DataView]",b=s(t),S=s(e),g=s(r),x=s(n),I=s(i),p=a;return(t&&p(new t(new ArrayBuffer(1)))!=y||e&&p(new e)!=o||r&&p(r.resolve())!=c||n&&p(new n)!=d||i&&p(new i)!=f)&&(p=function(A){var k=a(A),E=k==u?A.constructor:void 0,D=E?s(E):"";if(D)switch(D){case b:return y;case S:return o;case g:return c;case x:return d;case I:return f}return k}),ki=p,ki}var Ri,vu;function _t(){if(vu)return Ri;vu=1;function t(e){return e!=null&&typeof e=="object"}return Ri=t,Ri}var Oi,yu;function _y(){if(yu)return Oi;yu=1;var t=ur(),e=_t(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Oi=n,Oi}var Ei,gu;function Fn(){if(gu)return Ei;gu=1;var t=_y(),e=_t(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Ei=a,Ei}var Ni,_u;function Rt(){if(_u)return Ni;_u=1;var t=Array.isArray;return Ni=t,Ni}var Di,bu;function nh(){if(bu)return Di;bu=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Di=e,Di}var Fi,xu;function Br(){if(xu)return Fi;xu=1;var t=Go(),e=nh();function r(n){return n!=null&&e(n.length)&&!t(n)}return Fi=r,Fi}var _r={exports:{}},Qi,Cu;function by(){if(Cu)return Qi;Cu=1;function t(){return!1}return Qi=t,Qi}_r.exports;var Su;function Ur(){return Su||(Su=1,function(t,e){var r=ut(),n=by(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||n;t.exports=c}(_r,_r.exports)),_r.exports}var Mi,wu;function xy(){if(wu)return Mi;wu=1;var t=ur(),e=nh(),r=_t(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",y="[object RegExp]",b="[object Set]",S="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",I="[object DataView]",p="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",Q={};Q[p]=Q[A]=Q[k]=Q[E]=Q[D]=Q[R]=Q[V]=Q[U]=Q[B]=!0,Q[n]=Q[i]=Q[x]=Q[a]=Q[I]=Q[s]=Q[o]=Q[u]=Q[c]=Q[d]=Q[f]=Q[y]=Q[b]=Q[S]=Q[g]=!1;function N(M){return r(M)&&e(M.length)&&!!Q[t(M)]}return Mi=N,Mi}var Vi,Au;function Yo(){if(Au)return Vi;Au=1;function t(e){return function(r){return e(r)}}return Vi=t,Vi}var br={exports:{}};br.exports;var Iu;function Jo(){return Iu||(Iu=1,function(t,e){var r=eh(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(br,br.exports)),br.exports}var Li,Tu;function Qn(){if(Tu)return Li;Tu=1;var t=xy(),e=Yo(),r=Jo(),n=r&&r.isTypedArray,i=n?e(n):t;return Li=i,Li}var Bi,Pu;function Cy(){if(Pu)return Bi;Pu=1;var t=Xf(),e=Lr(),r=Fn(),n=Rt(),i=Br(),a=Ur(),s=Dn(),o=Qn(),u="[object Map]",c="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function y(b){if(b==null)return!0;if(i(b)&&(n(b)||typeof b=="string"||typeof b.splice=="function"||a(b)||o(b)||r(b)))return!b.length;var S=e(b);if(S==u||S==c)return!b.size;if(s(b))return!t(b).length;for(var g in b)if(f.call(b,g))return!1;return!0}return Bi=y,Bi}var Sy=Cy();const wt=$t(Sy);var Ui,ju;function wy(){if(ju)return Ui;ju=1;function t(){this.__data__=[],this.size=0}return Ui=t,Ui}var $i,qu;function $r(){if(qu)return $i;qu=1;function t(e,r){return e===r||e!==e&&r!==r}return $i=t,$i}var Zi,ku;function Mn(){if(ku)return Zi;ku=1;var t=$r();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Zi=e,Zi}var Wi,Ru;function Ay(){if(Ru)return Wi;Ru=1;var t=Mn(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Wi=n,Wi}var Hi,Ou;function Iy(){if(Ou)return Hi;Ou=1;var t=Mn();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Hi=e,Hi}var zi,Eu;function Ty(){if(Eu)return zi;Eu=1;var t=Mn();function e(r){return t(this.__data__,r)>-1}return zi=e,zi}var Gi,Nu;function Py(){if(Nu)return Gi;Nu=1;var t=Mn();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Gi=e,Gi}var Ki,Du;function Vn(){if(Du)return Ki;Du=1;var t=wy(),e=Ay(),r=Iy(),n=Ty(),i=Py();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ki=a,Ki}var Yi,Fu;function jy(){if(Fu)return Yi;Fu=1;var t=Vn();function e(){this.__data__=new t,this.size=0}return Yi=e,Yi}var Ji,Qu;function qy(){if(Qu)return Ji;Qu=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ji=t,Ji}var Xi,Mu;function ky(){if(Mu)return Xi;Mu=1;function t(e){return this.__data__.get(e)}return Xi=t,Xi}var ea,Vu;function Ry(){if(Vu)return ea;Vu=1;function t(e){return this.__data__.has(e)}return ea=t,ea}var ta,Lu;function Ln(){if(Lu)return ta;Lu=1;var t=Zt(),e=t(Object,"create");return ta=e,ta}var ra,Bu;function Oy(){if(Bu)return ra;Bu=1;var t=Ln();function e(){this.__data__=t?t(null):{},this.size=0}return ra=e,ra}var na,Uu;function Ey(){if(Uu)return na;Uu=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return na=t,na}var ia,$u;function Ny(){if($u)return ia;$u=1;var t=Ln(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return ia=i,ia}var aa,Zu;function Dy(){if(Zu)return aa;Zu=1;var t=Ln(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return aa=n,aa}var sa,Wu;function Fy(){if(Wu)return sa;Wu=1;var t=Ln(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return sa=r,sa}var oa,Hu;function Qy(){if(Hu)return oa;Hu=1;var t=Oy(),e=Ey(),r=Ny(),n=Dy(),i=Fy();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,oa=a,oa}var la,zu;function My(){if(zu)return la;zu=1;var t=Qy(),e=Vn(),r=Ko();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return la=n,la}var ua,Gu;function Vy(){if(Gu)return ua;Gu=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ua=t,ua}var ca,Ku;function Bn(){if(Ku)return ca;Ku=1;var t=Vy();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ca=e,ca}var da,Yu;function Ly(){if(Yu)return da;Yu=1;var t=Bn();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return da=e,da}var fa,Ju;function By(){if(Ju)return fa;Ju=1;var t=Bn();function e(r){return t(this,r).get(r)}return fa=e,fa}var ha,Xu;function Uy(){if(Xu)return ha;Xu=1;var t=Bn();function e(r){return t(this,r).has(r)}return ha=e,ha}var pa,ec;function $y(){if(ec)return pa;ec=1;var t=Bn();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return pa=e,pa}var ma,tc;function ih(){if(tc)return ma;tc=1;var t=My(),e=Ly(),r=By(),n=Uy(),i=$y();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ma=a,ma}var va,rc;function Zy(){if(rc)return va;rc=1;var t=Vn(),e=Ko(),r=ih(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<n-1)return u.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(a,s),this.size=o.size,this}return va=i,va}var ya,nc;function Xo(){if(nc)return ya;nc=1;var t=Vn(),e=jy(),r=qy(),n=ky(),i=Ry(),a=Zy();function s(o){var u=this.__data__=new t(o);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,ya=s,ya}var ga,ic;function Wy(){if(ic)return ga;ic=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return ga=t,ga}var _a,ac;function ah(){if(ac)return _a;ac=1;var t=Zt(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return _a=e,_a}var ba,sc;function el(){if(sc)return ba;sc=1;var t=ah();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return ba=e,ba}var xa,oc;function sh(){if(oc)return xa;oc=1;var t=el(),e=$r(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var u=a[s];(!(n.call(a,s)&&e(u,o))||o===void 0&&!(s in a))&&t(a,s,o)}return xa=i,xa}var Ca,lc;function Zr(){if(lc)return Ca;lc=1;var t=sh(),e=el();function r(n,i,a,s){var o=!a;a||(a={});for(var u=-1,c=i.length;++u<c;){var d=i[u],f=s?s(a[d],n[d],d,a,n):void 0;f===void 0&&(f=n[d]),o?e(a,d,f):t(a,d,f)}return a}return Ca=r,Ca}var Sa,uc;function Hy(){if(uc)return Sa;uc=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Sa=t,Sa}var wa,cc;function oh(){if(cc)return wa;cc=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return wa=r,wa}var Aa,dc;function lh(){if(dc)return Aa;dc=1;var t=Hy(),e=Fn(),r=Rt(),n=Ur(),i=oh(),a=Qn(),s=Object.prototype,o=s.hasOwnProperty;function u(c,d){var f=r(c),y=!f&&e(c),b=!f&&!y&&n(c),S=!f&&!y&&!b&&a(c),g=f||y||b||S,x=g?t(c.length,String):[],I=x.length;for(var p in c)(d||o.call(c,p))&&!(g&&(p=="length"||b&&(p=="offset"||p=="parent")||S&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||i(p,I)))&&x.push(p);return x}return Aa=u,Aa}var Ia,fc;function tl(){if(fc)return Ia;fc=1;var t=lh(),e=Xf(),r=Br();function n(i){return r(i)?t(i):e(i)}return Ia=n,Ia}var Ta,hc;function zy(){if(hc)return Ta;hc=1;var t=Zr(),e=tl();function r(n,i){return n&&t(i,e(i),n)}return Ta=r,Ta}var Pa,pc;function Gy(){if(pc)return Pa;pc=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return Pa=t,Pa}var ja,mc;function Ky(){if(mc)return ja;mc=1;var t=gt(),e=Dn(),r=Gy(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!t(s))return r(s);var o=e(s),u=[];for(var c in s)c=="constructor"&&(o||!i.call(s,c))||u.push(c);return u}return ja=a,ja}var qa,vc;function Wr(){if(vc)return qa;vc=1;var t=lh(),e=Ky(),r=Br();function n(i){return r(i)?t(i,!0):e(i)}return qa=n,qa}var ka,yc;function Yy(){if(yc)return ka;yc=1;var t=Zr(),e=Wr();function r(n,i){return n&&t(i,e(i),n)}return ka=r,ka}var xr={exports:{}};xr.exports;var gc;function uh(){return gc||(gc=1,function(t,e){var r=ut(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(c,d){if(d)return c.slice();var f=c.length,y=o?o(f):new c.constructor(f);return c.copy(y),y}t.exports=u}(xr,xr.exports)),xr.exports}var Ra,_c;function ch(){if(_c)return Ra;_c=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Ra=t,Ra}var Oa,bc;function Jy(){if(bc)return Oa;bc=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return Oa=t,Oa}var Ea,xc;function dh(){if(xc)return Ea;xc=1;function t(){return[]}return Ea=t,Ea}var Na,Cc;function rl(){if(Cc)return Na;Cc=1;var t=Jy(),e=dh(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return Na=a,Na}var Da,Sc;function Xy(){if(Sc)return Da;Sc=1;var t=Zr(),e=rl();function r(n,i){return t(n,e(n),i)}return Da=r,Da}var Fa,wc;function nl(){if(wc)return Fa;wc=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Fa=t,Fa}var Qa,Ac;function il(){if(Ac)return Qa;Ac=1;var t=Jf(),e=t(Object.getPrototypeOf,Object);return Qa=e,Qa}var Ma,Ic;function fh(){if(Ic)return Ma;Ic=1;var t=nl(),e=il(),r=rl(),n=dh(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return Ma=a,Ma}var Va,Tc;function eg(){if(Tc)return Va;Tc=1;var t=Zr(),e=fh();function r(n,i){return t(n,e(n),i)}return Va=r,Va}var La,Pc;function hh(){if(Pc)return La;Pc=1;var t=nl(),e=Rt();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return La=r,La}var Ba,jc;function ph(){if(jc)return Ba;jc=1;var t=hh(),e=rl(),r=tl();function n(i){return t(i,r,e)}return Ba=n,Ba}var Ua,qc;function tg(){if(qc)return Ua;qc=1;var t=hh(),e=fh(),r=Wr();function n(i){return t(i,r,e)}return Ua=n,Ua}var $a,kc;function rg(){if(kc)return $a;kc=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return $a=r,$a}var Za,Rc;function mh(){if(Rc)return Za;Rc=1;var t=ut(),e=t.Uint8Array;return Za=e,Za}var Wa,Oc;function al(){if(Oc)return Wa;Oc=1;var t=mh();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Wa=e,Wa}var Ha,Ec;function ng(){if(Ec)return Ha;Ec=1;var t=al();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Ha=e,Ha}var za,Nc;function ig(){if(Nc)return za;Nc=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return za=e,za}var Ga,Dc;function ag(){if(Dc)return Ga;Dc=1;var t=lr(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return Ga=n,Ga}var Ka,Fc;function vh(){if(Fc)return Ka;Fc=1;var t=al();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Ka=e,Ka}var Ya,Qc;function sg(){if(Qc)return Ya;Qc=1;var t=al(),e=ng(),r=ig(),n=ag(),i=vh(),a="[object Boolean]",s="[object Date]",o="[object Map]",u="[object Number]",c="[object RegExp]",d="[object Set]",f="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",I="[object Int8Array]",p="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function V(U,B,Q){var N=U.constructor;switch(B){case b:return t(U);case a:case s:return new N(+U);case S:return e(U,Q);case g:case x:case I:case p:case A:case k:case E:case D:case R:return i(U,Q);case o:return new N;case u:case f:return new N(U);case c:return r(U);case d:return new N;case y:return n(U)}}return Ya=V,Ya}var Ja,Mc;function og(){if(Mc)return Ja;Mc=1;var t=gt(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return Ja=r,Ja}var Xa,Vc;function yh(){if(Vc)return Xa;Vc=1;var t=og(),e=il(),r=Dn();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return Xa=n,Xa}var es,Lc;function lg(){if(Lc)return es;Lc=1;var t=Lr(),e=_t(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return es=n,es}var ts,Bc;function ug(){if(Bc)return ts;Bc=1;var t=lg(),e=Yo(),r=Jo(),n=r&&r.isMap,i=n?e(n):t;return ts=i,ts}var rs,Uc;function cg(){if(Uc)return rs;Uc=1;var t=Lr(),e=_t(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return rs=n,rs}var ns,$c;function dg(){if($c)return ns;$c=1;var t=cg(),e=Yo(),r=Jo(),n=r&&r.isSet,i=n?e(n):t;return ns=i,ns}var is,Zc;function fg(){if(Zc)return is;Zc=1;var t=Xo(),e=Wy(),r=sh(),n=zy(),i=Yy(),a=uh(),s=ch(),o=Xy(),u=eg(),c=ph(),d=tg(),f=Lr(),y=rg(),b=sg(),S=yh(),g=Rt(),x=Ur(),I=ug(),p=gt(),A=dg(),k=tl(),E=Wr(),D=1,R=2,V=4,U="[object Arguments]",B="[object Array]",Q="[object Boolean]",N="[object Date]",M="[object Error]",Y="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",ce="[object Number]",Se="[object Object]",Ie="[object RegExp]",Ue="[object Set]",ct="[object String]",xt="[object Symbol]",Dt="[object WeakMap]",$e="[object ArrayBuffer]",Ct="[object DataView]",Ze="[object Float32Array]",W="[object Float64Array]",oe="[object Int8Array]",we="[object Int16Array]",le="[object Int32Array]",ie="[object Uint8Array]",se="[object Uint8ClampedArray]",Fe="[object Uint16Array]",Qe="[object Uint32Array]",re={};re[U]=re[B]=re[$e]=re[Ct]=re[Q]=re[N]=re[Ze]=re[W]=re[oe]=re[we]=re[le]=re[ne]=re[ce]=re[Se]=re[Ie]=re[Ue]=re[ct]=re[xt]=re[ie]=re[se]=re[Fe]=re[Qe]=!0,re[M]=re[Y]=re[Dt]=!1;function dt(J,h,v,_,j,T){var C,L=h&D,H=h&R,_e=h&V;if(v&&(C=j?v(J,_,j,T):v(J)),C!==void 0)return C;if(!p(J))return J;var ve=g(J);if(ve){if(C=y(J),!L)return s(J,C)}else{var je=f(J),tn=je==Y||je==ee;if(x(J))return a(J,L);if(je==Se||je==U||tn&&!j){if(C=H||tn?{}:S(J),!L)return H?u(J,i(C,J)):o(J,n(C,J))}else{if(!re[je])return j?J:{};C=b(J,je,L)}}T||(T=new t);var Ht=T.get(J);if(Ht)return Ht;T.set(J,C),A(J)?J.forEach(function(We){C.add(dt(We,h,v,We,J,T))}):I(J)&&J.forEach(function(We,ft){C.set(ft,dt(We,h,v,ft,J,T))});var pr=_e?H?d:c:H?E:k,rn=ve?void 0:pr(J);return e(rn||J,function(We,ft){rn&&(ft=We,We=J[ft]),r(C,ft,dt(We,h,v,ft,J,T))}),C}return is=dt,is}var as,Wc;function hg(){if(Wc)return as;Wc=1;var t=fg(),e=1,r=4;function n(i){return t(i,e|r)}return as=n,as}var pg=hg();const It=$t(pg);var ss,Hc;function gh(){if(Hc)return ss;Hc=1;var t=el(),e=$r();function r(n,i,a){(a!==void 0&&!e(n[i],a)||a===void 0&&!(i in n))&&t(n,i,a)}return ss=r,ss}var os,zc;function mg(){if(zc)return os;zc=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),u=o.length;u--;){var c=o[e?u:++a];if(n(s[c],c,s)===!1)break}return r}}return os=t,os}var ls,Gc;function vg(){if(Gc)return ls;Gc=1;var t=mg(),e=t();return ls=e,ls}var us,Kc;function _h(){if(Kc)return us;Kc=1;var t=Br(),e=_t();function r(n){return e(n)&&t(n)}return us=r,us}var cs,Yc;function yg(){if(Yc)return cs;Yc=1;var t=ur(),e=il(),r=_t(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,u=s.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var y=o.call(f,"constructor")&&f.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==u}return cs=c,cs}var ds,Jc;function bh(){if(Jc)return ds;Jc=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return ds=t,ds}var fs,Xc;function gg(){if(Xc)return fs;Xc=1;var t=Zr(),e=Wr();function r(n){return t(n,e(n))}return fs=r,fs}var hs,ed;function _g(){if(ed)return hs;ed=1;var t=gh(),e=uh(),r=vh(),n=ch(),i=yh(),a=Fn(),s=Rt(),o=_h(),u=Ur(),c=Go(),d=gt(),f=yg(),y=Qn(),b=bh(),S=gg();function g(x,I,p,A,k,E,D){var R=b(x,p),V=b(I,p),U=D.get(V);if(U){t(x,p,U);return}var B=E?E(R,V,p+"",x,I,D):void 0,Q=B===void 0;if(Q){var N=s(V),M=!N&&u(V),Y=!N&&!M&&y(V);B=V,N||M||Y?s(R)?B=R:o(R)?B=n(R):M?(Q=!1,B=e(V,!0)):Y?(Q=!1,B=r(V,!0)):B=[]:f(V)||a(V)?(B=R,a(R)?B=S(R):(!d(R)||c(R))&&(B=i(V))):Q=!1}Q&&(D.set(V,B),k(B,V,A,E,D),D.delete(V)),t(x,p,B)}return hs=g,hs}var ps,td;function bg(){if(td)return ps;td=1;var t=Xo(),e=gh(),r=vg(),n=_g(),i=gt(),a=Wr(),s=bh();function o(u,c,d,f,y){u!==c&&r(c,function(b,S){if(y||(y=new t),i(b))n(u,c,S,d,o,f,y);else{var g=f?f(s(u,S),b,S+"",u,c,y):void 0;g===void 0&&(g=b),e(u,S,g)}},a)}return ps=o,ps}var ms,rd;function xh(){if(rd)return ms;rd=1;function t(e){return e}return ms=t,ms}var vs,nd;function xg(){if(nd)return vs;nd=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return vs=t,vs}var ys,id;function Cg(){if(id)return ys;id=1;var t=xg(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,u=e(s.length-i,0),c=Array(u);++o<u;)c[o]=s[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=s[o];return d[i]=a(c),t(n,this,d)}}return ys=r,ys}var gs,ad;function Sg(){if(ad)return gs;ad=1;function t(e){return function(){return e}}return gs=t,gs}var _s,sd;function wg(){if(sd)return _s;sd=1;var t=Sg(),e=ah(),r=xh(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return _s=n,_s}var bs,od;function Ag(){if(od)return bs;od=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),u=e-(o-s);if(s=o,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return bs=n,bs}var xs,ld;function Ig(){if(ld)return xs;ld=1;var t=wg(),e=Ag(),r=e(t);return xs=r,xs}var Cs,ud;function Ch(){if(ud)return Cs;ud=1;var t=xh(),e=Cg(),r=Ig();function n(i,a){return r(e(i,a,t),i+"")}return Cs=n,Cs}var Ss,cd;function Tg(){if(cd)return Ss;cd=1;var t=$r(),e=Br(),r=oh(),n=gt();function i(a,s,o){if(!n(o))return!1;var u=typeof s;return(u=="number"?e(o)&&r(s,o.length):u=="string"&&s in o)?t(o[s],a):!1}return Ss=i,Ss}var ws,dd;function Pg(){if(dd)return ws;dd=1;var t=Ch(),e=Tg();function r(n){return t(function(i,a){var s=-1,o=a.length,u=o>1?a[o-1]:void 0,c=o>2?a[2]:void 0;for(u=n.length>3&&typeof u=="function"?(o--,u):void 0,c&&e(a[0],a[1],c)&&(u=o<3?void 0:u,o=1),i=Object(i);++s<o;){var d=a[s];d&&n(i,d,s,u)}return i})}return ws=r,ws}var As,fd;function jg(){if(fd)return As;fd=1;var t=bg(),e=Pg(),r=e(function(n,i,a){t(n,i,a)});return As=r,As}var qg=jg();const kg=$t(qg);var Is,hd;function Rg(){if(hd)return Is;hd=1;var t=lr(),e=Fn(),r=Rt(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Is=i,Is}var Ts,pd;function Og(){if(pd)return Ts;pd=1;var t=nl(),e=Rg();function r(n,i,a,s,o){var u=-1,c=n.length;for(a||(a=e),o||(o=[]);++u<c;){var d=n[u];i>0&&a(d)?i>1?r(d,i-1,a,s,o):t(o,d):s||(o[o.length]=d)}return o}return Ts=r,Ts}var Ps,md;function Eg(){if(md)return Ps;md=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Ps=e,Ps}var js,vd;function Ng(){if(vd)return js;vd=1;function t(e){return this.__data__.has(e)}return js=t,js}var qs,yd;function Sh(){if(yd)return qs;yd=1;var t=ih(),e=Eg(),r=Ng();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,qs=n,qs}var ks,gd;function Dg(){if(gd)return ks;gd=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return ks=t,ks}var Rs,_d;function Fg(){if(_d)return Rs;_d=1;function t(e){return e!==e}return Rs=t,Rs}var Os,bd;function Qg(){if(bd)return Os;bd=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Os=t,Os}var Es,xd;function Mg(){if(xd)return Es;xd=1;var t=Dg(),e=Fg(),r=Qg();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Es=n,Es}var Ns,Cd;function Vg(){if(Cd)return Ns;Cd=1;var t=Mg();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Ns=e,Ns}var Ds,Sd;function Lg(){if(Sd)return Ds;Sd=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Ds=t,Ds}var Fs,wd;function wh(){if(wd)return Fs;wd=1;function t(e,r){return e.has(r)}return Fs=t,Fs}var Qs,Ad;function Bg(){if(Ad)return Qs;Ad=1;function t(){}return Qs=t,Qs}var Ms,Id;function sl(){if(Id)return Ms;Id=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Ms=t,Ms}var Vs,Td;function Ug(){if(Td)return Vs;Td=1;var t=rh(),e=Bg(),r=sl(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Vs=i,Vs}var Ls,Pd;function $g(){if(Pd)return Ls;Pd=1;var t=Sh(),e=Vg(),r=Lg(),n=wh(),i=Ug(),a=sl(),s=200;function o(u,c,d){var f=-1,y=e,b=u.length,S=!0,g=[],x=g;if(d)S=!1,y=r;else if(b>=s){var I=c?null:i(u);if(I)return a(I);S=!1,y=n,x=new t}else x=c?[]:g;e:for(;++f<b;){var p=u[f],A=c?c(p):p;if(p=d||p!==0?p:0,S&&A===A){for(var k=x.length;k--;)if(x[k]===A)continue e;c&&x.push(A),g.push(p)}else y(x,A,d)||(x!==g&&x.push(A),g.push(p))}return g}return Ls=o,Ls}var Bs,jd;function Zg(){if(jd)return Bs;jd=1;var t=Og(),e=Ch(),r=$g(),n=_h(),i=e(function(a){return r(t(a,1,n,!0))});return Bs=i,Bs}var Wg=Zg();const Hg=$t(Wg),At=t=>!Object.keys(t).length||wt(t==null?void 0:t.content),Ah=t=>!At(t),Hr=t=>!zg(t),zg=t=>isNaN(t),Gg=t=>t.content.value&&t.content.value.some(e=>e==null?void 0:e.toString().startsWith(iy)),Kg=t=>!!t.content.isUploadedList,Yg=t=>!!t.content.remoteComponent,cr=t=>typeof t=="object"&&Ah(t)&&"op"in t&&Object.values(Le).includes(t.op),Jg=t=>t.content.value.every(e=>["false","true"].includes(e.toString().toLowerCase())),Xg=t=>t.op===$l.In?!1:t.op in $l,e_=t=>!!t.title,tr=(t=be())=>({id:t,content:[],op:Le.And}),Tr=t=>{let e=t;const r=t.filter(i=>At(i)),n=t.filter(i=>Ah(i));if(r.length){const i=r[0];e=[...n,i]}return It(e)},Ih=(t,e)=>{const r=(a,s)=>s.filter(o=>o!==a).map(o=>Hr(o)&&typeof o=="number"&&o>a?o-1:o),n=e.filter((a,s)=>s!==t).map(a=>At(a)?a:{...a,content:r(t,a.content)}),i=n.filter(a=>wt(a.content));return i.length?Ih(n.findIndex(a=>a.id==i[0].id),n):n},qd=(t,e)=>{var i,a,s,o;const r=e.getRawQueries(),n=e.getState().activeQueryId;if(r.length===1)e.resetQueries(t);else{const u=e.getQueryIndex(t),c=Tr(Ih(u,r));if(c.length){const d=t_(c,u),f=c[d];let y=e.getSelectedQueryIndexes();y.includes(u)&&(y=y.filter(g=>g!==u).map(g=>g>u?g-1:g),(a=(i=e.coreProps).onQuerySelectChange)==null||a.call(i,y));const b=c.find(g=>g.id===n),S={activeQueryId:b?n:f.id,queries:c,selectedQueryIndexes:y};b||(o=(s=e.coreProps).onActiveQueryChange)==null||o.call(s,f),e.setState(g=>({...g,...S}))}else e.resetQueries(t)}},t_=(t,e)=>t.length-1>=e?e:e+1>t.length-1?e-1<t.length&&e-1>=0?e-1:t.length-1:e+1,Th=(t,e)=>({...e,content:e.content.map(r=>cr(r)&&!r.skipBooleanOperatorCheck?Th(t,r):r),op:t}),Ph=(t,e)=>({...e,content:e.content.filter(function r(n){return Hr(n)?!0:cr(n)?n.content.filter(r).length>0:n.content.field!==t})}),r_=({sqon:t,field:e,index:r,isUploadedList:n,merge_strategy:i=er.APPEND_VALUES,operator:a=dn.In,overrideValuesName:s,remoteComponent:o,value:u})=>{let c;const d={content:{field:e,index:r,isUploadedList:n,overrideValuesName:s,remoteComponent:o,value:u},op:a};return wt(t)?(c=tr(),c.content=[d]):c=n_(t,d,{operator:Nn.OVERRIDE_OPERATOR,values:i}),c},n_=(t,e,r)=>{const n=It(t);return r=kg({},{operator:Nn.DEFAULT,values:er.DEFAULT},r),jh(n,e,r)?n:{...n,content:[...n.content,e]}},jh=(t,e,r)=>{let n=!1;return t.content.forEach(i=>{if(Hr(i)||i.title)return;const a=i;if(cr(a)){n=jh(a,e,r);return}const s=a;s.content.field===e.content.field&&(n=!0,e.content.overrideValuesName&&(s.content.overrideValuesName=e.content.overrideValuesName),e.op&&r.operator!==Nn.KEEP_OPERATOR&&(s.op=e.op),r.values===er.APPEND_VALUES&&(s.content.value=Hg([],s.content.value,e.content.value)),r.values===er.OVERRIDE_VALUES&&(s.content.value=e.content.value))}),n},i_=(t,e)=>{const r=e.content,n=typeof t=="number"?r.filter(i=>i!==t):r.filter(i=>{if(typeof i=="number")return!0;const a=i,{skipBooleanOperatorCheck:s}=a,o=s&&a.content[0].content.field!==t,u=i.content.field!==t;return s?o:u});return{...e,content:n,op:e.op}},a_=(t,e)=>{const n=e.content.filter(i=>i.id!==t);return{...e,content:n,op:e.op}},qh=(t,e)=>cr(e)?e.content.reduce((r,n)=>r||qh(t,n),!1):typeof e=="number"&&e===t,s_=(t,e)=>It(t).map(n=>{const i=n.content.map(a=>a.id===e.id?{id:e.id,content:e.queries[0].content,op:a.op,title:e.title}:a);return{...n,content:i}}),kh=t=>It(t).map(n=>{const i=n.content.map(a=>a.hasOwnProperty("title")&&a.id?{filterID:a.id}:a);return{...n,content:i}}),o_=(t,e)=>{let r=-1;const n=t.content.filter((i,a)=>{if(Hr(i))return!0;const s=i,{skipBooleanOperatorCheck:o}=s,u=o&&s.content.find(c=>c.content.field===e);return(u||i.content.field==e)&&(r=a),o?!u:i.content.field!==e});return[r,{...t,content:n}]},l_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]),u_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]);function Rh(t="New Filter"){const e=be(),r={id:be(),queries:[tr(e)],title:t,favorite:!1,isDirty:!1,isNew:!0};return{newActiveQueryId:e,newSavedFilter:r}}var Wt=(t=>(t.Filter="filter",t.Query="query",t))(Wt||{});const Oh=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,index:()=>e.getState().queries.findIndex(a=>a.id===n),isActive:()=>e.getState().activeQueryId===n,isEmpty:()=>At(t),isNotEmpty:()=>!At(t),toggleSelect:a=>{var u,c;const s=e.getQueryIndex(n);let o=[];a?o=[...e.getState().selectedQueryIndexes,s]:o=e.getState().selectedQueryIndexes.filter(d=>d!==s),e.setState(d=>({...d,selectedQueryIndexes:o})),(c=(u=e.coreProps).onQuerySelectChange)==null||c.call(u,o)},isSelected:()=>e.getState().selectedQueryIndexes.includes(e.getQueryIndex(n)),isSelectable:()=>{const a=e.getState().queries;return a.length===2&&e.hasEmptyQuery()?!1:a.length>1&&r.isNotEmpty()},saveAsCustomPill:async a=>{var o,u;const s={favorite:!1,id:be(),queries:[r.raw()],title:a,type:Wt.Query};return Promise.resolve((u=(o=e.coreProps).onCustomPillSave)==null?void 0:u.call(o,s)).then(()=>r.update({...r.raw(),content:[{id:s.id,op:s.queries[0].op,content:s.queries[0].content,title:s.title}]}))},delete:()=>{var a,s;qd(n,e),(s=(a=e.coreProps).onQueryDelete)==null||s.call(a,n)},update:a=>{var s,o;if(wt(a.content))qd(n,e);else{const u=e.getQueryIndex(n),c=It(e.getRawQueries()),d={...a,id:n,content:a.content,op:a.op};c[u]=d,e.setState(f=>({...f,queries:Tr(c)})),(o=(s=e.coreProps).onQueryUpdate)==null||o.call(s,d)}},duplicate:()=>{const a=e.getQuery(n);a&&e.createQuery({op:a.raw().op,content:a.raw().content})},setAsActive:()=>{var a,s;e.setState(o=>({...o,activeQueryId:n})),(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,r.raw())},changeCombineOperator:a=>{var d,f;const s=It(e.getRawQueries()),o=e.getQueryIndex(n),u=s[o],c=Th(a,u);s[o]={...u,content:c.content,op:c.op},e.setState(y=>({...y,queries:Tr(s)})),(f=(d=e.coreProps).onActiveQueryChange)==null||f.call(d,s[o])},addPill:a=>{r.update({...t,content:[...t.content,a]})},removePillById:a=>{r.update(a_(a,t))},removePillByFieldOrIndex:a=>{r.update(i_(a,t))},isReferencedInActiveQuery:()=>{const a=e.getActiveQuery();return a?qh(r.index(),a.raw()):!1},hasCustomPill:()=>r.raw().content.some(a=>a.title||!a.content)}),r};var Us,kd;function c_(){if(kd)return Us;kd=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Us=t,Us}var $s,Rd;function Eh(){if(Rd)return $s;Rd=1;var t=Sh(),e=c_(),r=wh(),n=1,i=2;function a(s,o,u,c,d,f){var y=u&n,b=s.length,S=o.length;if(b!=S&&!(y&&S>b))return!1;var g=f.get(s),x=f.get(o);if(g&&x)return g==o&&x==s;var I=-1,p=!0,A=u&i?new t:void 0;for(f.set(s,o),f.set(o,s);++I<b;){var k=s[I],E=o[I];if(c)var D=y?c(E,k,I,o,s,f):c(k,E,I,s,o,f);if(D!==void 0){if(D)continue;p=!1;break}if(A){if(!e(o,function(R,V){if(!r(A,V)&&(k===R||d(k,R,u,c,f)))return A.push(V)})){p=!1;break}}else if(!(k===E||d(k,E,u,c,f))){p=!1;break}}return f.delete(s),f.delete(o),p}return $s=a,$s}var Zs,Od;function d_(){if(Od)return Zs;Od=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return Zs=t,Zs}var Ws,Ed;function f_(){if(Ed)return Ws;Ed=1;var t=lr(),e=mh(),r=$r(),n=Eh(),i=d_(),a=sl(),s=1,o=2,u="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",y="[object Number]",b="[object RegExp]",S="[object Set]",g="[object String]",x="[object Symbol]",I="[object ArrayBuffer]",p="[object DataView]",A=t?t.prototype:void 0,k=A?A.valueOf:void 0;function E(D,R,V,U,B,Q,N){switch(V){case p:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case I:return!(D.byteLength!=R.byteLength||!Q(new e(D),new e(R)));case u:case c:case y:return r(+D,+R);case d:return D.name==R.name&&D.message==R.message;case b:case g:return D==R+"";case f:var M=i;case S:var Y=U&s;if(M||(M=a),D.size!=R.size&&!Y)return!1;var ee=N.get(D);if(ee)return ee==R;U|=o,N.set(D,R);var ne=n(M(D),M(R),U,B,Q,N);return N.delete(D),ne;case x:if(k)return k.call(D)==k.call(R)}return!1}return Ws=E,Ws}var Hs,Nd;function h_(){if(Nd)return Hs;Nd=1;var t=ph(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,u,c,d){var f=o&e,y=t(a),b=y.length,S=t(s),g=S.length;if(b!=g&&!f)return!1;for(var x=b;x--;){var I=y[x];if(!(f?I in s:n.call(s,I)))return!1}var p=d.get(a),A=d.get(s);if(p&&A)return p==s&&A==a;var k=!0;d.set(a,s),d.set(s,a);for(var E=f;++x<b;){I=y[x];var D=a[I],R=s[I];if(u)var V=f?u(R,D,I,s,a,d):u(D,R,I,a,s,d);if(!(V===void 0?D===R||c(D,R,o,u,d):V)){k=!1;break}E||(E=I=="constructor")}if(k&&!E){var U=a.constructor,B=s.constructor;U!=B&&"constructor"in a&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof B=="function"&&B instanceof B)&&(k=!1)}return d.delete(a),d.delete(s),k}return Hs=i,Hs}var zs,Dd;function p_(){if(Dd)return zs;Dd=1;var t=Xo(),e=Eh(),r=f_(),n=h_(),i=Lr(),a=Rt(),s=Ur(),o=Qn(),u=1,c="[object Arguments]",d="[object Array]",f="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function S(g,x,I,p,A,k){var E=a(g),D=a(x),R=E?d:i(g),V=D?d:i(x);R=R==c?f:R,V=V==c?f:V;var U=R==f,B=V==f,Q=R==V;if(Q&&s(g)){if(!s(x))return!1;E=!0,U=!1}if(Q&&!U)return k||(k=new t),E||o(g)?e(g,x,I,p,A,k):r(g,x,R,I,p,A,k);if(!(I&u)){var N=U&&b.call(g,"__wrapped__"),M=B&&b.call(x,"__wrapped__");if(N||M){var Y=N?g.value():g,ee=M?x.value():x;return k||(k=new t),A(Y,ee,I,p,k)}}return Q?(k||(k=new t),n(g,x,I,p,A,k)):!1}return zs=S,zs}var Gs,Fd;function m_(){if(Fd)return Gs;Fd=1;var t=p_(),e=_t();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return Gs=r,Gs}var Ks,Qd;function v_(){if(Qd)return Ks;Qd=1;var t=m_();function e(r,n){return t(r,n)}return Ks=e,Ks}var y_=v_();const g_=$t(y_),__=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,getQueries:()=>t.queries&&t.queries.length>0?t.queries.map(a=>Oh(a,e)):[],getRawQueries:()=>t.queries,getQueryById:a=>r.getQueries().find(s=>s.id===a)||null,duplicate:()=>{var a,s;if(r.isSelected()){const o=r.getRawQueries().map(c=>({...c,id:be()})),u={favorite:!1,id:be(),queries:o,title:`${r.raw().title||""} COPY`,isDirty:!1,isNew:!0};e.setState(c=>({...c,activeQueryId:u.queries[0].id,queries:o,savedFilters:[...c.savedFilters,u]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,u)}else console.error("Can only duplicate the selected saved filter")},delete:async()=>{var a,s;return Promise.resolve((s=(a=e.coreProps).onSavedFilterDelete)==null?void 0:s.call(a,n)).then(()=>{var c,d;const{newActiveQueryId:o,newSavedFilter:u}=Rh();e.setState(f=>({...f,activeQueryId:o,queries:u.queries,savedFilters:[...f.savedFilters.filter(y=>y.id!==n),u]})),(d=(c=e.coreProps).onSavedFilterCreate)==null||d.call(c,u)})},save:async(a,s)=>{var c,d,f,y;const o={...r.raw(),title:(s==null?void 0:s.title)||r.raw().title,favorite:(s==null?void 0:s.favorite)!==void 0?s.favorite:r.raw().favorite,type:a,queries:e.getRawQueries()};return a===Wt.Query?Promise.resolve((d=(c=e.coreProps).onCustomPillUpdate)==null?void 0:d.call(c,o)).then(()=>{}):Promise.resolve((y=(f=e.coreProps).onSavedFilterUpdate)==null?void 0:y.call(f,{...o,queries:kh(o.queries)})).then(()=>e.setState(b=>({...b,savedFilters:b.savedFilters.map(S=>S.id===n?{...o,isNew:!1,isDirty:!1}:S)})))},select:()=>{e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries}))},discardChanges:()=>{r.isSelected()?e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries})):console.error("Can only discard changes to the selected saved filter")},hasQueries:()=>r.getQueries().length>0,isSelected:()=>{const a=e.getState().queries.map(s=>s.id);return t.queries.find(s=>a.includes(s.id))!==void 0},isFavorite:()=>t.favorite||!1,isNew:()=>t.isNew||!1,isDirty:()=>!r.isSelected()||t.isNew?!1:t.isDirty||e.getRawQueries().length!==t.queries.length?!0:!t.queries.every(a=>{const s=e.getRawQueries().find(o=>o.id==a.id);return s?g_({content:s.content,id:s.id,op:s.op},{content:a.content,id:a.id,op:a.op}):!1})}),r},Nh=()=>{const t=be();return{activeQueryId:t,queries:[tr(t)],savedFilters:[],selectedQueryIndexes:[]}},b_=t=>{const e={};return Object.assign(e,{coreProps:t,setCoreProps:n=>{e.coreProps=n(e.coreProps)},setState:n=>{var i,a;(a=(i=e.coreProps).onStateChange)==null||a.call(i,n(e.coreProps.state))},getState:()=>e.coreProps.state,reset:()=>{e.setState(()=>e.coreProps.initialState)},clearQueries:()=>{const n=be(),i=tr(n);e.setState(a=>({...a,activeQueryId:n,queries:[i]}))},saveNewFilter:async n=>{var a,s;const i={id:be(),title:(n==null?void 0:n.title)||e.coreProps.savedFilterDefaultTitle||"New Filter",favorite:(n==null?void 0:n.favorite)===void 0?!1:n.favorite,queries:e.getRawQueries()};return Promise.resolve((s=(a=e.coreProps).onSavedFilterSave)==null?void 0:s.call(a,{...i,queries:kh(i.queries)})).then(()=>e.setState(o=>({...o,savedFilters:[...o.savedFilters,{...i,isNew:!1,isDirty:!1}]})))},createSavedFilter:()=>{var a,s;const{newActiveQueryId:n,newSavedFilter:i}=Rh();e.setState(o=>({...o,activeQueryId:n,queries:i.queries,savedFilters:[...o.savedFilters,i]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,i)},getSelectedSavedFilter:()=>e.getActiveQuery()&&e.getSavedFilters().find(i=>i.isSelected()&&!i.isNew())||null,getSavedFilters:()=>e.coreProps.state.savedFilters&&e.coreProps.state.savedFilters.length>0?e.coreProps.state.savedFilters.map(n=>__(n,e)).filter(n=>!n.isNew()):[],getQueries:()=>e.coreProps.state.queries&&e.coreProps.state.queries.length>0?e.coreProps.state.queries.map(n=>Oh(n,e)):[],getRawQueries:()=>e.coreProps.state.queries||[],getSelectedQueryIndexes:()=>e.getState().selectedQueryIndexes,toggleQuerySelect:(n,i)=>{var a;(a=e.getQuery(n))==null||a.toggleSelect(i)},resetQuerySelection:()=>{var n,i;e.setState(a=>({...a,selectedQueryIndexes:[]})),(i=(n=e.coreProps).onQuerySelectChange)==null||i.call(n,[])},createQuery:({id:n=be(),op:i=Le.And,content:a})=>{var o,u,c,d;const s={id:n,op:i,content:a};return e.setState(f=>({...f,activeQueryId:s.id,queries:Tr([...e.getRawQueries(),s])})),(u=(o=e.coreProps).onActiveQueryChange)==null||u.call(o,s),(d=(c=e.coreProps).onQueryCreate)==null||d.call(c,s),s.id},getQuery:n=>e.getQueries().find(i=>i.id===n)||null,setActiveQuery:n=>{var i;(i=e.getQuery(n))==null||i.setAsActive()},getActiveQuery:()=>e.coreProps.state.activeQueryId?e.getQuery(e.coreProps.state.activeQueryId):null,getQueryIndex:n=>{const i=e.getQuery(n);return i?i.index():-1},updateQuery:(n,i)=>{var a;(a=e.getQuery(n))==null||a.update(i)},duplicateQuery:n=>{var i;(i=e.getQuery(n))==null||i.duplicate()},deleteQuery:n=>{var i;(i=e.getQuery(n))==null||i.delete()},changeQueryCombineOperator:(n,i)=>{var a;(a=e.getQuery(n))==null||a.changeCombineOperator(i)},hasEmptyQuery:()=>e.getQueries().some(n=>n.isEmpty()),hasQueries:()=>e.getQueries().length>0,canCombine:()=>e.getQueries().length>1&&e.getSelectedQueryIndexes().length>1,resetQueries:n=>{var a,s;const i=tr(n);(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,i),e.setState(o=>({...o,activeQueryId:n,queries:[i]}))},combineSelectedQueries:n=>{var s,o,u,c;if(!e.canCombine()){console.error("Cannot combine queries. There must be at least 2 queries selected.");return}const i={id:be(),op:n,content:e.getSelectedQueryIndexes().sort()},a=[];e.setState(d=>({...d,activeQueryId:i.id,queries:Tr([...d.queries,i]),selectedQueryIndexes:a})),(o=(s=e.coreProps).onQueryCreate)==null||o.call(s,i),(c=(u=e.coreProps).onQuerySelectChange)==null||c.call(u,a)},isEmpty:()=>e.getQueries().length===1&&e.getQueries()[0].isEmpty()}),e},Ao="QBCacheUpdate",Dh="query-builder-cache";var Io=(t=>(t.ADD_QUERY="ADD_QUERY",t.UPDATE_QUERY="UPDATE_QUERY",t.SET_STATE="SET_STATE",t))(Io||{});class x_ extends Event{constructor(r){super(Ao);mr(this,"eventData");mr(this,"eventType");mr(this,"value");mr(this,"queryBuilderId");this.eventType=r.eventType,this.queryBuilderId=r.queryBuilderId,this.value=r.value,this.eventData=r.eventData}}const Un=(t,{eventType:e,eventData:r,value:n,skipEvent:i})=>{if(window.localStorage.setItem(`${Dh}-${t}`,JSON.stringify(n)),!i){const a=new x_({queryBuilderId:t,value:n,eventType:e,eventData:r});window.dispatchEvent(a)}},To=t=>{const e=Nh();return Un(t,{value:e,eventType:"SET_STATE",eventData:e}),e},$n=t=>{if(typeof window<"u"){const e=window.localStorage.getItem(`${Dh}-${t}`);if(!e)return To(t);try{return JSON.parse(e)}catch{return To(t)}}else return{}},C_=(t,e,r=!1)=>{const n=$n(t),i=(n==null?void 0:n.queries)??[],a=i.find(o=>At(o)),s=i.find(o=>o.id===n.activeQueryId&&At(o));Un(t,{eventType:"ADD_QUERY",eventData:e,value:{activeQueryId:r||s?e.id:(n==null?void 0:n.activeQueryId)??e.id,queries:a?i.map(o=>At(o)?e:o):[...i,e]}})},zr=t=>{var r;const e=$n(t);return((r=e==null?void 0:e.queries)==null?void 0:r.find(({id:n})=>n===e.activeQueryId))??tr()},dr=(t,e)=>{var i;const r=$n(t),n=(i=r==null?void 0:r.queries)==null?void 0:i.find(({id:a})=>a===e.id);if(n)n.content=e.content,n.op=e.op;else throw new Error(`Query with id ${e.id} not found`);Un(t,{eventType:"UPDATE_QUERY",eventData:n,value:r})},S_=(t,{field:e,index:r,isUploadedList:n,merge_strategy:i=er.APPEND_VALUES,operator:a=dn.In,overrideValuesName:s,remoteComponent:o,value:u})=>{const c=Qt.getActiveQuery(t);dr(t,wt(u)?Ph(e,c):r_({sqon:c,field:e,index:r,isUploadedList:n,merge_strategy:i,operator:a,overrideValuesName:s,remoteComponent:o,value:u}))},w_=(t,e)=>dr(t,Fh(t,{field:e.filterGroup.field,operator:e.operator,sqonContent:u_(e.filterGroup,e.selectedFilters,e.index)})),Fh=(t,{field:e,operator:r=Le.And,sqonContent:n})=>{const i=zr(t);let a={id:be(),content:n,op:r};if(!wt(i)){const s=o_(i,e),o=s[0],u=s[1],c={...u};wt(c.content)&&wt(i)?a={id:be(),content:[],op:r}:(o>=0?c.content.splice(o,0,...n):c.content=[...c.content,...n],a={...c,content:[...c.content]},u.content.length===0&&(a.op=r))}return a},A_=(t,e)=>dr(t,e.selectedFilters.length>0?Fh(t,{field:e.field,sqonContent:l_(e.field,e.selectedFilters)}):Ph(e.field,zr(t))),I_=(t,e)=>{const r=zr(t);dr(t,{...r,content:[...r.content,e]})},T_=(t,e)=>{const r=zr(t);r.content=r.content.filter(n=>n.id!==e).filter(n=>n!==void 0),dr(t,r)},Qt={addQuery:C_,updateQuery:dr,getActiveQuery:zr,updateActiveQueryField:S_,updateActiveQueryFilters:w_,updateQueryByTableFilter:A_,addPillToActiveQuery:I_,removePillFromActiveQuery:T_,setLocalQueryBuilderState:Un,getLocalQueryBuilderState:$n,setDefaultLocalQueryBuilderState:To};function Qh(t){const e={state:{...Nh(),savedFilters:[],selectedQueryIndexes:[]},onStateChange:()=>{},...t},[r]=m.useState(()=>({current:b_(e)})),[n,i]=m.useState(()=>e.initialState||e.state);return m.useEffect(()=>{var a;n&&((a=t.onStateChange)==null||a.call(t,n))},[n]),m.useEffect(()=>{const a=s=>{var o,u,c,d;if(s.queryBuilderId===t.id){if(s.eventType===Io.ADD_QUERY){const f=s.eventData;(o=t.onQueryCreate)==null||o.call(t,f),f.id===s.value.activeQueryId&&((u=t.onActiveQueryChange)==null||u.call(t,f))}else if(s.eventType===Io.UPDATE_QUERY){const f=s.eventData;(c=t.onQueryUpdate)==null||c.call(t,f),f.id===s.value.activeQueryId&&((d=t.onActiveQueryChange)==null||d.call(t,f))}i(f=>({...f,...t.state,...s.value}))}};return window.addEventListener(Ao,a),()=>{window.removeEventListener(Ao,a)}},[t.state]),r.current.setCoreProps(a=>({savedFilterDefaultTitle:"Untitled filter",...a,...t,state:{...n,...t.state},onStateChange:s=>{i(s),Qt.setLocalQueryBuilderState(t.id,{value:s,skipEvent:!0})}})),r.current}var ol="Collapsible",[P_,Mh]=Tn(ol),[j_,ll]=P_(ol),Vh=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[u=!1,c]=Xt({prop:n,defaultProp:i,onChange:s});return l.jsx(j_,{scope:r,disabled:a,contentId:sr(),open:u,onOpenToggle:m.useCallback(()=>c(d=>!d),[c]),children:l.jsx(xe.div,{"data-state":cl(u),"data-disabled":a?"":void 0,...o,ref:e})})});Vh.displayName=ol;var Lh="CollapsibleTrigger",Bh=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=ll(Lh,r);return l.jsx(xe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":cl(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:fe(t.onClick,i.onOpenToggle)})});Bh.displayName=Lh;var ul="CollapsibleContent",Uh=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ll(ul,t.__scopeCollapsible);return l.jsx($o,{present:r||i.open,children:({present:a})=>l.jsx(q_,{...n,ref:e,present:a})})});Uh.displayName=ul;var q_=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=ll(ul,r),[o,u]=m.useState(n),c=m.useRef(null),d=Ee(e,c),f=m.useRef(0),y=f.current,b=m.useRef(0),S=b.current,g=s.open||o,x=m.useRef(g),I=m.useRef(void 0);return m.useEffect(()=>{const p=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(p)},[]),vt(()=>{const p=c.current;if(p){I.current=I.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const A=p.getBoundingClientRect();f.current=A.height,b.current=A.width,x.current||(p.style.transitionDuration=I.current.transitionDuration,p.style.animationName=I.current.animationName),u(n)}},[s.open,n]),l.jsx(xe.div,{"data-state":cl(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:g&&i})});function cl(t){return t?"open":"closed"}var k_=Vh,R_=Bh,O_=Uh,bt="Accordion",E_=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dl,N_,D_]=Ef(bt),[Zn,Dw]=Tn(bt,[D_,Mh]),fl=Mh(),$h=G.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return l.jsx(dl.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(V_,{...a,ref:e}):l.jsx(M_,{...i,ref:e})})});$h.displayName=bt;var[Zh,F_]=Zn(bt),[Wh,Q_]=Zn(bt,{collapsible:!1}),M_=G.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,u]=Xt({prop:r,defaultProp:n,onChange:i});return l.jsx(Zh,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:u,onItemClose:G.useCallback(()=>a&&u(""),[a,u]),children:l.jsx(Wh,{scope:t.__scopeAccordion,collapsible:a,children:l.jsx(Hh,{...s,ref:e})})})}),V_=G.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s=[],o]=Xt({prop:r,defaultProp:n,onChange:i}),u=G.useCallback(d=>o((f=[])=>[...f,d]),[o]),c=G.useCallback(d=>o((f=[])=>f.filter(y=>y!==d)),[o]);return l.jsx(Zh,{scope:t.__scopeAccordion,value:s,onItemOpen:u,onItemClose:c,children:l.jsx(Wh,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(Hh,{...a,ref:e})})})}),[L_,Wn]=Zn(bt),Hh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=G.useRef(null),u=Ee(o,e),c=N_(r),f=Nf(i)==="ltr",y=fe(t.onKeyDown,b=>{var V;if(!E_.includes(b.key))return;const S=b.target,g=c().filter(U=>{var B;return!((B=U.ref.current)!=null&&B.disabled)}),x=g.findIndex(U=>U.ref.current===S),I=g.length;if(x===-1)return;b.preventDefault();let p=x;const A=0,k=I-1,E=()=>{p=x+1,p>k&&(p=A)},D=()=>{p=x-1,p<A&&(p=k)};switch(b.key){case"Home":p=A;break;case"End":p=k;break;case"ArrowRight":a==="horizontal"&&(f?E():D());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(f?D():E());break;case"ArrowUp":a==="vertical"&&D();break}const R=p%I;(V=g[R].ref.current)==null||V.focus()});return l.jsx(L_,{scope:r,disabled:n,direction:i,orientation:a,children:l.jsx(dl.Slot,{scope:r,children:l.jsx(xe.div,{...s,"data-orientation":a,ref:u,onKeyDown:n?void 0:y})})})}),fn="AccordionItem",[B_,hl]=Zn(fn),zh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=Wn(fn,r),s=F_(fn,r),o=fl(r),u=sr(),c=n&&s.value.includes(n)||!1,d=a.disabled||t.disabled;return l.jsx(B_,{scope:r,open:c,disabled:d,triggerId:u,children:l.jsx(k_,{"data-orientation":a.orientation,"data-state":ep(c),...o,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});zh.displayName=fn;var Gh="AccordionHeader",Kh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(bt,r),a=hl(Gh,r);return l.jsx(xe.h3,{"data-orientation":i.orientation,"data-state":ep(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});Kh.displayName=Gh;var Po="AccordionTrigger",Yh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(bt,r),a=hl(Po,r),s=Q_(Po,r),o=fl(r);return l.jsx(dl.ItemSlot,{scope:r,children:l.jsx(R_,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});Yh.displayName=Po;var Jh="AccordionContent",Xh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(bt,r),a=hl(Jh,r),s=fl(r);return l.jsx(O_,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Xh.displayName=Jh;function ep(t){return t?"open":"closed"}var U_=$h,$_=zh,Z_=Kh,tp=Yh,rp=Xh;const W_=U_,pl=m.forwardRef(({className:t,...e},r)=>l.jsx($_,{ref:r,className:ue("border-b",t),...e}));pl.displayName="AccordionItem";const ml=m.forwardRef(({className:t,children:e,...r},n)=>l.jsx(Z_,{className:"flex justify-between items-center",children:l.jsx(tp,{ref:n,className:ue("py-2 transition-all [&[data-state=open]>svg]:rotate-180 w-full",t),...r,children:l.jsxs("div",{className:"flex flex-1 items-center",children:[l.jsx("div",{children:l.jsx(Zo,{className:"h-4 w-4 shrink-0 transition-transform duration-200 mr-2"})}),e]})})}));ml.displayName=tp.displayName;const vl=m.forwardRef(({className:t,children:e,...r},n)=>l.jsx(rp,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:ue("pb-2 pt-0",t),children:e})}));vl.displayName=rp.displayName;pl.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};ml.__docgenInfo={description:"",methods:[]};vl.__docgenInfo={description:"",methods:[]};const yl=m.createContext(null);function pe(){const t=m.useContext(yl);if(!t)throw new Error("useQueryBuilderContext must be used within a QueryBuilderContextProvider");return t}const np=m.createContext(null);function de(){const t=m.useContext(np);if(!t)throw new Error("useQueryBuilderDictContext must be used within a QueryBuilderDictContextProvider");return t}const gl=m.createContext(null);function Be(){const t=m.useContext(gl);if(!t)throw new Error("useQueryBarContext must be used within a QueryBarContextProvider");return t}function ip(){const{query:t}=Be(),{getQueryReferenceColor:e}=pe(),r=t.isReferencedInActiveQuery()?e(t.index()):null;return l.jsx("div",{className:"w-1 rounded-s-sm bg-gray-500 group-data-[query-active=true]/query:bg-[--query-bar-identifier-active]",style:r?{backgroundColor:r}:{}})}ip.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function ap(){const{query:t}=Be();return l.jsx(Ne,{icon:Gf,onClick:()=>t.duplicate()})}ap.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};var _l="Popover",[sp,Fw]=Tn(_l,[Pn]),Gr=Pn(),[H_,Ot]=sp(_l),op=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=Gr(e),u=m.useRef(null),[c,d]=m.useState(!1),[f=!1,y]=Xt({prop:n,defaultProp:i,onChange:a});return l.jsx(Df,{...o,children:l.jsx(H_,{scope:e,contentId:sr(),triggerRef:u,open:f,onOpenChange:y,onOpenToggle:m.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:s,children:r})})};op.displayName=_l;var lp="PopoverAnchor",z_=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(lp,r),a=Gr(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return m.useEffect(()=>(s(),()=>o()),[s,o]),l.jsx(Uo,{...a,...n,ref:e})});z_.displayName=lp;var up="PopoverTrigger",bl=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(up,r),a=Gr(r),s=Ee(e,i.triggerRef),o=l.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pp(i.open),...n,ref:s,onClick:fe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(Uo,{asChild:!0,...a,children:o})});bl.displayName=up;var xl="PopoverPortal",[G_,K_]=sp(xl,{forceMount:void 0}),cp=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Ot(xl,e);return l.jsx(G_,{scope:e,forceMount:r,children:l.jsx($o,{present:r||a.open,children:l.jsx(Mf,{asChild:!0,container:i,children:n})})})};cp.displayName=xl;var rr="PopoverContent",dp=m.forwardRef((t,e)=>{const r=K_(rr,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Ot(rr,t.__scopePopover);return l.jsx($o,{present:n||a.open,children:a.modal?l.jsx(Y_,{...i,ref:e}):l.jsx(J_,{...i,ref:e})})});dp.displayName=rr;var Y_=m.forwardRef((t,e)=>{const r=Ot(rr,t.__scopePopover),n=m.useRef(null),i=Ee(e,n),a=m.useRef(!1);return m.useEffect(()=>{const s=n.current;if(s)return Vf(s)},[]),l.jsx(Lf,{as:Bo,allowPinchZoom:!0,children:l.jsx(fp,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0,c=o.button===2||u;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),J_=m.forwardRef((t,e)=>{const r=Ot(rr,t.__scopePopover),n=m.useRef(!1),i=m.useRef(!1);return l.jsx(fp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),fp=m.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...f}=t,y=Ot(rr,r),b=Gr(r);return Bf(),l.jsx(Uf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx($f,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>y.onOpenChange(!1),children:l.jsx(Ff,{"data-state":pp(y.open),role:"dialog",id:y.contentId,...b,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hp="PopoverClose",jo=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(hp,r);return l.jsx(xe.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});jo.displayName=hp;var X_="PopoverArrow",eb=m.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Gr(r);return l.jsx(Qf,{...i,...n,ref:e})});eb.displayName=X_;function pp(t){return t?"open":"closed"}var tb=op,rb=bl,nb=cp,mp=dp;const vp=tb,ib=rb,Hn=m.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>l.jsx(nb,{children:l.jsx(mp,{ref:i,align:e,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Hn.displayName=mp.displayName;Hn.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};function yp(){const{query:t}=Be(),e=de();return l.jsxs(vp,{children:[l.jsx(ib,{asChild:!0,children:l.jsx(Ne,{icon:Zf})}),l.jsxs(Hn,{side:"left",className:"w-[200px] space-y-3",children:[l.jsx("span",{className:"text-sm",children:e.queryBar.deletePopover.title}),l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx(jo,{asChild:!0,children:l.jsx(Te,{size:"xs",children:e.queryBar.deletePopover.cancel})}),l.jsx(jo,{asChild:!0,children:l.jsx(Te,{size:"xs",color:"destructive",onClick:()=>t.delete(),children:e.queryBar.deletePopover.ok})})]})]})]})}yp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};var Kr=t=>t.type==="checkbox",Ft=t=>t instanceof Date,qe=t=>t==null;const gp=t=>typeof t=="object";var ge=t=>!qe(t)&&!Array.isArray(t)&&gp(t)&&!Ft(t),_p=t=>ge(t)&&t.target?Kr(t.target)?t.target.checked:t.target.value:t,ab=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,bp=(t,e)=>t.has(ab(e)),sb=t=>{const e=t.constructor&&t.constructor.prototype;return ge(e)&&e.hasOwnProperty("isPrototypeOf")},Cl=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Re(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Cl&&(t instanceof Blob||n))&&(r||ge(t)))if(e=r?[]:{},!r&&!sb(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Re(t[i]));else return t;return e}var zn=t=>Array.isArray(t)?t.filter(Boolean):[],ye=t=>t===void 0,P=(t,e,r)=>{if(!e||!ge(t))return r;const n=zn(e.split(/[,[\].]+?/)).reduce((i,a)=>qe(i)?i:i[a],t);return ye(n)||n===t?ye(t[e])?r:t[e]:n},Ve=t=>typeof t=="boolean",Sl=t=>/^\w*$/.test(t),xp=t=>zn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{let n=-1;const i=Sl(e)?[e]:xp(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let u=r;if(n!==s){const c=t[o];u=ge(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}return t};const hn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ze={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ht={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Cp=G.createContext(null),Gn=()=>G.useContext(Cp),ob=t=>{const{children:e,...r}=t;return G.createElement(Cp.Provider,{value:r},e)};var Sp=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ze.all&&(e._proxyFormState[s]=!n||ze.all),r&&(r[s]=!0),t[s]}});return i},Oe=t=>ge(t)&&!Object.keys(t).length,wp=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Oe(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||ze.all))},Ar=t=>Array.isArray(t)?t:[t],Ap=(t,e,r)=>!t||!e||t===e||Ar(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function wl(t){const e=G.useRef(t);e.current=t,G.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function lb(t){const e=Gn(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[s,o]=G.useState(r._formState),u=G.useRef(!0),c=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=G.useRef(i);return d.current=i,wl({disabled:n,next:f=>u.current&&Ap(d.current,f.name,a)&&wp(f,c.current,r._updateFormState)&&o({...r._formState,...f}),subject:r._subjects.state}),G.useEffect(()=>(u.current=!0,c.current.isValid&&r._updateValid(!0),()=>{u.current=!1}),[r]),G.useMemo(()=>Sp(s,r,c.current,!1),[s,r])}var tt=t=>typeof t=="string",Ip=(t,e,r,n,i)=>tt(t)?(n&&e.watch.add(t),P(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),P(r,a))):(n&&(e.watchAll=!0),r);function ub(t){const e=Gn(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=G.useRef(n);o.current=n,wl({disabled:a,subject:r._subjects.values,next:d=>{Ap(o.current,d.name,s)&&c(Re(Ip(o.current,r._names,d.values||r._formValues,!1,i)))}});const[u,c]=G.useState(r._getWatch(n,i));return G.useEffect(()=>r._removeUnmounted()),u}function cb(t){const e=Gn(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a}=t,s=bp(i._names.array,r),o=ub({control:i,name:r,defaultValue:P(i._formValues,r,P(i._defaultValues,r,t.defaultValue)),exact:!0}),u=lb({control:i,name:r,exact:!0}),c=G.useRef(i.register(r,{...t.rules,value:o,...Ve(t.disabled)?{disabled:t.disabled}:{}})),d=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!P(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!P(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!P(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!P(u.validatingFields,r)},error:{enumerable:!0,get:()=>P(u.errors,r)}}),[u,r]),f=G.useMemo(()=>({name:r,value:o,...Ve(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:y=>c.current.onChange({target:{value:_p(y),name:r},type:hn.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:P(i._formValues,r),name:r},type:hn.BLUR}),ref:y=>{const b=P(i._fields,r);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:S=>y.setCustomValidity(S),reportValidity:()=>y.reportValidity()})}}),[r,i._formValues,n,u.disabled,o,i._fields]);return G.useEffect(()=>{const y=i._options.shouldUnregister||a,b=(S,g)=>{const x=P(i._fields,S);x&&x._f&&(x._f.mount=g)};if(b(r,!0),y){const S=Re(P(i._options.defaultValues,r));ae(i._defaultValues,r,S),ye(P(i._formValues,r))&&ae(i._formValues,r,S)}return!s&&i.register(r),()=>{(s?y&&!i._state.action:y)?i.unregister(r):b(r,!1)}},[r,i,s,a]),G.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),G.useMemo(()=>({field:f,formState:u,fieldState:d}),[f,u,d])}const db=t=>t.render(cb(t));var Tp=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Md=t=>({isOnSubmit:!t||t===ze.onSubmit,isOnBlur:t===ze.onBlur,isOnChange:t===ze.onChange,isOnAll:t===ze.all,isOnTouch:t===ze.onTouched}),Vd=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ir=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=P(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Ir(o,e))break}else if(ge(o)&&Ir(o,e))break}}};var fb=(t,e,r)=>{const n=Ar(P(t,r));return ae(n,"root",e[r]),ae(t,r,n),t},Al=t=>t.type==="file",Je=t=>typeof t=="function",pn=t=>{if(!Cl)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},un=t=>tt(t),Il=t=>t.type==="radio",mn=t=>t instanceof RegExp;const Ld={value:!1,isValid:!1},Bd={value:!0,isValid:!0};var Pp=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ye(t[0].attributes.value)?ye(t[0].value)||t[0].value===""?Bd:{value:t[0].value,isValid:!0}:Bd:Ld}return Ld};const Ud={isValid:!1,value:null};var jp=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Ud):Ud;function $d(t,e,r="validate"){if(un(t)||Array.isArray(t)&&t.every(un)||Ve(t)&&!t)return{type:r,message:un(t)?t:"",ref:e}}var zt=t=>ge(t)&&!mn(t)?t:{value:t,message:""},Zd=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:u,maxLength:c,minLength:d,min:f,max:y,pattern:b,validate:S,name:g,valueAsNumber:x,mount:I}=t._f,p=P(r,g);if(!I||e.has(g))return{};const A=o?o[0]:s,k=N=>{i&&A.reportValidity&&(A.setCustomValidity(Ve(N)?"":N||""),A.reportValidity())},E={},D=Il(s),R=Kr(s),V=D||R,U=(x||Al(s))&&ye(s.value)&&ye(p)||pn(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,B=Tp.bind(null,g,n,E),Q=(N,M,Y,ee=ht.maxLength,ne=ht.minLength)=>{const ce=N?M:Y;E[g]={type:N?ee:ne,message:ce,ref:s,...B(N?ee:ne,ce)}};if(a?!Array.isArray(p)||!p.length:u&&(!V&&(U||qe(p))||Ve(p)&&!p||R&&!Pp(o).isValid||D&&!jp(o).isValid)){const{value:N,message:M}=un(u)?{value:!!u,message:u}:zt(u);if(N&&(E[g]={type:ht.required,message:M,ref:A,...B(ht.required,M)},!n))return k(M),E}if(!U&&(!qe(f)||!qe(y))){let N,M;const Y=zt(y),ee=zt(f);if(!qe(p)&&!isNaN(p)){const ne=s.valueAsNumber||p&&+p;qe(Y.value)||(N=ne>Y.value),qe(ee.value)||(M=ne<ee.value)}else{const ne=s.valueAsDate||new Date(p),ce=Ue=>new Date(new Date().toDateString()+" "+Ue),Se=s.type=="time",Ie=s.type=="week";tt(Y.value)&&p&&(N=Se?ce(p)>ce(Y.value):Ie?p>Y.value:ne>new Date(Y.value)),tt(ee.value)&&p&&(M=Se?ce(p)<ce(ee.value):Ie?p<ee.value:ne<new Date(ee.value))}if((N||M)&&(Q(!!N,Y.message,ee.message,ht.max,ht.min),!n))return k(E[g].message),E}if((c||d)&&!U&&(tt(p)||a&&Array.isArray(p))){const N=zt(c),M=zt(d),Y=!qe(N.value)&&p.length>+N.value,ee=!qe(M.value)&&p.length<+M.value;if((Y||ee)&&(Q(Y,N.message,M.message),!n))return k(E[g].message),E}if(b&&!U&&tt(p)){const{value:N,message:M}=zt(b);if(mn(N)&&!p.match(N)&&(E[g]={type:ht.pattern,message:M,ref:s,...B(ht.pattern,M)},!n))return k(M),E}if(S){if(Je(S)){const N=await S(p,r),M=$d(N,A);if(M&&(E[g]={...M,...B(ht.validate,M.message)},!n))return k(M.message),E}else if(ge(S)){let N={};for(const M in S){if(!Oe(N)&&!n)break;const Y=$d(await S[M](p,r),A,M);Y&&(N={...Y,...B(M,Y.message)},k(Y.message),n&&(E[g]=N))}if(!Oe(N)&&(E[g]={ref:A,...N},!n))return E}}return k(!0),E};function hb(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ye(t)?n++:t[e[n++]];return t}function pb(t){for(const e in t)if(t.hasOwnProperty(e)&&!ye(t[e]))return!1;return!0}function Ce(t,e){const r=Array.isArray(e)?e:Sl(e)?[e]:xp(e),n=r.length===1?t:hb(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(ge(n)&&Oe(n)||Array.isArray(n)&&pb(n))&&Ce(t,r.slice(0,-1)),t}var Ys=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},qo=t=>qe(t)||!gp(t);function St(t,e){if(qo(t)||qo(e))return t===e;if(Ft(t)&&Ft(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Ft(a)&&Ft(s)||ge(a)&&ge(s)||Array.isArray(a)&&Array.isArray(s)?!St(a,s):a!==s)return!1}}return!0}var qp=t=>t.type==="select-multiple",mb=t=>Il(t)||Kr(t),Js=t=>pn(t)&&t.isConnected,kp=t=>{for(const e in t)if(Je(t[e]))return!0;return!1};function vn(t,e={}){const r=Array.isArray(t);if(ge(t)||r)for(const n in t)Array.isArray(t[n])||ge(t[n])&&!kp(t[n])?(e[n]=Array.isArray(t[n])?[]:{},vn(t[n],e[n])):qe(t[n])||(e[n]=!0);return e}function Rp(t,e,r){const n=Array.isArray(t);if(ge(t)||n)for(const i in t)Array.isArray(t[i])||ge(t[i])&&!kp(t[i])?ye(e)||qo(r[i])?r[i]=Array.isArray(t[i])?vn(t[i],[]):{...vn(t[i])}:Rp(t[i],qe(e)?{}:e[i],r[i]):r[i]=!St(t[i],e[i]);return r}var vr=(t,e)=>Rp(t,e,vn(e)),Op=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ye(t)?t:e?t===""?NaN:t&&+t:r&&tt(t)?new Date(t):n?n(t):t;function Xs(t){const e=t.ref;return Al(e)?e.files:Il(e)?jp(t.refs).value:qp(e)?[...e.selectedOptions].map(({value:r})=>r):Kr(e)?Pp(t.refs).value:Op(ye(e.value)?t.ref.value:e.value,t)}var vb=(t,e,r,n)=>{const i={};for(const a of t){const s=P(e,a);s&&ae(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},yr=t=>ye(t)?t:mn(t)?t.source:ge(t)?mn(t.value)?t.value.source:t.value:t;const Wd="AsyncFunction";var yb=t=>!!t&&!!t.validate&&!!(Je(t.validate)&&t.validate.constructor.name===Wd||ge(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Wd)),gb=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Hd(t,e,r){const n=P(t,r);if(n||Sl(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=P(e,a),o=P(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var _b=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,bb=(t,e)=>!zn(P(t,e)).length&&Ce(t,e);const xb={mode:ze.onSubmit,reValidateMode:ze.onChange,shouldFocusError:!0};function Cb(t={}){let e={...xb,...t},r={submitCount:0,isDirty:!1,isLoading:Je(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ge(e.defaultValues)||ge(e.values)?Re(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Re(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Ys(),array:Ys(),state:Ys()},y=Md(e.mode),b=Md(e.reValidateMode),S=e.criteriaMode===ze.all,g=h=>v=>{clearTimeout(c),c=setTimeout(h,v)},x=async h=>{if(!e.disabled&&(d.isValid||h)){const v=e.resolver?Oe((await V()).errors):await B(n,!0);v!==r.isValid&&f.state.next({isValid:v})}},I=(h,v)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((h||Array.from(o.mount)).forEach(_=>{_&&(v?ae(r.validatingFields,_,v):Ce(r.validatingFields,_))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Oe(r.validatingFields)}))},p=(h,v=[],_,j,T=!0,C=!0)=>{if(j&&_&&!e.disabled){if(s.action=!0,C&&Array.isArray(P(n,h))){const L=_(P(n,h),j.argA,j.argB);T&&ae(n,h,L)}if(C&&Array.isArray(P(r.errors,h))){const L=_(P(r.errors,h),j.argA,j.argB);T&&ae(r.errors,h,L),bb(r.errors,h)}if(d.touchedFields&&C&&Array.isArray(P(r.touchedFields,h))){const L=_(P(r.touchedFields,h),j.argA,j.argB);T&&ae(r.touchedFields,h,L)}d.dirtyFields&&(r.dirtyFields=vr(i,a)),f.state.next({name:h,isDirty:N(h,v),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ae(a,h,v)},A=(h,v)=>{ae(r.errors,h,v),f.state.next({errors:r.errors})},k=h=>{r.errors=h,f.state.next({errors:r.errors,isValid:!1})},E=(h,v,_,j)=>{const T=P(n,h);if(T){const C=P(a,h,ye(_)?P(i,h):_);ye(C)||j&&j.defaultChecked||v?ae(a,h,v?C:Xs(T._f)):ee(h,C),s.mount&&x()}},D=(h,v,_,j,T)=>{let C=!1,L=!1;const H={name:h};if(!e.disabled){const _e=!!(P(n,h)&&P(n,h)._f&&P(n,h)._f.disabled);if(!_||j){d.isDirty&&(L=r.isDirty,r.isDirty=H.isDirty=N(),C=L!==H.isDirty);const ve=_e||St(P(i,h),v);L=!!(!_e&&P(r.dirtyFields,h)),ve||_e?Ce(r.dirtyFields,h):ae(r.dirtyFields,h,!0),H.dirtyFields=r.dirtyFields,C=C||d.dirtyFields&&L!==!ve}if(_){const ve=P(r.touchedFields,h);ve||(ae(r.touchedFields,h,_),H.touchedFields=r.touchedFields,C=C||d.touchedFields&&ve!==_)}C&&T&&f.state.next(H)}return C?H:{}},R=(h,v,_,j)=>{const T=P(r.errors,h),C=d.isValid&&Ve(v)&&r.isValid!==v;if(e.delayError&&_?(u=g(()=>A(h,_)),u(e.delayError)):(clearTimeout(c),u=null,_?ae(r.errors,h,_):Ce(r.errors,h)),(_?!St(T,_):T)||!Oe(j)||C){const L={...j,...C&&Ve(v)?{isValid:v}:{},errors:r.errors,name:h};r={...r,...L},f.state.next(L)}},V=async h=>{I(h,!0);const v=await e.resolver(a,e.context,vb(h||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return I(h),v},U=async h=>{const{errors:v}=await V(h);if(h)for(const _ of h){const j=P(v,_);j?ae(r.errors,_,j):Ce(r.errors,_)}else r.errors=v;return v},B=async(h,v,_={valid:!0})=>{for(const j in h){const T=h[j];if(T){const{_f:C,...L}=T;if(C){const H=o.array.has(C.name),_e=T._f&&yb(T._f);_e&&d.validatingFields&&I([j],!0);const ve=await Zd(T,o.disabled,a,S,e.shouldUseNativeValidation&&!v,H);if(_e&&d.validatingFields&&I([j]),ve[C.name]&&(_.valid=!1,v))break;!v&&(P(ve,C.name)?H?fb(r.errors,ve,C.name):ae(r.errors,C.name,ve[C.name]):Ce(r.errors,C.name))}!Oe(L)&&await B(L,v,_)}}return _.valid},Q=()=>{for(const h of o.unMount){const v=P(n,h);v&&(v._f.refs?v._f.refs.every(_=>!Js(_)):!Js(v._f.ref))&&Ze(h)}o.unMount=new Set},N=(h,v)=>!e.disabled&&(h&&v&&ae(a,h,v),!St(ct(),i)),M=(h,v,_)=>Ip(h,o,{...s.mount?a:ye(v)?i:tt(h)?{[h]:v}:v},_,v),Y=h=>zn(P(s.mount?a:i,h,e.shouldUnregister?P(i,h,[]):[])),ee=(h,v,_={})=>{const j=P(n,h);let T=v;if(j){const C=j._f;C&&(!C.disabled&&ae(a,h,Op(v,C)),T=pn(C.ref)&&qe(v)?"":v,qp(C.ref)?[...C.ref.options].forEach(L=>L.selected=T.includes(L.value)):C.refs?Kr(C.ref)?C.refs.length>1?C.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(T)?!!T.find(H=>H===L.value):T===L.value)):C.refs[0]&&(C.refs[0].checked=!!T):C.refs.forEach(L=>L.checked=L.value===T):Al(C.ref)?C.ref.value="":(C.ref.value=T,C.ref.type||f.values.next({name:h,values:{...a}})))}(_.shouldDirty||_.shouldTouch)&&D(h,T,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Ue(h)},ne=(h,v,_)=>{for(const j in v){const T=v[j],C=`${h}.${j}`,L=P(n,C);(o.array.has(h)||ge(T)||L&&!L._f)&&!Ft(T)?ne(C,T,_):ee(C,T,_)}},ce=(h,v,_={})=>{const j=P(n,h),T=o.array.has(h),C=Re(v);ae(a,h,C),T?(f.array.next({name:h,values:{...a}}),(d.isDirty||d.dirtyFields)&&_.shouldDirty&&f.state.next({name:h,dirtyFields:vr(i,a),isDirty:N(h,C)})):j&&!j._f&&!qe(C)?ne(h,C,_):ee(h,C,_),Vd(h,o)&&f.state.next({...r}),f.values.next({name:s.mount?h:void 0,values:{...a}})},Se=async h=>{s.mount=!0;const v=h.target;let _=v.name,j=!0;const T=P(n,_),C=()=>v.type?Xs(T._f):_p(h),L=H=>{j=Number.isNaN(H)||Ft(H)&&isNaN(H.getTime())||St(H,P(a,_,H))};if(T){let H,_e;const ve=C(),je=h.type===hn.BLUR||h.type===hn.FOCUS_OUT,tn=!gb(T._f)&&!e.resolver&&!P(r.errors,_)&&!T._f.deps||_b(je,P(r.touchedFields,_),r.isSubmitted,b,y),Ht=Vd(_,o,je);ae(a,_,ve),je?(T._f.onBlur&&T._f.onBlur(h),u&&u(0)):T._f.onChange&&T._f.onChange(h);const pr=D(_,ve,je,!1),rn=!Oe(pr)||Ht;if(!je&&f.values.next({name:_,type:h.type,values:{...a}}),tn)return d.isValid&&(e.mode==="onBlur"&&je?x():je||x()),rn&&f.state.next({name:_,...Ht?{}:pr});if(!je&&Ht&&f.state.next({...r}),e.resolver){const{errors:We}=await V([_]);if(L(ve),j){const ft=Hd(r.errors,n,_),Ul=Hd(We,n,ft.name||_);H=Ul.error,_=Ul.name,_e=Oe(We)}}else I([_],!0),H=(await Zd(T,o.disabled,a,S,e.shouldUseNativeValidation))[_],I([_]),L(ve),j&&(H?_e=!1:d.isValid&&(_e=await B(n,!0)));j&&(T._f.deps&&Ue(T._f.deps),R(_,_e,H,pr))}},Ie=(h,v)=>{if(P(r.errors,v)&&h.focus)return h.focus(),1},Ue=async(h,v={})=>{let _,j;const T=Ar(h);if(e.resolver){const C=await U(ye(h)?h:T);_=Oe(C),j=h?!T.some(L=>P(C,L)):_}else h?(j=(await Promise.all(T.map(async C=>{const L=P(n,C);return await B(L&&L._f?{[C]:L}:L)}))).every(Boolean),!(!j&&!r.isValid)&&x()):j=_=await B(n);return f.state.next({...!tt(h)||d.isValid&&_!==r.isValid?{}:{name:h},...e.resolver||!h?{isValid:_}:{},errors:r.errors}),v.shouldFocus&&!j&&Ir(n,Ie,h?T:o.mount),j},ct=h=>{const v={...s.mount?a:i};return ye(h)?v:tt(h)?P(v,h):h.map(_=>P(v,_))},xt=(h,v)=>({invalid:!!P((v||r).errors,h),isDirty:!!P((v||r).dirtyFields,h),error:P((v||r).errors,h),isValidating:!!P(r.validatingFields,h),isTouched:!!P((v||r).touchedFields,h)}),Dt=h=>{h&&Ar(h).forEach(v=>Ce(r.errors,v)),f.state.next({errors:h?r.errors:{}})},$e=(h,v,_)=>{const j=(P(n,h,{_f:{}})._f||{}).ref,T=P(r.errors,h)||{},{ref:C,message:L,type:H,..._e}=T;ae(r.errors,h,{..._e,...v,ref:j}),f.state.next({name:h,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&j&&j.focus&&j.focus()},Ct=(h,v)=>Je(h)?f.values.subscribe({next:_=>h(M(void 0,v),_)}):M(h,v,!0),Ze=(h,v={})=>{for(const _ of h?Ar(h):o.mount)o.mount.delete(_),o.array.delete(_),v.keepValue||(Ce(n,_),Ce(a,_)),!v.keepError&&Ce(r.errors,_),!v.keepDirty&&Ce(r.dirtyFields,_),!v.keepTouched&&Ce(r.touchedFields,_),!v.keepIsValidating&&Ce(r.validatingFields,_),!e.shouldUnregister&&!v.keepDefaultValue&&Ce(i,_);f.values.next({values:{...a}}),f.state.next({...r,...v.keepDirty?{isDirty:N()}:{}}),!v.keepIsValid&&x()},W=({disabled:h,name:v,field:_,fields:j})=>{(Ve(h)&&s.mount||h||o.disabled.has(v))&&(h?o.disabled.add(v):o.disabled.delete(v),D(v,Xs(_?_._f:P(j,v)._f),!1,!1,!0))},oe=(h,v={})=>{let _=P(n,h);const j=Ve(v.disabled)||Ve(e.disabled);return ae(n,h,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:h}},name:h,mount:!0,...v}}),o.mount.add(h),_?W({field:_,disabled:Ve(v.disabled)?v.disabled:e.disabled,name:h}):E(h,!0,v.value),{...j?{disabled:v.disabled||e.disabled}:{},...e.progressive?{required:!!v.required,min:yr(v.min),max:yr(v.max),minLength:yr(v.minLength),maxLength:yr(v.maxLength),pattern:yr(v.pattern)}:{},name:h,onChange:Se,onBlur:Se,ref:T=>{if(T){oe(h,v),_=P(n,h);const C=ye(T.value)&&T.querySelectorAll&&T.querySelectorAll("input,select,textarea")[0]||T,L=mb(C),H=_._f.refs||[];if(L?H.find(_e=>_e===C):C===_._f.ref)return;ae(n,h,{_f:{..._._f,...L?{refs:[...H.filter(Js),C,...Array.isArray(P(i,h))?[{}]:[]],ref:{type:C.type,name:h}}:{ref:C}}}),E(h,!1,void 0,C)}else _=P(n,h,{}),_._f&&(_._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(bp(o.array,h)&&s.action)&&o.unMount.add(h)}}},we=()=>e.shouldFocusError&&Ir(n,Ie,o.mount),le=h=>{Ve(h)&&(f.state.next({disabled:h}),Ir(n,(v,_)=>{const j=P(n,_);j&&(v.disabled=j._f.disabled||h,Array.isArray(j._f.refs)&&j._f.refs.forEach(T=>{T.disabled=j._f.disabled||h}))},0,!1))},ie=(h,v)=>async _=>{let j;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let T=Re(a);if(o.disabled.size)for(const C of o.disabled)ae(T,C,void 0);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:C,values:L}=await V();r.errors=C,T=L}else await B(n);if(Ce(r.errors,"root"),Oe(r.errors)){f.state.next({errors:{}});try{await h(T,_)}catch(C){j=C}}else v&&await v({...r.errors},_),we(),setTimeout(we);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oe(r.errors)&&!j,submitCount:r.submitCount+1,errors:r.errors}),j)throw j},se=(h,v={})=>{P(n,h)&&(ye(v.defaultValue)?ce(h,Re(P(i,h))):(ce(h,v.defaultValue),ae(i,h,Re(v.defaultValue))),v.keepTouched||Ce(r.touchedFields,h),v.keepDirty||(Ce(r.dirtyFields,h),r.isDirty=v.defaultValue?N(h,Re(P(i,h))):N()),v.keepError||(Ce(r.errors,h),d.isValid&&x()),f.state.next({...r}))},Fe=(h,v={})=>{const _=h?Re(h):i,j=Re(_),T=Oe(h),C=T?i:j;if(v.keepDefaultValues||(i=_),!v.keepValues){if(v.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(vr(i,a))]);for(const H of Array.from(L))P(r.dirtyFields,H)?ae(C,H,P(a,H)):ce(H,P(C,H))}else{if(Cl&&ye(h))for(const L of o.mount){const H=P(n,L);if(H&&H._f){const _e=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(pn(_e)){const ve=_e.closest("form");if(ve){ve.reset();break}}}}n={}}a=e.shouldUnregister?v.keepDefaultValues?Re(i):{}:Re(C),f.array.next({values:{...C}}),f.values.next({values:{...C}})}o={mount:v.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!v.keepIsValid||!!v.keepDirtyValues,s.watch=!!e.shouldUnregister,f.state.next({submitCount:v.keepSubmitCount?r.submitCount:0,isDirty:T?!1:v.keepDirty?r.isDirty:!!(v.keepDefaultValues&&!St(h,i)),isSubmitted:v.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:T?{}:v.keepDirtyValues?v.keepDefaultValues&&a?vr(i,a):r.dirtyFields:v.keepDefaultValues&&h?vr(i,h):v.keepDirty?r.dirtyFields:{},touchedFields:v.keepTouched?r.touchedFields:{},errors:v.keepErrors?r.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(h,v)=>Fe(Je(h)?h(a):h,v);return{control:{register:oe,unregister:Ze,getFieldState:xt,handleSubmit:ie,setError:$e,_executeSchema:V,_getWatch:M,_getDirty:N,_updateValid:x,_removeUnmounted:Q,_updateFieldArray:p,_updateDisabledField:W,_getFieldArray:Y,_reset:Fe,_resetDefaultValues:()=>Je(e.defaultValues)&&e.defaultValues().then(h=>{Qe(h,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:h=>{r={...r,...h}},_disableForm:le,_subjects:f,_proxyFormState:d,_setErrors:k,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(h){s=h},get _defaultValues(){return i},get _names(){return o},set _names(h){o=h},get _formState(){return r},set _formState(h){r=h},get _options(){return e},set _options(h){e={...e,...h}}},trigger:Ue,register:oe,handleSubmit:ie,watch:Ct,setValue:ce,getValues:ct,reset:Qe,resetField:se,clearErrors:Dt,unregister:Ze,setError:$e,setFocus:(h,v={})=>{const _=P(n,h),j=_&&_._f;if(j){const T=j.refs?j.refs[0]:j.ref;T.focus&&(T.focus(),v.shouldSelect&&Je(T.select)&&T.select())}},getFieldState:xt}}function Ep(t={}){const e=G.useRef(void 0),r=G.useRef(void 0),[n,i]=G.useState({isDirty:!1,isValidating:!1,isLoading:Je(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Je(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Cb(t),formState:n});const a=e.current.control;return a._options=t,wl({subject:a._subjects.state,next:s=>{wp(s,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),G.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),G.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),G.useEffect(()=>{t.values&&!St(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),G.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),G.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),G.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=Sp(n,a),e.current}const zd=(t,e,r)=>{if(t&&"reportValidity"in t){const n=P(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Np=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?zd(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>zd(i,r,t))}},Sb=(t,e)=>{e.shouldUseNativeValidation&&Np(t,e);const r={};for(const n in t){const i=P(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(wb(e.names||Object.keys(t),n)){const s=Object.assign({},P(r,n));ae(s,"root",a),ae(r,n,s)}else ae(r,n,a)}return r},wb=(t,e)=>{const r=Gd(e);return t.some(n=>Gd(n).match(`^${r}\\.\\d+`))};function Gd(t){return t.replace(/\]|\[/g,"")}function Ab(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var u=r[s].types,c=u&&u[n.code];r[s]=Tp(s,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r}function Dp(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return a.shouldUseNativeValidation&&Np({},a),{errors:{},values:r.raw?Object.assign({},n):c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:Sb(Ab(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}}var X;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(X||(X={}));var ko;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ko||(ko={}));const O=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mt=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},w=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ib=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class De extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const c=s.path[u];u===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}static assert(e){if(!(e instanceof De))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}De.create=t=>new De(t);const nr=(t,e)=>{let r;switch(t.code){case w.invalid_type:t.received===O.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case w.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:r=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case w.invalid_union:r="Invalid input";break;case w.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case w.invalid_enum_value:r=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case w.invalid_arguments:r="Invalid function arguments";break;case w.invalid_return_type:r="Invalid function return type";break;case w.invalid_date:r="Invalid date";break;case w.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case w.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case w.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case w.custom:r="Invalid input";break;case w.invalid_intersection_types:r="Intersection results could not be merged";break;case w.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case w.not_finite:r="Number must be finite";break;default:r=e.defaultError,X.assertNever(t)}return{message:r}};let Fp=nr;function Tb(t){Fp=t}function yn(){return Fp}const gn=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},Pb=[];function q(t,e){const r=yn(),n=gn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===nr?void 0:nr].filter(i=>!!i)});t.common.issues.push(n)}class Pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Z;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Pe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Z;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Z=Object.freeze({status:"aborted"}),Kt=t=>({status:"dirty",value:t}),ke=t=>({status:"valid",value:t}),Ro=t=>t.status==="aborted",Oo=t=>t.status==="dirty",Vt=t=>t.status==="valid",Pr=t=>typeof Promise<"u"&&t instanceof Promise;function _n(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Qp(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(F||(F={}));var Cr,Sr;class nt{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kd=(t,e)=>{if(Vt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new De(t.common.issues);return this._error=r,this._error}}};function z(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var u,c;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(u=d??n)!==null&&u!==void 0?u:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:o.defaultError}},description:i}}class K{get description(){return this._def.description}_getType(e){return mt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pe,ctx:{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Pr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Kd(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Vt(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Vt(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Pr(i)?i:Promise.resolve(i));return Kd(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:w.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ye({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rt.create(this,this._def)}nullable(){return qt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ke.create(this)}promise(){return ar.create(this,this._def)}or(e){return Rr.create([this,e],this._def)}and(e){return Or.create(this,e,this._def)}transform(e){return new Ye({...z(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Qr({...z(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new Tl({typeName:$.ZodBranded,type:this,...z(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Mr({...z(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Yr.create(this,e)}readonly(){return Vr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jb=/^c[^\s-]{8,}$/i,qb=/^[0-9a-z]+$/,kb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Rb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ob=/^[a-z0-9_-]{21}$/i,Eb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Db=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eo;const Qb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Lb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ub=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Mp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$b=new RegExp(`^${Mp}$`);function Vp(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Zb(t){return new RegExp(`^${Vp(t)}$`)}function Lp(t){let e=`${Mp}T${Vp(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Wb(t,e){return!!((e==="v4"||!e)&&Qb.test(t)||(e==="v6"||!e)&&Vb.test(t))}function Hb(t,e){if(!Eb.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function zb(t,e){return!!((e==="v4"||!e)&&Mb.test(t)||(e==="v6"||!e)&&Lb.test(t))}class Ge extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_type,expected:O.string,received:a.parsedType}),Z}const n=new Pe;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?q(i,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&q(i,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Db.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")eo||(eo=new RegExp(Fb,"u")),eo.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Rb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Ob.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"nanoid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")jb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")qb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")kb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:w.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:w.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Lp(a).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?$b.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Zb(a).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:w.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Nb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"duration",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Wb(e.data,a.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Hb(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"jwt",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?zb(e.data,a.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cidr",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Bb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Ub.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64url",code:w.invalid_string,message:a.message}),n.dirty()):X.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:w.invalid_string,...F.errToObj(n)})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...F.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...F.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...F.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...F.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...F.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...F.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...F.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...F.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...F.errToObj(r)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ge.create=t=>{var e;return new Ge({checks:[],typeName:$.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};function Gb(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class Tt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_type,expected:O.number,received:a.parsedType}),Z}let n;const i=new Pe;for(const a of this._def.checks)a.kind==="int"?X.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:w.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Gb(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:w.not_finite,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Tt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Tt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Tt.create=t=>new Tt({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Pt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==O.bigint)return this._getInvalidInput(e);let n;const i=new Pe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),q(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return q(r,{code:w.invalid_type,expected:O.bigint,received:r.parsedType}),Z}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Pt.create=t=>{var e;return new Pt({checks:[],typeName:$.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};class jr extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:O.boolean,received:n.parsedType}),Z}return ke(e.data)}}jr.create=t=>new jr({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Lt extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_type,expected:O.date,received:a.parsedType}),Z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return q(a,{code:w.invalid_date}),Z}const n=new Pe;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:w.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):X.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Lt.create=t=>new Lt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate,...z(t)});class bn extends K{_parse(e){if(this._getType(e)!==O.symbol){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:O.symbol,received:n.parsedType}),Z}return ke(e.data)}}bn.create=t=>new bn({typeName:$.ZodSymbol,...z(t)});class qr extends K{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:O.undefined,received:n.parsedType}),Z}return ke(e.data)}}qr.create=t=>new qr({typeName:$.ZodUndefined,...z(t)});class kr extends K{_parse(e){if(this._getType(e)!==O.null){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:O.null,received:n.parsedType}),Z}return ke(e.data)}}kr.create=t=>new kr({typeName:$.ZodNull,...z(t)});class ir extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return ke(e.data)}}ir.create=t=>new ir({typeName:$.ZodAny,...z(t)});class Mt extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ke(e.data)}}Mt.create=t=>new Mt({typeName:$.ZodUnknown,...z(t)});class yt extends K{_parse(e){const r=this._getOrReturnCtx(e);return q(r,{code:w.invalid_type,expected:O.never,received:r.parsedType}),Z}}yt.create=t=>new yt({typeName:$.ZodNever,...z(t)});class xn extends K{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:O.void,received:n.parsedType}),Z}return ke(e.data)}}xn.create=t=>new xn({typeName:$.ZodVoid,...z(t)});class Ke extends K{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==O.array)return q(r,{code:w.invalid_type,expected:O.array,received:r.parsedType}),Z;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(q(r,{code:s?w.too_big:w.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(q(r,{code:w.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(q(r,{code:w.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new nt(r,s,r.path,o)))).then(s=>Pe.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new nt(r,s,r.path,o)));return Pe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ke({...this._def,minLength:{value:e,message:F.toString(r)}})}max(e,r){return new Ke({...this._def,maxLength:{value:e,message:F.toString(r)}})}length(e,r){return new Ke({...this._def,exactLength:{value:e,message:F.toString(r)}})}nonempty(e){return this.min(1,e)}}Ke.create=(t,e)=>new Ke({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...z(e)});function Gt(t){if(t instanceof me){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=rt.create(Gt(n))}return new me({...t._def,shape:()=>e})}else return t instanceof Ke?new Ke({...t._def,type:Gt(t.element)}):t instanceof rt?rt.create(Gt(t.unwrap())):t instanceof qt?qt.create(Gt(t.unwrap())):t instanceof it?it.create(t.items.map(e=>Gt(e))):t}class me extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=X.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==O.object){const c=this._getOrReturnCtx(e);return q(c,{code:w.invalid_type,expected:O.object,received:c.parsedType}),Z}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof yt&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const u=[];for(const c of s){const d=a[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new nt(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof yt){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(q(i,{code:w.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new nt(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const f=await d.key,y=await d.value;c.push({key:f,value:y,alwaysSet:d.alwaysSet})}return c}).then(c=>Pe.mergeObjectSync(n,c)):Pe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const u=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=F.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new me({...this._def,unknownKeys:"strip"})}passthrough(){return new me({...this._def,unknownKeys:"passthrough"})}extend(e){return new me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new me({...this._def,catchall:e})}pick(e){const r={};return X.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new me({...this._def,shape:()=>r})}omit(e){const r={};return X.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new me({...this._def,shape:()=>r})}deepPartial(){return Gt(this)}partial(e){const r={};return X.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new me({...this._def,shape:()=>r})}required(e){const r={};return X.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof rt;)a=a._def.innerType;r[n]=a}}),new me({...this._def,shape:()=>r})}keyof(){return Bp(X.objectKeys(this.shape))}}me.create=(t,e)=>new me({shape:()=>t,unknownKeys:"strip",catchall:yt.create(),typeName:$.ZodObject,...z(e)});me.strictCreate=(t,e)=>new me({shape:()=>t,unknownKeys:"strict",catchall:yt.create(),typeName:$.ZodObject,...z(e)});me.lazycreate=(t,e)=>new me({shape:t,unknownKeys:"strip",catchall:yt.create(),typeName:$.ZodObject,...z(e)});class Rr extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new De(o.ctx.common.issues));return q(r,{code:w.invalid_union,unionErrors:s}),Z}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(u=>new De(u));return q(r,{code:w.invalid_union,unionErrors:o}),Z}}get options(){return this._def.options}}Rr.create=(t,e)=>new Rr({options:t,typeName:$.ZodUnion,...z(e)});const pt=t=>t instanceof Nr?pt(t.schema):t instanceof Ye?pt(t.innerType()):t instanceof Dr?[t.value]:t instanceof jt?t.options:t instanceof Fr?X.objectValues(t.enum):t instanceof Qr?pt(t._def.innerType):t instanceof qr?[void 0]:t instanceof kr?[null]:t instanceof rt?[void 0,...pt(t.unwrap())]:t instanceof qt?[null,...pt(t.unwrap())]:t instanceof Tl||t instanceof Vr?pt(t.unwrap()):t instanceof Mr?pt(t._def.innerType):[];class Kn extends K{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.object)return q(r,{code:w.invalid_type,expected:O.object,received:r.parsedType}),Z;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=pt(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Kn({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...z(n)})}}function Eo(t,e){const r=mt(t),n=mt(e);if(t===e)return{valid:!0,data:t};if(r===O.object&&n===O.object){const i=X.objectKeys(e),a=X.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const u=Eo(t[o],e[o]);if(!u.valid)return{valid:!1};s[o]=u.data}return{valid:!0,data:s}}else if(r===O.array&&n===O.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],u=Eo(s,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===O.date&&n===O.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Or extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(Ro(a)||Ro(s))return Z;const o=Eo(a.value,s.value);return o.valid?((Oo(a)||Oo(s))&&r.dirty(),{status:r.value,value:o.data}):(q(n,{code:w.invalid_intersection_types}),Z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Or.create=(t,e,r)=>new Or({left:t,right:e,typeName:$.ZodIntersection,...z(r)});class it extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.array)return q(n,{code:w.invalid_type,expected:O.array,received:n.parsedType}),Z;if(n.data.length<this._def.items.length)return q(n,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new nt(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Pe.mergeArray(r,s)):Pe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new it({...this._def,rest:e})}}it.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new it({items:t,typeName:$.ZodTuple,rest:null,...z(e)})};class Er extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return q(n,{code:w.invalid_type,expected:O.object,received:n.parsedType}),Z;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new nt(n,o,n.path,o)),value:s._parse(new nt(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Pe.mergeObjectAsync(r,i):Pe.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof K?new Er({keyType:e,valueType:r,typeName:$.ZodRecord,...z(n)}):new Er({keyType:Ge.create(),valueType:e,typeName:$.ZodRecord,...z(r)})}}class Cn extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.map)return q(n,{code:w.invalid_type,expected:O.map,received:n.parsedType}),Z;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,u],c)=>({key:i._parse(new nt(n,o,n.path,[c,"key"])),value:a._parse(new nt(n,u,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of s){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return Z;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of s){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return Z;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}Cn.create=(t,e,r)=>new Cn({valueType:e,keyType:t,typeName:$.ZodMap,...z(r)});class Bt extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.set)return q(n,{code:w.invalid_type,expected:O.set,received:n.parsedType}),Z;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(q(n,{code:w.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(q(n,{code:w.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(u){const c=new Set;for(const d of u){if(d.status==="aborted")return Z;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((u,c)=>a._parse(new nt(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>s(u)):s(o)}min(e,r){return new Bt({...this._def,minSize:{value:e,message:F.toString(r)}})}max(e,r){return new Bt({...this._def,maxSize:{value:e,message:F.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Bt.create=(t,e)=>new Bt({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...z(e)});class Yt extends K{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.function)return q(r,{code:w.invalid_type,expected:O.function,received:r.parsedType}),Z;function n(o,u){return gn({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yn(),nr].filter(c=>!!c),issueData:{code:w.invalid_arguments,argumentsError:u}})}function i(o,u){return gn({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yn(),nr].filter(c=>!!c),issueData:{code:w.invalid_return_type,returnTypeError:u}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof ar){const o=this;return ke(async function(...u){const c=new De([]),d=await o._def.args.parseAsync(u,a).catch(b=>{throw c.addIssue(n(u,b)),c}),f=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(f,a).catch(b=>{throw c.addIssue(i(f,b)),c})})}else{const o=this;return ke(function(...u){const c=o._def.args.safeParse(u,a);if(!c.success)throw new De([n(u,c.error)]);const d=Reflect.apply(s,this,c.data),f=o._def.returns.safeParse(d,a);if(!f.success)throw new De([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yt({...this._def,args:it.create(e).rest(Mt.create())})}returns(e){return new Yt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Yt({args:e||it.create([]).rest(Mt.create()),returns:r||Mt.create(),typeName:$.ZodFunction,...z(n)})}}class Nr extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Nr.create=(t,e)=>new Nr({getter:t,typeName:$.ZodLazy,...z(e)});class Dr extends K{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return q(r,{received:r.data,code:w.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Dr.create=(t,e)=>new Dr({value:t,typeName:$.ZodLiteral,...z(e)});function Bp(t,e){return new jt({values:t,typeName:$.ZodEnum,...z(e)})}class jt extends K{constructor(){super(...arguments),Cr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return q(r,{expected:X.joinValues(n),received:r.parsedType,code:w.invalid_type}),Z}if(_n(this,Cr)||Qp(this,Cr,new Set(this._def.values)),!_n(this,Cr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return q(r,{received:r.data,code:w.invalid_enum_value,options:n}),Z}return ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return jt.create(e,{...this._def,...r})}exclude(e,r=this._def){return jt.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Cr=new WeakMap;jt.create=Bp;class Fr extends K{constructor(){super(...arguments),Sr.set(this,void 0)}_parse(e){const r=X.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==O.string&&n.parsedType!==O.number){const i=X.objectValues(r);return q(n,{expected:X.joinValues(i),received:n.parsedType,code:w.invalid_type}),Z}if(_n(this,Sr)||Qp(this,Sr,new Set(X.getValidEnumValues(this._def.values))),!_n(this,Sr).has(e.data)){const i=X.objectValues(r);return q(n,{received:n.data,code:w.invalid_enum_value,options:i}),Z}return ke(e.data)}get enum(){return this._def.values}}Sr=new WeakMap;Fr.create=(t,e)=>new Fr({values:t,typeName:$.ZodNativeEnum,...z(e)});class ar extends K{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.promise&&r.common.async===!1)return q(r,{code:w.invalid_type,expected:O.promise,received:r.parsedType}),Z;const n=r.parsedType===O.promise?r.data:Promise.resolve(r.data);return ke(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ar.create=(t,e)=>new ar({type:t,typeName:$.ZodPromise,...z(e)});class Ye extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{q(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Z;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?Z:u.status==="dirty"||r.value==="dirty"?Kt(u.value):u});{if(r.value==="aborted")return Z;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Z:o.status==="dirty"||r.value==="dirty"?Kt(o.value):o}}if(i.type==="refinement"){const s=o=>{const u=i.refinement(o,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vt(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Vt(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);X.assertNever(i)}}Ye.create=(t,e,r)=>new Ye({schema:t,typeName:$.ZodEffects,effect:e,...z(r)});Ye.createWithPreprocess=(t,e,r)=>new Ye({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...z(r)});class rt extends K{_parse(e){return this._getType(e)===O.undefined?ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rt.create=(t,e)=>new rt({innerType:t,typeName:$.ZodOptional,...z(e)});class qt extends K{_parse(e){return this._getType(e)===O.null?ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qt.create=(t,e)=>new qt({innerType:t,typeName:$.ZodNullable,...z(e)});class Qr extends K{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===O.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Qr.create=(t,e)=>new Qr({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});class Mr extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Pr(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new De(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new De(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});class Sn extends K{_parse(e){if(this._getType(e)!==O.nan){const n=this._getOrReturnCtx(e);return q(n,{code:w.invalid_type,expected:O.nan,received:n.parsedType}),Z}return{status:"valid",value:e.data}}}Sn.create=t=>new Sn({typeName:$.ZodNaN,...z(t)});const Kb=Symbol("zod_brand");class Tl extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Yr extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Z:a.status==="dirty"?(r.dirty(),Kt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Z:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Yr({in:e,out:r,typeName:$.ZodPipeline})}}class Vr extends K{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Vt(i)&&(i.value=Object.freeze(i.value)),i);return Pr(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Vr.create=(t,e)=>new Vr({innerType:t,typeName:$.ZodReadonly,...z(e)});function Yd(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Up(t,e={},r){return t?ir.create().superRefine((n,i)=>{var a,s;const o=t(n);if(o instanceof Promise)return o.then(u=>{var c,d;if(!u){const f=Yd(e,n),y=(d=(c=f.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:y})}});if(!o){const u=Yd(e,n),c=(s=(a=u.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...u,fatal:c})}}):ir.create()}const Yb={object:me.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const Jb=(t,e={message:`Input not instance of ${t.name}`})=>Up(r=>r instanceof t,e),$p=Ge.create,Zp=Tt.create,Xb=Sn.create,ex=Pt.create,Wp=jr.create,tx=Lt.create,rx=bn.create,nx=qr.create,ix=kr.create,ax=ir.create,sx=Mt.create,ox=yt.create,lx=xn.create,ux=Ke.create,cx=me.create,dx=me.strictCreate,fx=Rr.create,hx=Kn.create,px=Or.create,mx=it.create,vx=Er.create,yx=Cn.create,gx=Bt.create,_x=Yt.create,bx=Nr.create,xx=Dr.create,Cx=jt.create,Sx=Fr.create,wx=ar.create,Jd=Ye.create,Ax=rt.create,Ix=qt.create,Tx=Ye.createWithPreprocess,Px=Yr.create,jx=()=>$p().optional(),qx=()=>Zp().optional(),kx=()=>Wp().optional(),Rx={string:t=>Ge.create({...t,coerce:!0}),number:t=>Tt.create({...t,coerce:!0}),boolean:t=>jr.create({...t,coerce:!0}),bigint:t=>Pt.create({...t,coerce:!0}),date:t=>Lt.create({...t,coerce:!0})},Ox=Z;var wn=Object.freeze({__proto__:null,defaultErrorMap:nr,setErrorMap:Tb,getErrorMap:yn,makeIssue:gn,EMPTY_PATH:Pb,addIssueToContext:q,ParseStatus:Pe,INVALID:Z,DIRTY:Kt,OK:ke,isAborted:Ro,isDirty:Oo,isValid:Vt,isAsync:Pr,get util(){return X},get objectUtil(){return ko},ZodParsedType:O,getParsedType:mt,ZodType:K,datetimeRegex:Lp,ZodString:Ge,ZodNumber:Tt,ZodBigInt:Pt,ZodBoolean:jr,ZodDate:Lt,ZodSymbol:bn,ZodUndefined:qr,ZodNull:kr,ZodAny:ir,ZodUnknown:Mt,ZodNever:yt,ZodVoid:xn,ZodArray:Ke,ZodObject:me,ZodUnion:Rr,ZodDiscriminatedUnion:Kn,ZodIntersection:Or,ZodTuple:it,ZodRecord:Er,ZodMap:Cn,ZodSet:Bt,ZodFunction:Yt,ZodLazy:Nr,ZodLiteral:Dr,ZodEnum:jt,ZodNativeEnum:Fr,ZodPromise:ar,ZodEffects:Ye,ZodTransformer:Ye,ZodOptional:rt,ZodNullable:qt,ZodDefault:Qr,ZodCatch:Mr,ZodNaN:Sn,BRAND:Kb,ZodBranded:Tl,ZodPipeline:Yr,ZodReadonly:Vr,custom:Up,Schema:K,ZodSchema:K,late:Yb,get ZodFirstPartyTypeKind(){return $},coerce:Rx,any:ax,array:ux,bigint:ex,boolean:Wp,date:tx,discriminatedUnion:hx,effect:Jd,enum:Cx,function:_x,instanceof:Jb,intersection:px,lazy:bx,literal:xx,map:yx,nan:Xb,nativeEnum:Sx,never:ox,null:ix,nullable:Ix,number:Zp,object:cx,oboolean:kx,onumber:qx,optional:Ax,ostring:jx,pipeline:Px,preprocess:Tx,promise:wx,record:vx,set:gx,strictObject:dx,string:$p,symbol:rx,transformer:Jd,tuple:mx,undefined:nx,union:fx,unknown:sx,void:lx,NEVER:Ox,ZodIssueCode:w,quotelessJson:Ib,ZodError:De}),Ex="Label",Hp=m.forwardRef((t,e)=>l.jsx(xe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Hp.displayName=Ex;var zp=Hp;const Nx=Hf({base:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}),Pl=m.forwardRef(({className:t,...e},r)=>l.jsx(zp,{ref:r,className:ue(Nx(),t),...e}));Pl.displayName=zp.displayName;Pl.__docgenInfo={description:"",methods:[]};const Gp=ob,Kp=m.createContext({}),jl=({...t})=>l.jsx(Kp.Provider,{value:{name:t.name},children:l.jsx(db,{...t})}),Yn=()=>{const t=m.useContext(Kp),e=m.useContext(Yp),{getFieldState:r,formState:n}=Gn(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Yp=m.createContext({}),Jn=m.forwardRef(({className:t,...e},r)=>{const n=m.useId();return l.jsx(Yp.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:ue("space-y-1",t),...e})})});Jn.displayName="FormItem";const Xn=m.forwardRef(({className:t,...e},r)=>{const{formItemId:n}=Yn();return l.jsx(Pl,{ref:r,className:t,htmlFor:n,...e})});Xn.displayName="FormLabel";const ei=m.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=Yn();return l.jsx(Bo,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});ei.displayName="FormControl";const Jp=m.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Yn();return l.jsx("p",{ref:r,id:n,className:ue("text-sm text-muted-foreground",t),...e})});Jp.displayName="FormDescription";const ti=m.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=Yn(),s=i?String(i==null?void 0:i.message):e;return s?l.jsx("p",{ref:n,id:a,className:ue("text-sm font-medium text-destructive",t),...r,children:s}):null});ti.displayName="FormMessage";Jn.__docgenInfo={description:"",methods:[],displayName:"FormItem"};Xn.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};ei.__docgenInfo={description:"",methods:[],displayName:"FormControl"};Jp.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};ti.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};jl.__docgenInfo={description:"",methods:[],displayName:"FormField"};const Dx=wn.object({title:wn.string()});function Xp({open:t,onOpenChange:e,query:r}){const[n,i]=m.useState(!1),a=de(),s=Ep({resolver:Dp(Dx),values:{title:""}}),o=async u=>(i(!0),Promise.resolve(r.saveAsCustomPill(u.title)).then(()=>e(!1)).finally(()=>i(!1)));return l.jsx(jn,{open:t,onOpenChange:e,children:l.jsxs(qn,{children:[l.jsx(kn,{children:l.jsx(Rn,{children:a.queryBar.saveDialog.title})}),l.jsx(Gp,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6",children:[l.jsx(jl,{control:s.control,name:"title",render:({field:u})=>l.jsxs(Jn,{children:[l.jsx(Xn,{children:a.queryBar.saveDialog.fields.title.label}),l.jsx(ei,{children:l.jsx(Wo,{placeholder:a.queryBar.saveDialog.fields.title.placeholder,...u})}),l.jsx(ti,{})]})}),l.jsx("div",{className:"text-sm",children:a.queryBar.saveDialog.notice}),l.jsxs(On,{children:[l.jsx(En,{asChild:!0,children:l.jsx(Te,{variant:"outlined",children:a.queryBar.saveDialog.cancel})}),l.jsx(Te,{type:"submit",color:"primary",loading:n,children:a.queryBar.saveDialog.ok})]})]})})]})})}Xp.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function em(){const{query:t}=Be(),e=de(),[r,n]=m.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ne,{icon:Yf,onClick:()=>n(!0),disabled:t.hasCustomPill()})}),l.jsx(lt,{className:"max-w-[200px]",children:t.hasCustomPill()?e.queryBar.customPill.cannotSaveAsCustomPill:e.queryBar.customPill.createTooltip})]}),l.jsx(Xp,{open:r,onOpenChange:n,query:t})]})}em.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function tm(){const{customPillConfig:t}=pe();return l.jsxs("div",{className:`
flex gap-2 items-center py-2 px-4 border-r border-t border-b 
border-gray-400 bg-gray-100
group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
`,onClick:e=>e.stopPropagation(),children:[(t==null?void 0:t.enable)&&l.jsx(em,{}),l.jsx(ap,{}),l.jsx(yp,{})]})}tm.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};function rm(){const{queryBuilder:t,queryCountIcon:e,fetchQueryCount:r}=pe(),{query:n}=Be(),[i,a]=m.useState(0),[s,o]=m.useState(!0);return m.useEffect(()=>{o(!0),r(n.raw()).then(u=>a(u)).finally(()=>o(!1))},[r,n.raw(),t.getRawQueries()]),l.jsx("div",{className:"flex items-center gap-1",children:s?l.jsx(Lv,{}):l.jsxs(l.Fragment,{children:[e,l.jsx("span",{className:"font-medium",children:i})]})})}rm.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function nm(){const{query:t}=Be();return t.isSelectable()?l.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-gray-400 bg-gray-100
      group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
      group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
      `,children:[l.jsx(Bv,{size:"sm",checked:t.isSelected(),onClick:e=>{e.stopPropagation(),t.toggleSelect(!t.isSelected())}}),l.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}nm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};function im({type:t,size:e,className:r}){switch(t){case he.GreaterThan:return l.jsx(Hv,{size:e,className:r});case he.GreaterThanOrEqualTo:return l.jsx(Wv,{size:e,className:r});case he.LessThan:return l.jsx(Zv,{size:e,className:r});case he.LessThanOrEqualTo:return l.jsx($v,{size:e,className:r});case he.Between:return l.jsx(Ho,{size:e,className:r});case he.NotIn:default:return l.jsx(Uv,{size:e,className:r})}}im.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperator",props:{size:{required:!1,tsType:{name:"number"},description:""},type:{required:!0,tsType:{name:"union",raw:"SqonOpEnum | (string & {})",elements:[{name:"SqonOpEnum"},{name:"unknown"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var to,Xd;function am(){if(Xd)return to;Xd=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return to=t,to}var ro,ef;function Fx(){if(ef)return ro;ef=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ro=e,ro}var no,tf;function Qx(){if(tf)return no;tf=1;var t=Fx(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return no=r,no}var io,rf;function sm(){if(rf)return io;rf=1;var t=ur(),e=_t(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return io=n,io}var ao,nf;function Mx(){if(nf)return ao;nf=1;var t=Qx(),e=gt(),r=sm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=a.test(c);return f||s.test(c)?o(c.slice(2),f?2:8):i.test(c)?n:+c}return ao=u,ao}var so,af;function Vx(){if(af)return so;af=1;var t=Mx(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return so=n,so}var oo,sf;function Lx(){if(sf)return oo;sf=1;var t=Vx();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return oo=e,oo}var lo,of;function Bx(){if(of)return lo;of=1;var t=am(),e=Lx();function r(n,i,a){return n&&n.length?(i=a||i===void 0?1:e(i),t(n,0,i<0?0:i)):[]}return lo=r,lo}var Ux=Bx();const $x=$t(Ux);function om({className:t,...e}){return l.jsx("span",{className:t,...e,children:"&"})}om.__docgenInfo={description:"",methods:[],displayName:"IntersectionOperator"};function lm({className:t,...e}){return l.jsx("span",{className:t,...e,children:","})}lm.__docgenInfo={description:"",methods:[],displayName:"UnionOperator"};function Jr({canExpand:t,className:e,classNameContent:r,children:n,onClick:i,...a}){return l.jsx("div",{className:ue("bg-white rounded-sm pl-2 text-xs font-medium leading-5 relative",t?"pr-[22px]":"pr-2",e),...a,children:l.jsx("div",{onClick:i,className:ue("flex flex-wrap items-center",i?"hover:shadow-[inset_0_-4px_0_-2.5px_black] hover:cursor-pointer":"",r),children:n})})}Jr.__docgenInfo={description:"",methods:[],displayName:"QueryPillValuesContainer",props:{canExpand:{required:!1,tsType:{name:"boolean"},description:""},classNameContent:{required:!1,tsType:{name:"string"},description:""}}};function ri({valueFilter:t,...e}){const[r,n]=m.useState(!1),i=t.content.value.length>3,a=r?t.content.value:$x(t.content.value,3);return l.jsxs(Jr,{canExpand:i,...e,children:[t.content.overrideValuesName?l.jsx("div",{children:l.jsx("span",{children:t.content.overrideValuesName})}):a.map((s,o)=>l.jsxs("div",{children:[l.jsx("span",{children:s}),a.length-1>o&&(t.op===he.All?l.jsx(om,{className:"px-1"}):l.jsx(lm,{className:"px-1"}))]},`${s}-${o}`)),i&&l.jsx("div",{className:"absolute right-1 hover:cursor-pointer",children:r?l.jsx(Jv,{size:16,onClick:s=>{s.preventDefault(),n(!1)}}):l.jsx(Rv,{size:16,onClick:s=>{s.preventDefault(),n(!0)}})})]})}ri.__docgenInfo={description:"",methods:[],displayName:"QueryPillValues",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function fr({children:t,className:e,onRemovePill:r,...n}){return l.jsxs("div",{className:ue("flex items-center rounded-sm p-[2px] bg-gray-300 group-data-[query-active=true]/query:bg-[--query-pill-bg-active]",e),...n,children:[t,l.jsx(Ne,{icon:Vv,variant:"link",className:"pr-[2px] pl-[4px] py-[2px] size-auto",onClick:i=>{i.stopPropagation(),r()}})]})}fr.__docgenInfo={description:"",methods:[],displayName:"QueryPillContainer",props:{onRemovePill:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function ql({valueFilter:t,operator:e,className:r,...n}){const i=de(),{showLabels:a}=pe();return l.jsx("div",{className:ue("flex items-center",r),...n,children:(a||Jg(t)||Xg(t))&&l.jsxs(l.Fragment,{children:[l.jsx(Rl,{children:i.queryPill.facet(t.content.field)}),l.jsx(kl,{children:e})]})})}const kl=({className:t,children:e,...r})=>l.jsx("span",{className:ue("ml-[2px] mr-[4px]",t),...r,children:e});function Rl({className:t,children:e,...r}){return l.jsx("span",{className:ue("ml-[4px] mr-[2px] text-xs font-medium",t),...r,children:e})}kl.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperatorContainer"};Rl.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelContainer"};ql.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelOperator",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},operator:{required:!0,tsType:{name:"ReactNode"},description:""}}};function Ol({valueFilter:t,customPillEditEnabled:e}){var u;const{query:r}=Be(),{queryPillFacetFilterConfig:n}=pe(),[i,a]=m.useState(),s=!!(!e&&(n!=null&&n.enable)&&!((u=n==null?void 0:n.blacklistedFacets)!=null&&u.includes(t.content.field))),o=m.useCallback(()=>{n!=null&&n.onFacetClick&&!i&&a(n.onFacetClick(t))},[i,n==null?void 0:n.onFacetClick]);return l.jsxs(fr,{onRemovePill:()=>r.removePillByFieldOrIndex(t.content.field),children:[l.jsx(ql,{valueFilter:t,operator:l.jsx(im,{size:14,type:t.op})}),l.jsx(Nv,{condition:s,wrapper:c=>l.jsxs(vp,{children:[l.jsx(bl,{asChild:!0,onClick:o,children:c}),l.jsx(Hn,{align:"start",children:i})]}),children:l.jsx(ri,{valueFilter:t})})]})}Ol.__docgenInfo={description:"",methods:[],displayName:"QueryPillField",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};function um(){return l.jsx("div",{children:"QueryPillRemoteComponent"})}um.__docgenInfo={description:"",methods:[],displayName:"QueryPillRemoteComponent"};function cm({valueFilter:t}){const{query:e}=Be();return l.jsxs(fr,{onRemovePill:()=>e.removePillByFieldOrIndex(t.content.field),children:[l.jsx(ql,{valueFilter:t,operator:l.jsx(Ho,{size:14,type:t.op})}),l.jsx(ri,{valueFilter:t})]})}cm.__docgenInfo={description:"",methods:[],displayName:"QueryPillUploadList",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};var uo,lf;function Zx(){if(lf)return uo;lf=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return uo=t,uo}var co,uf;function Wx(){if(uf)return co;uf=1;var t=lr(),e=Zx(),r=Rt(),n=sm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return co=s,co}var fo,cf;function dm(){if(cf)return fo;cf=1;var t=Wx();function e(r){return r==null?"":t(r)}return fo=e,fo}var ho,df;function Hx(){if(df)return ho;df=1;var t=am();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return ho=e,ho}var po,ff;function fm(){if(ff)return po;ff=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function u(c){return o.test(c)}return po=u,po}var mo,hf;function zx(){if(hf)return mo;hf=1;function t(e){return e.split("")}return mo=t,mo}var vo,pf;function Gx(){if(pf)return vo;pf=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+u+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=c+"?",g="["+a+"]?",x="(?:"+b+"(?:"+[d,f,y].join("|")+")"+g+S+")*",I=g+S+x,p="(?:"+[d+o+"?",o,f,y,s].join("|")+")",A=RegExp(u+"(?="+u+")|"+p+I,"g");function k(E){return E.match(A)||[]}return vo=k,vo}var yo,mf;function Kx(){if(mf)return yo;mf=1;var t=zx(),e=fm(),r=Gx();function n(i){return e(i)?r(i):t(i)}return yo=n,yo}var go,vf;function Yx(){if(vf)return go;vf=1;var t=Hx(),e=fm(),r=Kx(),n=dm();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,u=o?o[0]:s.charAt(0),c=o?t(o,1).join(""):s.slice(1);return u[a]()+c}}return go=i,go}var _o,yf;function Jx(){if(yf)return _o;yf=1;var t=Yx(),e=t("toUpperCase");return _o=e,_o}var bo,gf;function Xx(){if(gf)return bo;gf=1;var t=dm(),e=Jx();function r(n){return e(t(n).toLowerCase())}return bo=r,bo}var eC=Xx();const No=$t(eC);function hm({valueFilter:t}){const{query:e}=Be(),r=de();return l.jsxs(fr,{onRemovePill:()=>e.removePillByFieldOrIndex(t.content.field),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rl,{children:t.content.index?No(t.content.index):r.queryPill.facet(t.content.field)}),l.jsx(kl,{children:l.jsx(Ho,{size:14})})]}),l.jsx(Jr,{children:l.jsx(ri,{valueFilter:t})})]})}hm.__docgenInfo={description:"",methods:[],displayName:"QueryPillSet",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function pm({refIndex:t}){const{query:e}=Be(),{getQueryReferenceColor:r}=pe(),n=r(t);return l.jsx(fr,{onRemovePill:()=>e.removePillByFieldOrIndex(t),children:l.jsx(Jr,{children:l.jsx("span",{style:{color:n},children:`Q${t+1}`})})})}pm.__docgenInfo={description:"",methods:[],displayName:"QueryPillReference",props:{refIndex:{required:!0,tsType:{name:"number"},description:""}}};const mm=({children:t,icon:e=zo,onChangeText:r,...n})=>{const[i,a]=m.useState(!1);return l.jsx("div",{...n,children:i?l.jsx(Wo,{defaultValue:t,autoFocus:!0,onBlur:s=>{a(!1),r==null||r(s.currentTarget.value)},className:"max-w-96 w-full",onKeyUp:s=>{s.key==="Enter"&&(a(!1),r==null||r(s.currentTarget.value))}}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:t}),l.jsx(Ne,{icon:e,onClick:()=>a(!0)})]})})};mm.__docgenInfo={description:"",methods:[],displayName:"EditableText",props:{icon:{required:!1,tsType:{name:"ReactForwardRefExoticComponent",raw:`React.ForwardRefExoticComponent<
  Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>
>`,elements:[{name:"intersection",raw:'Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>',elements:[{name:"Omit",elements:[{name:"LucideProps"},{name:"literal",value:'"ref"'}],raw:'Omit<LucideProps, "ref">'},{name:"ReactRefAttributes",raw:"React.RefAttributes<SVGSVGElement>",elements:[{name:"SVGSVGElement"}]}]}]},description:"",defaultValue:{value:"PencilLineIcon",computed:!0}},children:{required:!0,tsType:{name:"string"},description:""},onChangeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""}}};function vm(t,e){or.open({type:"warning",title:e.savedFilter.deleteDialog.title,description:e.savedFilter.deleteDialog.description,cancelProps:{children:e.savedFilter.deleteDialog.cancel},actionProps:{color:"destructive",onClick:()=>t.delete(),children:e.savedFilter.deleteDialog.ok}})}function ym(t,e){or.open({type:"warning",title:e.savedFilter.overwriteDialog.title,description:e.savedFilter.overwriteDialog.description,cancelProps:{children:e.savedFilter.overwriteDialog.cancel},actionProps:{onClick:()=>t.createSavedFilter(),children:e.savedFilter.overwriteDialog.ok}})}function tC(t){or.open({type:"error",title:t.queryPill.customPill.cantBeEmptyDialog.title,description:t.queryPill.customPill.cantBeEmptyDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.cantBeEmptyDialog.ok}})}function rC(t){or.open({type:"error",title:t.queryPill.customPill.titleExistsDialog.title,description:t.queryPill.customPill.titleExistsDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.titleExistsDialog.ok}})}function nC(t,e,r,n){or.open({type:"warning",title:t.queryPill.customPill.saveDialog.title,description:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:t.queryPill.customPill.saveDialog.confirmationMessage.replace("{title}",e)}),(r==null?void 0:r.length)&&l.jsxs("div",{className:"border rounded p-4 space-y-2",children:[l.jsx("div",{className:"font-medium text-black",children:t.queryPill.customPill.saveDialog.affectedFilters}),l.jsx("ul",{className:"list-disc list-inside",children:r.map(i=>l.jsx("li",{className:"list-item",children:i.title}))})]})]}),cancelProps:{children:t.queryPill.customPill.saveDialog.cancel},actionProps:{children:t.queryPill.customPill.saveDialog.ok,onClick:async i=>(i.preventDefault(),n())}})}function gm({open:t,onOpenChange:e,queryPill:r}){const n=de(),{queryBuilder:i,customPillConfig:a}=pe(),s=Qh({id:a==null?void 0:a.queryBuilderEditId,initialState:{activeQueryId:r.queries[0].id,queries:r.queries,savedFilters:[r],selectedQueryIndexes:[]},onCustomPillUpdate:async I=>{var A,k;return await Promise.resolve((k=(A=i.coreProps).onCustomPillUpdate)==null?void 0:k.call(A,I)).then(E=>(i.setState(D=>({...D,queries:s_(D.queries,I)})),e(!1),E))}}),[o,u]=m.useState(r.title),[c,d]=m.useState(!1),f=s.getQueries()[0],y=s.getSelectedSavedFilter(),b=o!==r.title,S=b||(y==null?void 0:y.isDirty()),g=m.useCallback(I=>{I?e(!0):(s.reset(),e(!1))},[e,s]),x=m.useCallback(async()=>{if(f.isEmpty()){tC(n);return}if(d(!0),b){const p=await(a==null?void 0:a.validateCustomPillTitle(o));if(p!==void 0&&p===!1){d(!1),rC(n);return}}const I=await(a==null?void 0:a.fetchSavedFiltersByCustomPillId(r.id).finally(()=>d(!1)));nC(n,o,I,async()=>y==null?void 0:y.save(Wt.Query,{title:o}))},[f,y,n,o,r.id,a]);return l.jsx(jn,{open:t,onOpenChange:g,children:l.jsx(yl.Provider,{value:{queryBuilder:s,fetchQueryCount:async()=>0,getQueryReferenceColor:()=>"",showLabels:!0},children:l.jsxs(qn,{className:"flex flex-row gap-0 h-screen w-screen max-w-screen rounded-none border-none sm:rounded-none p-0",children:[l.jsx("aside",{className:"flex flex-col min-w-48 bg-primary",children:l.jsx("span",{className:"italic",children:"TODO Insert filters"})}),l.jsx("div",{className:"w-full bg-gray-100",children:l.jsxs("div",{className:"flex flex-col bg-white gap-6 p-6",children:[l.jsx(kn,{children:l.jsx(Rn,{children:n.queryPill.customPill.editDialog.title})}),l.jsx(Ov,{}),l.jsx("div",{children:l.jsx(mm,{onChangeText:u,children:o})}),l.jsx("div",{"data-query-active":!0,className:"flex flex-wrap group/query",children:l.jsx(gl.Provider,{value:{query:f},children:l.jsx(ni,{sqon:f.raw(),customPillEditEnabled:!0})})}),l.jsxs(On,{className:"mt-5",children:[l.jsx(En,{asChild:!0,children:l.jsx(Te,{variant:"outlined",children:n.queryPill.customPill.editDialog.cancel})}),l.jsx(Te,{type:"submit",color:"primary",loading:c,disabled:!S,onClick:x,children:n.queryPill.customPill.editDialog.ok})]})]})})]})})})}gm.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustomEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},queryPill:{required:!0,tsType:{name:"ISavedFilter"},description:""}}};function _m({valueQuery:t}){const{query:e}=Be(),[r,n]=m.useState(!1),{title:i,...a}=t,s={id:t.id,title:t.title,queries:[a],favorite:!1};return l.jsxs(l.Fragment,{children:[l.jsx(fr,{onRemovePill:()=>e.removePillById(t.id),children:l.jsxs(Jr,{className:"pr-1",classNameContent:"space-x-1",children:[l.jsx("span",{children:t.title}),l.jsx(Ne,{icon:zo,size:"xs",className:"size-auto p-[2px]",onClick:()=>n(!0)})]})}),r&&l.jsx(gm,{open:r,onOpenChange:n,queryPill:s})]})}_m.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustom",props:{valueQuery:{required:!0,tsType:{name:"IValueQuery"},description:""}}};function bm({groupFilter:t}){const e={},r=m.useMemo(()=>(t.content.forEach(n=>{e.hasOwnProperty(n.content.field)?(e[n.content.field]=It(e[n.content.field]),e[n.content.field].content.value=e[n.content.field].content.value.concat(n.content.value),n.op===dn.In&&t.op===Le.And&&t.skipBooleanOperatorCheck&&(e[n.content.field].op=dn.All)):e[n.content.field]=It(n)}),{...t,content:Object.entries(e).map(n=>n[1])}),[t]);return l.jsx(Ol,{valueFilter:r.content[0]})}bm.__docgenInfo={description:"",methods:[],displayName:"QueryPillIsolatedBoolean",props:{groupFilter:{required:!0,tsType:{name:"ISqonGroupFilter"},description:""}}};function xm({className:t,...e}){const r=de();return l.jsx("span",{className:ue("",t),...e,children:r.queryPill.operator.and})}xm.__docgenInfo={description:"",methods:[],displayName:"AndOperator"};function Cm({className:t,...e}){const r=de();return l.jsx("span",{className:ue("",t),...e,children:r.queryPill.operator.or})}Cm.__docgenInfo={description:"",methods:[],displayName:"OrOperator"};function Sm(){const{query:t}=Be(),e=de(),r=t.raw().op===Le.And;return l.jsx("div",{className:"px-2",onClick:n=>n.stopPropagation(),children:l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Te,{variant:"link",className:"text-sm p-0 h-auto font-normal",onClick:()=>t.changeCombineOperator(r?Le.or:Le.and),children:r?l.jsx(xm,{}):l.jsx(Cm,{})})}),l.jsxs(lt,{children:[e.queryPill.operator.changeOperatorTo,' "',r?e.queryPill.operator.or:e.queryPill.operator.and,'"']})]})})}Sm.__docgenInfo={description:"",methods:[],displayName:"QueryCombiner"};function ni({sqon:t,customPillEditEnabled:e}){return l.jsx(l.Fragment,{children:t.content.map((r,n)=>l.jsxs("div",{className:"flex items-center py-[2px]",children:[r.skipBooleanOperatorCheck?l.jsx(bm,{groupFilter:r}):e_(r)?l.jsx(_m,{valueQuery:r}):cr(r)?l.jsx(ni,{sqon:r}):Hr(r)?l.jsx(pm,{refIndex:r}):Gg(r)?l.jsx(hm,{valueFilter:r}):Kg(r)?l.jsx(cm,{valueFilter:r}):Yg(r)?l.jsx(um,{}):l.jsx(Ol,{valueFilter:r,customPillEditEnabled:e}),iC(t.content,n)&&l.jsx(Sm,{})]},n))})}const iC=(t,e)=>t.length-1>e;ni.__docgenInfo={description:"",methods:[],displayName:"QueryPillBoolean",props:{sqon:{required:!0,tsType:{name:"ISyntheticSqon"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};const aC=Hf({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-[--query-bar-border-color-active] bg-[--query-bar-bg-active]"],false:["border-gray-400 bg-gray-100"]}},defaultVariants:{active:!1}});function wm({query:t}){const e=t.isActive(),r=de(),{enableCombine:n}=pe(),i=()=>{e||t.setAsActive()};return l.jsx(gl.Provider,{value:{query:t},children:l.jsxs("div",{"data-query-active":e,className:"flex group/query",onClick:i,children:[l.jsx(ip,{}),n&&l.jsx(nm,{}),l.jsx("div",{className:aC({active:e}),children:l.jsx("div",{className:"flex-1",children:t.isEmpty()?l.jsx(l.Fragment,{children:r.queryBar.empty}):l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1",children:cr(t.raw())&&l.jsx("div",{className:"flex items-center flex-wrap pr-2",children:l.jsx(ni,{sqon:t.raw()})})}),l.jsx(rm,{})]})})}),t.isNotEmpty()&&l.jsx(tm,{})]})})}wm.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function Am(){const t=de(),{queryBuilder:e}=pe(),r=m.useCallback(()=>{or.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{color:"destructive",onClick:()=>e.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[e,t]);return e.getQueries().length>1?l.jsx(Te,{variant:"link",size:"xs",className:"no-underline enabled:hover:no-underline",onClick:r,children:t.toolbar.clearAll}):null}Am.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function Im(){const t=de(),{queryBuilder:e,enableCombine:r}=pe();return e.canCombine()&&r?l.jsx(Ev,{actions:[{label:No(t.queryPill.operator.and),onClick:()=>e.combineSelectedQueries(Le.And)},{label:No(t.queryPill.operator.or),onClick:()=>e.combineSelectedQueries(Le.Or)}],onDefaultAction:()=>e.combineSelectedQueries(Le.And),size:"xs",variant:"primary",children:t.toolbar.combine}):null}Im.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function Tm(){const t=de(),{queryBuilder:e}=pe();return e.canCombine()?null:l.jsxs(Te,{size:"xs",color:"primary",disabled:e.hasEmptyQuery(),onClick:()=>e.createQuery({op:Le.And,content:[]}),children:[l.jsx(Kf,{}),t.toolbar.newQuery]})}Tm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function Pm(){const t=de(),{queryBuilder:e,enableShowHideLabels:r,showLabels:n,toggleLabels:i}=pe();return!e.canCombine()&&r?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Gv,{size:"xs",checked:n,onCheckedChange:i})," ",t.toolbar.labels]}):null}Pm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function jm(){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Tm,{}),l.jsx(Im,{}),l.jsx(Pm,{})]}),l.jsx("div",{children:l.jsx(Am,{})})]})}jm.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function qm(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?ym(e,t):r==null||r.duplicate()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Gf,disabled:(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:t.savedFilter.duplicateTooltip})]})}qm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function km(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?ym(e,t):e.createSavedFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Kf,onClick:n,disabled:(r==null?void 0:r.isNew())||!r})})}),l.jsx(lt,{children:t.savedFilter.newFilter})]})}km.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function Rm(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=r?!r.isDirty():e.isEmpty(),i=function(){r?r.save(Wt.Filter):e.saveNewFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Yf,color:"orange-400",disabled:n,className:r!=null&&r.isDirty()?"text-gold-500":"",onClick:i})})}),l.jsx(lt,{children:e.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:r!=null&&r.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}Rm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Om(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter();return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Zf,disabled:(r==null?void 0:r.isNew())||!r,onClick:()=>vm(r,t)})})}),l.jsx(lt,{children:t.savedFilter.deleteTooltip})]})}Om.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function Em(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=function(){};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Dv,disabled:(r==null?void 0:r.isDirty())||(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:r!=null&&r.isDirty()||!r?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}Em.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};function _f(t,[e,r]){return Math.min(r,Math.max(e,t))}var sC=[" ","Enter","ArrowUp","ArrowDown"],oC=[" ","Enter"],Xr="Select",[ii,ai,lC]=Ef(Xr),[hr,Qw]=Tn(Xr,[lC,Pn]),si=Pn(),[uC,Et]=hr(Xr),[cC,dC]=hr(Xr),Nm=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:u,dir:c,name:d,autoComplete:f,disabled:y,required:b,form:S}=t,g=si(e),[x,I]=m.useState(null),[p,A]=m.useState(null),[k,E]=m.useState(!1),D=Nf(c),[R=!1,V]=Xt({prop:n,defaultProp:i,onChange:a}),[U,B]=Xt({prop:s,defaultProp:o,onChange:u}),Q=m.useRef(null),N=x?S||!!x.closest("form"):!0,[M,Y]=m.useState(new Set),ee=Array.from(M).map(ne=>ne.props.value).join(";");return l.jsx(Df,{...g,children:l.jsxs(uC,{required:b,scope:e,trigger:x,onTriggerChange:I,valueNode:p,onValueNodeChange:A,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:sr(),value:U,onValueChange:B,open:R,onOpenChange:V,dir:D,triggerPointerDownPosRef:Q,disabled:y,children:[l.jsx(ii.Provider,{scope:e,children:l.jsx(cC,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ne=>{Y(ce=>new Set(ce).add(ne))},[]),onNativeOptionRemove:m.useCallback(ne=>{Y(ce=>{const Se=new Set(ce);return Se.delete(ne),Se})},[]),children:r})}),N?l.jsxs(av,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:f,value:U,onChange:ne=>B(ne.target.value),disabled:y,form:S,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},ee):null]})})};Nm.displayName=Xr;var Dm="SelectTrigger",Fm=m.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=si(r),s=Et(Dm,r),o=s.disabled||n,u=Ee(e,s.onTriggerChange),c=ai(r),d=m.useRef("touch"),[f,y,b]=sv(g=>{const x=c().filter(A=>!A.disabled),I=x.find(A=>A.value===s.value),p=ov(x,g,I);p!==void 0&&s.onValueChange(p.value)}),S=g=>{o||(s.onOpenChange(!0),b()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Uo,{asChild:!0,...a,children:l.jsx(xe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":iv(s.value)?"":void 0,...i,ref:u,onClick:fe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&S(g)}),onPointerDown:fe(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:fe(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&y(g.key),!(x&&g.key===" ")&&sC.includes(g.key)&&(S(),g.preventDefault())})})})});Fm.displayName=Dm;var Qm="SelectValue",fC=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,u=Et(Qm,r),{onValueNodeHasChildrenChange:c}=u,d=a!==void 0,f=Ee(e,u.onValueNodeChange);return vt(()=>{c(d)},[c,d]),l.jsx(xe.span,{...o,ref:f,style:{pointerEvents:"none"},children:iv(u.value)?l.jsx(l.Fragment,{children:s}):a})});fC.displayName=Qm;var hC="SelectIcon",Mm=m.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(xe.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Mm.displayName=hC;var pC="SelectPortal",Vm=t=>l.jsx(Mf,{asChild:!0,...t});Vm.displayName=pC;var Ut="SelectContent",Lm=m.forwardRef((t,e)=>{const r=Et(Ut,t.__scopeSelect),[n,i]=m.useState();if(vt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?zf.createPortal(l.jsx(Bm,{scope:t.__scopeSelect,children:l.jsx(ii.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(Um,{...t,ref:e})});Lm.displayName=Ut;var He=10,[Bm,Nt]=hr(Ut),mC="SelectContentImpl",Um=m.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:y,collisionPadding:b,sticky:S,hideWhenDetached:g,avoidCollisions:x,...I}=t,p=Et(Ut,r),[A,k]=m.useState(null),[E,D]=m.useState(null),R=Ee(e,W=>k(W)),[V,U]=m.useState(null),[B,Q]=m.useState(null),N=ai(r),[M,Y]=m.useState(!1),ee=m.useRef(!1);m.useEffect(()=>{if(A)return Vf(A)},[A]),Bf();const ne=m.useCallback(W=>{const[oe,...we]=N().map(se=>se.ref.current),[le]=we.slice(-1),ie=document.activeElement;for(const se of W)if(se===ie||(se==null||se.scrollIntoView({block:"nearest"}),se===oe&&E&&(E.scrollTop=0),se===le&&E&&(E.scrollTop=E.scrollHeight),se==null||se.focus(),document.activeElement!==ie))return},[N,E]),ce=m.useCallback(()=>ne([V,A]),[ne,V,A]);m.useEffect(()=>{M&&ce()},[M,ce]);const{onOpenChange:Se,triggerPointerDownPosRef:Ie}=p;m.useEffect(()=>{if(A){let W={x:0,y:0};const oe=le=>{var ie,se;W={x:Math.abs(Math.round(le.pageX)-(((ie=Ie.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(le.pageY)-(((se=Ie.current)==null?void 0:se.y)??0))}},we=le=>{W.x<=10&&W.y<=10?le.preventDefault():A.contains(le.target)||Se(!1),document.removeEventListener("pointermove",oe),Ie.current=null};return Ie.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",we,{capture:!0})}}},[A,Se,Ie]),m.useEffect(()=>{const W=()=>Se(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[Se]);const[Ue,ct]=sv(W=>{const oe=N().filter(ie=>!ie.disabled),we=oe.find(ie=>ie.ref.current===document.activeElement),le=ov(oe,W,we);le&&setTimeout(()=>le.ref.current.focus())}),xt=m.useCallback((W,oe,we)=>{const le=!ee.current&&!we;(p.value!==void 0&&p.value===oe||le)&&(U(W),le&&(ee.current=!0))},[p.value]),Dt=m.useCallback(()=>A==null?void 0:A.focus(),[A]),$e=m.useCallback((W,oe,we)=>{const le=!ee.current&&!we;(p.value!==void 0&&p.value===oe||le)&&Q(W)},[p.value]),Ct=n==="popper"?Do:$m,Ze=Ct===Do?{side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:y,collisionPadding:b,sticky:S,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(Bm,{scope:r,content:A,viewport:E,onViewportChange:D,itemRefCallback:xt,selectedItem:V,onItemLeave:Dt,itemTextRefCallback:$e,focusSelectedItem:ce,selectedItemText:B,position:n,isPositioned:M,searchRef:Ue,children:l.jsx(Lf,{as:Bo,allowPinchZoom:!0,children:l.jsx(Uf,{asChild:!0,trapped:p.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:fe(i,W=>{var oe;(oe=p.trigger)==null||oe.focus({preventScroll:!0}),W.preventDefault()}),children:l.jsx($f,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:l.jsx(Ct,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:W=>W.preventDefault(),...I,...Ze,onPlaced:()=>Y(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:fe(I.onKeyDown,W=>{const oe=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!oe&&W.key.length===1&&ct(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let le=N().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(W.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ie=W.target,se=le.indexOf(ie);le=le.slice(se+1)}setTimeout(()=>ne(le)),W.preventDefault()}})})})})})})});Um.displayName=mC;var vC="SelectItemAlignedPosition",$m=m.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Et(Ut,r),s=Nt(Ut,r),[o,u]=m.useState(null),[c,d]=m.useState(null),f=Ee(e,R=>d(R)),y=ai(r),b=m.useRef(!1),S=m.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:I,focusSelectedItem:p}=s,A=m.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&x&&I){const R=a.trigger.getBoundingClientRect(),V=c.getBoundingClientRect(),U=a.valueNode.getBoundingClientRect(),B=I.getBoundingClientRect();if(a.dir!=="rtl"){const ie=B.left-V.left,se=U.left-ie,Fe=R.left-se,Qe=R.width+Fe,re=Math.max(Qe,V.width),dt=window.innerWidth-He,J=_f(se,[He,Math.max(He,dt-re)]);o.style.minWidth=Qe+"px",o.style.left=J+"px"}else{const ie=V.right-B.right,se=window.innerWidth-U.right-ie,Fe=window.innerWidth-R.right-se,Qe=R.width+Fe,re=Math.max(Qe,V.width),dt=window.innerWidth-He,J=_f(se,[He,Math.max(He,dt-re)]);o.style.minWidth=Qe+"px",o.style.right=J+"px"}const Q=y(),N=window.innerHeight-He*2,M=g.scrollHeight,Y=window.getComputedStyle(c),ee=parseInt(Y.borderTopWidth,10),ne=parseInt(Y.paddingTop,10),ce=parseInt(Y.borderBottomWidth,10),Se=parseInt(Y.paddingBottom,10),Ie=ee+ne+M+Se+ce,Ue=Math.min(x.offsetHeight*5,Ie),ct=window.getComputedStyle(g),xt=parseInt(ct.paddingTop,10),Dt=parseInt(ct.paddingBottom,10),$e=R.top+R.height/2-He,Ct=N-$e,Ze=x.offsetHeight/2,W=x.offsetTop+Ze,oe=ee+ne+W,we=Ie-oe;if(oe<=$e){const ie=Q.length>0&&x===Q[Q.length-1].ref.current;o.style.bottom="0px";const se=c.clientHeight-g.offsetTop-g.offsetHeight,Fe=Math.max(Ct,Ze+(ie?Dt:0)+se+ce),Qe=oe+Fe;o.style.height=Qe+"px"}else{const ie=Q.length>0&&x===Q[0].ref.current;o.style.top="0px";const Fe=Math.max($e,ee+g.offsetTop+(ie?xt:0)+Ze)+we;o.style.height=Fe+"px",g.scrollTop=oe-$e+g.offsetTop}o.style.margin=`${He}px 0`,o.style.minHeight=Ue+"px",o.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[y,a.trigger,a.valueNode,o,c,g,x,I,a.dir,n]);vt(()=>A(),[A]);const[k,E]=m.useState();vt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const D=m.useCallback(R=>{R&&S.current===!0&&(A(),p==null||p(),S.current=!1)},[A,p]);return l.jsx(gC,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(xe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$m.displayName=vC;var yC="SelectPopperPosition",Do=m.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=He,...a}=t,s=si(r);return l.jsx(Ff,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Do.displayName=yC;var[gC,El]=hr(Ut,{}),Fo="SelectViewport",Zm=m.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Nt(Fo,r),s=El(Fo,r),o=Ee(e,a.onViewportChange),u=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(ii.Slot,{scope:r,children:l.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&f){const b=Math.abs(u.current-d.scrollTop);if(b>0){const S=window.innerHeight-He*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),I=Math.max(g,x);if(I<S){const p=I+b,A=Math.min(S,p),k=p-A;f.style.height=A+"px",f.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});Zm.displayName=Fo;var Wm="SelectGroup",[_C,bC]=hr(Wm),xC=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=sr();return l.jsx(_C,{scope:r,id:i,children:l.jsx(xe.div,{role:"group","aria-labelledby":i,...n,ref:e})})});xC.displayName=Wm;var Hm="SelectLabel",zm=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=bC(Hm,r);return l.jsx(xe.div,{id:i.id,...n,ref:e})});zm.displayName=Hm;var An="SelectItem",[CC,Gm]=hr(An),Km=m.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=Et(An,r),u=Nt(An,r),c=o.value===n,[d,f]=m.useState(a??""),[y,b]=m.useState(!1),S=Ee(e,p=>{var A;return(A=u.itemRefCallback)==null?void 0:A.call(u,p,n,i)}),g=sr(),x=m.useRef("touch"),I=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(CC,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:m.useCallback(p=>{f(A=>A||((p==null?void 0:p.textContent)??"").trim())},[]),children:l.jsx(ii.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(xe.div,{role:"option","aria-labelledby":g,"data-highlighted":y?"":void 0,"aria-selected":c&&y,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:S,onFocus:fe(s.onFocus,()=>b(!0)),onBlur:fe(s.onBlur,()=>b(!1)),onClick:fe(s.onClick,()=>{x.current!=="mouse"&&I()}),onPointerUp:fe(s.onPointerUp,()=>{x.current==="mouse"&&I()}),onPointerDown:fe(s.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:fe(s.onPointerMove,p=>{var A;x.current=p.pointerType,i?(A=u.onItemLeave)==null||A.call(u):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(s.onPointerLeave,p=>{var A;p.currentTarget===document.activeElement&&((A=u.onItemLeave)==null||A.call(u))}),onKeyDown:fe(s.onKeyDown,p=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&p.key===" "||(oC.includes(p.key)&&I(),p.key===" "&&p.preventDefault())})})})})});Km.displayName=An;var wr="SelectItemText",Ym=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Et(wr,r),o=Nt(wr,r),u=Gm(wr,r),c=dC(wr,r),[d,f]=m.useState(null),y=Ee(e,I=>f(I),u.onItemTextChange,I=>{var p;return(p=o.itemTextRefCallback)==null?void 0:p.call(o,I,u.value,u.disabled)}),b=d==null?void 0:d.textContent,S=m.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return vt(()=>(g(S),()=>x(S)),[g,x,S]),l.jsxs(l.Fragment,{children:[l.jsx(xe.span,{id:u.textId,...a,ref:y}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?zf.createPortal(a.children,s.valueNode):null]})});Ym.displayName=wr;var Jm="SelectItemIndicator",Xm=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Gm(Jm,r).isSelected?l.jsx(xe.span,{"aria-hidden":!0,...n,ref:e}):null});Xm.displayName=Jm;var Qo="SelectScrollUpButton",ev=m.forwardRef((t,e)=>{const r=Nt(Qo,t.__scopeSelect),n=El(Qo,t.__scopeSelect),[i,a]=m.useState(!1),s=Ee(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollTop>0;a(c)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(rv,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});ev.displayName=Qo;var Mo="SelectScrollDownButton",tv=m.forwardRef((t,e)=>{const r=Nt(Mo,t.__scopeSelect),n=El(Mo,t.__scopeSelect),[i,a]=m.useState(!1),s=Ee(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;a(d)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(rv,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});tv.displayName=Mo;var rv=m.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Nt("SelectScrollButton",r),s=m.useRef(null),o=ai(r),u=m.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),vt(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:fe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{u()})})}),SC="SelectSeparator",nv=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(xe.div,{"aria-hidden":!0,...n,ref:e})});nv.displayName=SC;var Vo="SelectArrow",wC=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=si(r),a=Et(Vo,r),s=Nt(Vo,r);return a.open&&s.position==="popper"?l.jsx(Qf,{...i,...n,ref:e}):null});wC.displayName=Vo;function iv(t){return t===""||t===void 0}var av=m.forwardRef((t,e)=>{const{value:r,...n}=t,i=m.useRef(null),a=Ee(e,i),s=Kv(r);return m.useEffect(()=>{const o=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(s!==r&&d){const f=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(f)}},[s,r]),l.jsx(Mv,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});av.displayName="BubbleSelect";function sv(t){const e=kv(t),r=m.useRef(""),n=m.useRef(0),i=m.useCallback(s=>{const o=r.current+s;e(o),function u(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(o)},[e]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function ov(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=AC(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==r));const u=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function AC(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var IC=Nm,lv=Fm,TC=Mm,PC=Vm,uv=Lm,jC=Zm,cv=zm,dv=Km,qC=Ym,kC=Xm,fv=ev,hv=tv,pv=nv;const RC=IC,Nl=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(lv,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(TC,{asChild:!0,children:l.jsx(Zo,{className:"h-4 w-4 opacity-50"})})]}));Nl.displayName=lv.displayName;const Dl=m.forwardRef(({className:t,...e},r)=>l.jsx(fv,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Xv,{className:"h-4 w-4"})}));Dl.displayName=fv.displayName;const Fl=m.forwardRef(({className:t,...e},r)=>l.jsx(hv,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Zo,{className:"h-4 w-4"})}));Fl.displayName=hv.displayName;const Ql=m.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(PC,{children:l.jsxs(uv,{ref:i,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(Dl,{}),l.jsx(jC,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Fl,{})]})}));Ql.displayName=uv.displayName;const mv=m.forwardRef(({className:t,...e},r)=>l.jsx(cv,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));mv.displayName=cv.displayName;const Ml=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(dv,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(kC,{children:l.jsx(Yv,{className:"h-4 w-4"})})}),l.jsx(qC,{children:e})]}));Ml.displayName=dv.displayName;const Vl=m.forwardRef(({className:t,...e},r)=>l.jsx(pv,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Vl.displayName=pv.displayName;Nl.__docgenInfo={description:"",methods:[]};Ql.__docgenInfo={description:"",methods:[],props:{position:{defaultValue:{value:'"popper"',computed:!1},required:!1}}};mv.__docgenInfo={description:"",methods:[]};Ml.__docgenInfo={description:"",methods:[]};Vl.__docgenInfo={description:"",methods:[]};Dl.__docgenInfo={description:"",methods:[]};Fl.__docgenInfo={description:"",methods:[]};const OC=wn.object({title:wn.string().min(2,"Min 2 characters").max(50,"Max 50 characters")});function Ll({open:t,onOpenChange:e,savedFilter:r}){const n=de(),{queryBuilder:i}=pe(),a=Ep({resolver:Dp(OC),values:{title:(r==null?void 0:r.raw().title)||""}});function s(o){r?r.save(Wt.Filter,{title:o.title}):i.saveNewFilter({title:o.title}),e(!1)}return l.jsx(jn,{open:t,onOpenChange:e,children:l.jsxs(qn,{children:[l.jsx(kn,{children:l.jsx(Rn,{children:n.savedFilter.editDialog.title})}),l.jsx(Gp,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-8",children:[l.jsx(jl,{control:a.control,name:"title",render:({field:o})=>l.jsxs(Jn,{children:[l.jsx(Xn,{children:n.savedFilter.editDialog.fields.title.label}),l.jsx(ei,{children:l.jsx(Wo,{placeholder:n.savedFilter.editDialog.fields.title.placeholder,...o})}),l.jsx(ti,{})]})}),l.jsxs(On,{children:[l.jsx(En,{asChild:!0,children:l.jsx(Te,{variant:"outlined",children:n.savedFilter.editDialog.cancel})}),l.jsx(Te,{type:"submit",color:"primary",children:n.savedFilter.editDialog.ok})]})]})})]})})}Ll.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to duplicate the SavedFilter
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    }
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the SavedFilter"},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const EC={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},NC=(t,e,r)=>{let n;const i=EC[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},DC={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},FC=(t,e,r,n)=>DC[t];function Xe(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const QC={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},MC={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},VC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},LC={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},BC={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},UC=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},$C=["MMM","MMMM"],ZC={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&$C.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:UC,era:Xe({values:QC,defaultWidth:"wide"}),quarter:Xe({values:MC,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xe({values:VC,defaultWidth:"wide"}),day:Xe({values:LC,defaultWidth:"wide"}),dayPeriod:Xe({values:BC,defaultWidth:"wide"})};function et(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?HC(o,f=>f.test(s)):WC(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function WC(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function HC(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function vv(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const zC=/^(\d+)(ime|re|me|er|e)?/i,GC=/\d+/i,KC={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},YC={any:[/^av/i,/^ap/i]},JC={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},XC={any:[/1/i,/2/i,/3/i,/4/i]},eS={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},tS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},rS={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},nS={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},iS={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},aS={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},sS={ordinalNumber:vv({matchPattern:zC,parsePattern:GC,valueCallback:t=>parseInt(t)}),era:et({matchPatterns:KC,defaultMatchWidth:"wide",parsePatterns:YC,defaultParseWidth:"any"}),quarter:et({matchPatterns:JC,defaultMatchWidth:"wide",parsePatterns:XC,defaultParseWidth:"any",valueCallback:t=>t+1}),month:et({matchPatterns:eS,defaultMatchWidth:"wide",parsePatterns:tS,defaultParseWidth:"any"}),day:et({matchPatterns:rS,defaultMatchWidth:"wide",parsePatterns:nS,defaultParseWidth:"any"}),dayPeriod:et({matchPatterns:iS,defaultMatchWidth:"any",parsePatterns:aS,defaultParseWidth:"any"})};function Jt(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const oS={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},lS={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},uS={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cS={date:Jt({formats:oS,defaultWidth:"full"}),time:Jt({formats:lS,defaultWidth:"full"}),dateTime:Jt({formats:uS,defaultWidth:"full"})},dS={code:"fr-CA",formatDistance:NC,formatLong:cS,formatRelative:FC,localize:ZC,match:sS,options:{weekStartsOn:0,firstWeekContainsDate:1}},an=43200,bf=1440,xf=Symbol.for("constructDateFrom");function yv(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&xf in t?t[xf](e):t instanceof Date?new t.constructor(e):new Date(e)}function kt(t,e){return yv(t,t)}let fS={};function hS(){return fS}function Cf(t){const e=kt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Bl(t,...e){const r=yv.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function cn(t,e){const r=+kt(t)-+kt(e);return r<0?-1:r>0?1:r}function pS(t,e,r){const[n,i]=Bl(r==null?void 0:r.in,t,e),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function mS(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function vS(t,e){return+kt(t)-+kt(e)}function yS(t,e){const r=kt(t);return r.setHours(23,59,59,999),r}function gS(t,e){const r=kt(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function _S(t,e){const r=kt(t);return+yS(r)==+gS(r)}function bS(t,e,r){const[n,i,a]=Bl(r==null?void 0:r.in,t,t,e),s=cn(i,a),o=Math.abs(pS(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let u=cn(i,a)===-s;_S(n)&&o===1&&cn(n,a)===1&&(u=!1);const c=s*(o-+u);return c===0?0:c}function xS(t,e,r){const n=vS(t,e)/1e3;return mS(r==null?void 0:r.roundingMethod)(n)}const CS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SS=(t,e,r)=>{let n;const i=CS[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},wS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TS={date:Jt({formats:wS,defaultWidth:"full"}),time:Jt({formats:AS,defaultWidth:"full"}),dateTime:Jt({formats:IS,defaultWidth:"full"})},PS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jS=(t,e,r,n)=>PS[t],qS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ES={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DS=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FS={ordinalNumber:DS,era:Xe({values:qS,defaultWidth:"wide"}),quarter:Xe({values:kS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xe({values:RS,defaultWidth:"wide"}),day:Xe({values:OS,defaultWidth:"wide"}),dayPeriod:Xe({values:ES,defaultWidth:"wide",formattingValues:NS,defaultFormattingWidth:"wide"})},QS=/^(\d+)(th|st|nd|rd)?/i,MS=/\d+/i,VS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LS={any:[/^b/i,/^(a|c)/i]},BS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},US={any:[/1/i,/2/i,/3/i,/4/i]},$S={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KS={ordinalNumber:vv({matchPattern:QS,parsePattern:MS,valueCallback:t=>parseInt(t,10)}),era:et({matchPatterns:VS,defaultMatchWidth:"wide",parsePatterns:LS,defaultParseWidth:"any"}),quarter:et({matchPatterns:BS,defaultMatchWidth:"wide",parsePatterns:US,defaultParseWidth:"any",valueCallback:t=>t+1}),month:et({matchPatterns:$S,defaultMatchWidth:"wide",parsePatterns:ZS,defaultParseWidth:"any"}),day:et({matchPatterns:WS,defaultMatchWidth:"wide",parsePatterns:HS,defaultParseWidth:"any"}),dayPeriod:et({matchPatterns:zS,defaultMatchWidth:"any",parsePatterns:GS,defaultParseWidth:"any"})},YS={code:"en-US",formatDistance:SS,formatLong:TS,formatRelative:jS,localize:FS,match:KS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JS(t,e,r){const n=hS(),i=(r==null?void 0:r.locale)??n.locale??YS,a=2520,s=cn(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[u,c]=Bl(r==null?void 0:r.in,...s>0?[e,t]:[t,e]),d=xS(c,u),f=(Cf(c)-Cf(u))/1e3,y=Math.round((d-f)/60);let b;if(y<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):y===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",y,o);if(y<45)return i.formatDistance("xMinutes",y,o);if(y<90)return i.formatDistance("aboutXHours",1,o);if(y<bf){const S=Math.round(y/60);return i.formatDistance("aboutXHours",S,o)}else{if(y<a)return i.formatDistance("xDays",1,o);if(y<an){const S=Math.round(y/bf);return i.formatDistance("xDays",S,o)}else if(y<an*2)return b=Math.round(y/an),i.formatDistance("aboutXMonths",b,o)}if(b=bS(c,u),b<12){const S=Math.round(y/an);return i.formatDistance("xMonths",S,o)}else{const S=b%12,g=Math.trunc(b/12);return S<3?i.formatDistance("aboutXYears",g,o):S<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function gv({open:t,onOpenChange:e}){const r=de(),{queryBuilder:n}=pe(),i=n.getSavedFilters();return m.useEffect(()=>{i.length===0&&e(!1)},[i]),l.jsx(l.Fragment,{children:l.jsx(jn,{open:t,onOpenChange:e,children:l.jsxs(qn,{className:"w-full max-w-[550px]",children:[l.jsx(kn,{children:l.jsx(Rn,{children:r.savedFilter.manageDialog.title})}),l.jsx(Fv,{bordered:!0,className:"max-h-[250px]",children:i.map(a=>l.jsx(XS,{savedFilter:a},a.id))}),l.jsx(On,{children:l.jsx(En,{asChild:!0,children:l.jsx(Te,{variant:"primary",children:r.savedFilter.manageDialog.close})})})]})})})}const XS=({savedFilter:t})=>{const e=de(),[r,n]=m.useState(!1),[i,a]=m.useState(!1),s=m.useCallback(()=>{const o=t.raw();if(!o.updated_date)return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const u=JS(new Date,new Date(o.updated_date),{locale:dS});return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",u)},[t.raw()]);return l.jsxs(l.Fragment,{children:[l.jsx(Qv,{title:t.raw().title,description:s(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>a(!0),onDelete:()=>vm(t,e)},t.id),l.jsx(Ll,{open:i,onOpenChange:a,savedFilter:t})]})};gv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function _v(){const t=de(),{queryBuilder:e}=pe(),r=e.getSavedFilters(),[n,i]=m.useState(!1),[a,s]=m.useState(!1),o=e.getSelectedSavedFilter(),u=function(){i(!1),s(!0)},c=m.useMemo(()=>new Date,[o==null?void 0:o.id]);return l.jsxs(l.Fragment,{children:[l.jsxs(RC,{value:o==null?void 0:o.id,onValueChange:d=>{var f;return(f=r.find(y=>y.id===d))==null?void 0:f.select()},open:n,onOpenChange:i,disabled:r.length===0,children:[l.jsxs(st,{open:r.length>0?!1:void 0,children:[l.jsx(ot,{asChild:!0,children:l.jsx(Nl,{className:"w-[135px] h-7",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ey,{size:14})," ",t.savedFilter.myFilters]})})}),l.jsx(lt,{children:t.savedFilter.noSavedFilters})]}),l.jsxs(Ql,{children:[r.map(d=>l.jsx(Ml,{value:d.id,children:d.raw().title},d.id)),l.jsx(Vl,{}),l.jsx(Te,{size:"sm",className:"w-full pl-2 justify-start",onClick:u,children:t.savedFilter.manageFilters})]})]},+c),l.jsx(gv,{open:a,onOpenChange:s})]})}_v.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function bv({className:t,...e}){return l.jsx("div",{className:ue("flex",t),...e,children:l.jsxs("div",{className:"flex gap-4 items-center",onClick:r=>r.stopPropagation(),children:[l.jsxs("div",{className:"flex gap-1.5 whitespace-nowrap",children:[l.jsx(km,{}),l.jsx(Rm,{}),l.jsx(qm,{}),l.jsx(Om,{}),l.jsx(Em,{})]}),l.jsx(_v,{})]})})}bv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function xv(){const{queryBuilder:t}=pe(),[e,r]=m.useState(!1),n=t.getSelectedSavedFilter();return l.jsxs(l.Fragment,{children:[l.jsx(Ne,{icon:zo,onClick:()=>r(!0)}),l.jsx(Ll,{open:e,onOpenChange:r,savedFilter:n})]})}xv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Cv(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter();return r!=null&&r.isDirty()?l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ne,{icon:ty,disabled:!r,onClick:()=>r.discardChanges()})}),l.jsx(lt,{children:t.savedFilter.discardTooltip})]}):null}Cv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function Sv(){const t=de(),{queryBuilder:e,enableFavorite:r}=pe(),n=e.getSelectedSavedFilter();if(!r)return null;const i=function(){n?n.save(Wt.Filter,{favorite:!n.isFavorite()}):e.saveNewFilter({favorite:!0})};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ne,{icon:ry,iconClassName:n!=null&&n.isFavorite()?"stroke-gold-500 fill-gold-500":"",disabled:!n,onClick:i})}),l.jsx(lt,{children:n!=null&&n.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}Sv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function wv({className:t,...e}){const{queryBuilder:r}=pe(),n=r.getSelectedSavedFilter();return l.jsxs("div",{className:ue("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...e,children:[l.jsx("div",{className:"text-ellipsis overflow-hidden text-base",children:n?n.raw().title:r.coreProps.savedFilterDefaultTitle}),l.jsx(Wf,{children:l.jsxs("div",{className:"flex gap-1.5",onClick:i=>i.stopPropagation(),children:[l.jsx(xv,{}),l.jsx(Sv,{}),l.jsx(Cv,{})]})})]})}wv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};const Lo={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:"You will find your saved queries in the sidebar under the Queries heading.",cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},Av=["#C31D7E","#328536","#AA00FF","#C2410C","#047ABE","#E5231F","#007D85","#C51162","#7B5A90","#B85C00","#722ED1","#4D7C0F","#9F1239","#2D7D9A","#847545"];function xo(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Iv(t,e){const r={...t},n=e;return xo(t)&&xo(e)&&Object.keys(e).forEach(i=>{xo(n[i])&&i in t?r[i]=Iv(r[i],n[i]):r[i]=n[i]}),r}function en({className:t,enableCombine:e=!0,enableFavorite:r=!1,enableShowHideLabels:n,initialShowHideLabels:i=!0,queryReferenceColors:a=Av,queryCountIcon:s,fetchQueryCount:o,dictionary:u=Lo,customPillConfig:c,queryPillFacetFilterConfig:d,...f}){const y=Qh(f),b=m.useMemo(()=>Iv(Lo,u),[u]),[S,g]=m.useState(i),x=m.useCallback(p=>a[p%a.length],[a]),I=m.useMemo(()=>({queryBuilder:y,enableCombine:e,enableFavorite:r,enableShowHideLabels:n,showLabels:S,toggleLabels:g,queryCountIcon:s,getQueryReferenceColor:x,fetchQueryCount:o,dictionary:u,customPillConfig:c,queryPillFacetFilterConfig:d}),[y,e,r,n,S,g,s,x,o,u,c,d]);return l.jsx(np.Provider,{value:b,children:l.jsx(yl.Provider,{value:I,children:l.jsx(W_,{type:"multiple",defaultValue:["query-builder"],className:t,children:l.jsxs(pl,{value:"query-builder",className:"border-none",children:[l.jsxs(ml,{asChild:!0,className:"border border-border py-0 px-5 rounded-t-sm data-[state=closed]:rounded-sm hover:cursor-pointer",children:[l.jsx(wv,{className:"py-4 pr-4"}),l.jsx(bv,{className:"ml-auto py-4"})]}),l.jsxs(vl,{className:"border-border border-l border-b border-r py-4 px-5 space-y-4 rounded-b-sm",children:[l.jsx("div",{className:"flex flex-col gap-2 max-h-[30vh] overflow-scroll",children:y.getQueries().map(p=>l.jsx(wm,{query:p},p.id))}),l.jsx(jm,{})]})]})})})})}en.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1},dictionary:{defaultValue:{value:`{
  queryBar: {
    empty: "Use the search tools & facets on the left to build a query",
    deletePopover: {
      title: "Delete this query?",
      cancel: "Cancel",
      ok: "Delete",
    },
    customPill: {
      createTooltip: "Create a custom query",
      cannotSaveAsCustomPill:
        "Custom queries cannot include other custom queries",
    },
    saveDialog: {
      title: "Save this query",
      fields: {
        title: {
          label: "Query name",
          placeholder: "Untitled query",
        },
      },
      notice:
        "You will find your saved queries in the sidebar under the Queries heading.",
      cancel: "Cancel",
      ok: "Save",
    },
  },
  queryPill: {
    operator: {
      changeOperatorTo: "Change operator to",
      and: "and",
      or: "or",
    },
    facet: (key) => key,
    customPill: {
      editDialog: {
        title: "Edit custom query",
        cancel: "Cancel",
        ok: "Save",
      },
      cantBeEmptyDialog: {
        title: "Query cannot be empty",
        description: "Your custom query must contain at least one criteria.",
        ok: "Close",
      },
      titleExistsDialog: {
        title: "Name already in use",
        description:
          "A custom query with this name already exists. Please assign a unique name.",
        ok: "Close",
      },
      saveDialog: {
        title: "Edit this query?",
        confirmationMessage:
          'You are about to edit the custom query "{title}", which may affect your results.',
        affectedFilters: "Affected saved filters:",
        cancel: "Cancel",
        ok: "Save",
      },
    },
  },
  toolbar: {
    combine: "Combine",
    newQuery: "New query",
    clearAll: "Clear all",
    clearAllDialog: {
      title: "Delete all queries?",
      description:
        "You are about to delete all your queries. They will be lost forever.",
      cancel: "Cancel",
      ok: "Delete",
    },
    labels: "Labels",
  },
  savedFilter: {
    deleteTooltip: "Delete filter",
    deleteDialog: {
      title: "Permanently delete this filter?",
      description:
        "You are about to permanently delete this filter and all of its queries.",
      cancel: "Cancel",
      ok: "Delete filter",
    },
    duplicateTooltip: "Duplicate filter",
    overwriteDialog: {
      title: "Unsaved changes",
      description:
        "You are about to create a new filter; all modifications will be lost.",
      cancel: "Cancel",
      ok: "Create",
    },
    editDialog: {
      title: "Edit filter",
      cancel: "Cancel",
      ok: "Save",
      fields: {
        title: {
          label: "Title",
          placeholder: "Untitled query",
        },
      },
    },
    myFilters: "My Filters",
    manageFilters: "Manage filters",
    manageDialog: {
      title: "Manage filters",
      close: "Close",
      lastSaveAt: "Last saved at: {lastSaveAt} ago",
    },
    newFilter: "New filter",
    saveTooltip: {
      whenEmpty: "Add a query to save",
      whenDirty: "Save changes",
      default: "Save filter",
    },
    shareTooltip: {
      whenNotSaved: "Save filter to share",
      default: "Share (Copy url)",
    },
    favoriteTooltip: {
      set: "Set as default filter",
      unset: "Unset default filter",
    },
    discardTooltip: "Discard unsaved changes",
    noSavedFilters: "You have no saved filters",
  },
}`,computed:!1},required:!1}}};const Mw={title:"Feature/Query Builder",component:en,tags:["autodocs"],args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:Av,dictionary:Lo},decorators:[t=>l.jsx(Wf,{delayDuration:0,children:l.jsx(zv,{children:l.jsx(t,{})})})]},Co="query-builder-id",ew="query-builder-custom-pill-id",So="query-builder-query-pill-filter-id",Sf=t=>t[Math.floor(Math.random()*t.length)],In=(t=1,e=100)=>Math.floor(Math.random()*(e-t+1))+t,Tv=()=>Math.random().toString(36).substring(7),tw=[he.GreaterThan,he.LessThan,he.Between,he.GreaterThanOrEqualTo,he.LessThanOrEqualTo],gr=t=>({id:be(),title:(t==null?void 0:t.title)||`Custom Pill ${In(1,50)}`,queries:[Me()],keycloak_id:be(),creation_date:new Date().toISOString(),updated_date:new Date().toISOString(),tag:"tag",favorite:!1}),rw=t=>tw.includes(t)?Array.from({length:2},()=>In()):Array.from({length:In(2,5)},()=>Tv()),Me=(t=be())=>{const e=In(1,3),r=Array.from({length:e},()=>{const n=Sf(Object.values(he));return{op:n,content:{field:`field_${Tv()}`,value:rw(n)}}});return{id:t,op:Sf(["and","or"]),content:r}};function Pv({queryBuilderId:t}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{children:"Testing Tools:"}),l.jsxs("div",{className:"flex border p-4 gap-2",children:[l.jsx(Te,{color:"primary",size:"sm",onClick:()=>Qt.addQuery(t,Me()),children:"Add query"}),l.jsx(Te,{color:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),l.jsx(Te,{color:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const sn={args:{id:Co,initialState:{...Qt.getLocalQueryBuilderState(Co),savedFilters:[{id:be(),title:"Olivier's Filter",favorite:!1,queries:[Me(),Me(),Me()]},{id:be(),title:"Francis' Filter",favorite:!1,queries:[Me(),Me()]},{id:be(),title:"Luc's Filter",favorite:!1,queries:[Me(),Me(),Me()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onCustomPillSave:te(),onCustomPillUpdate:te(),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te()},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(en,{...t}),l.jsx(Pv,{queryBuilderId:Co})]})},wf=be(),on={args:{id:ew,queryCountIcon:l.jsx(ny,{size:14}),initialState:{activeQueryId:wf,queries:[Me(wf),Me()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onCustomPillSave:t=>(wo("onCustomPillSave")(t),new Promise(e=>setTimeout(()=>e(gr(t)),750))),onCustomPillUpdate:t=>(wo("onCustomPillUpdate")(t),new Promise(e=>setTimeout(()=>e(gr(t)),750))),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(gr()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([gr(),gr()]),750))}},render:t=>l.jsx(en,{...t})},ln={args:{id:So,initialState:{...Qt.getLocalQueryBuilderState(So),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(wo("onFacetClick")(t),l.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(en,{...t}),l.jsx(Pv,{queryBuilderId:So})]})};var Af,If,Tf;sn.parameters={...sn.parameters,docs:{...(Af=sn.parameters)==null?void 0:Af.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(Tf=(If=sn.parameters)==null?void 0:If.docs)==null?void 0:Tf.source}}};var Pf,jf,qf;on.parameters={...on.parameters,docs:{...(Pf=on.parameters)==null?void 0:Pf.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    queryCountIcon: <UserIcon size={14} />,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action("onCustomPillSave")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action("onCustomPillUpdate")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: "qb-custom-pill-edit-id",
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(qf=(jf=on.parameters)==null?void 0:jf.docs)==null?void 0:qf.source}}};var kf,Rf,Of;ln.parameters={...ln.parameters,docs:{...(kf=ln.parameters)==null?void 0:kf.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action("onFacetClick")(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Of=(Rf=ln.parameters)==null?void 0:Rf.docs)==null?void 0:Of.source}}};const Vw=["Default","CustomPill","QueryPillFilter"];export{on as CustomPill,sn as Default,ln as QueryPillFilter,Vw as __namedExportsOrder,Mw as default};
