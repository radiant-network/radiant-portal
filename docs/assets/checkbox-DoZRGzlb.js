import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-CTzypqlY.js";import{c as O,P as E,u as H,b as N,a as j}from"./index-DSqg7KUl.js";import{u as G}from"./index-W4gAHHet.js";import{u as K}from"./index-Y7TeOx8d.js";import{P as U}from"./index-BEp8L1N2.js";import{c as V}from"./utils-bRKmu4jq.js";import{c as X}from"./index-C66Dxnp2.js";import{C as $}from"./check-BwCYBAs1.js";var y="Checkbox",[J,de]=O(y),[Q,P]=J(y);function W(t){const{__scopeCheckbox:s,checked:o,children:c,defaultChecked:a,disabled:e,form:p,name:h,onCheckedChange:u,required:m,value:k="on",internal_do_not_use_render:l}=t,[f,v]=H({prop:o,defaultProp:a??!1,onChange:u,caller:y}),[C,x]=d.useState(null),[g,r]=d.useState(null),i=d.useRef(!1),w=C?!!p||!!C.closest("form"):!0,_={checked:f,disabled:e,setChecked:v,control:C,setControl:x,name:h,form:p,value:k,hasConsumerStoppedPropagationRef:i,required:m,defaultChecked:b(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:r};return n.jsx(Q,{scope:s,..._,children:Y(l)?l(_):c})}var S="CheckboxTrigger",B=d.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:o,...c},a)=>{const{control:e,value:p,disabled:h,checked:u,required:m,setControl:k,setChecked:l,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:C}=P(S,t),x=N(a,k),g=d.useRef(u);return d.useEffect(()=>{const r=e==null?void 0:e.form;if(r){const i=()=>l(g.current);return r.addEventListener("reset",i),()=>r.removeEventListener("reset",i)}},[e,l]),n.jsx(E.button,{type:"button",role:"checkbox","aria-checked":b(u)?"mixed":u,"aria-required":m,"data-state":z(u),"data-disabled":h?"":void 0,disabled:h,value:p,...c,ref:x,onKeyDown:j(s,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:j(o,r=>{l(i=>b(i)?!0:!i),C&&v&&(f.current=r.isPropagationStopped(),f.current||r.stopPropagation())})})});B.displayName=S;var R=d.forwardRef((t,s)=>{const{__scopeCheckbox:o,name:c,checked:a,defaultChecked:e,required:p,disabled:h,value:u,onCheckedChange:m,form:k,...l}=t;return n.jsx(W,{__scopeCheckbox:o,checked:a,defaultChecked:e,disabled:h,required:p,onCheckedChange:m,name:c,form:k,value:u,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(B,{...l,ref:s,__scopeCheckbox:o}),f&&n.jsx(A,{__scopeCheckbox:o})]})})});R.displayName=y;var M="CheckboxIndicator",T=d.forwardRef((t,s)=>{const{__scopeCheckbox:o,forceMount:c,...a}=t,e=P(M,o);return n.jsx(U,{present:c||b(e.checked)||e.checked===!0,children:n.jsx(E.span,{"data-state":z(e.checked),"data-disabled":e.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});T.displayName=M;var q="CheckboxBubbleInput",A=d.forwardRef(({__scopeCheckbox:t,...s},o)=>{const{control:c,hasConsumerStoppedPropagationRef:a,checked:e,defaultChecked:p,required:h,disabled:u,name:m,value:k,form:l,bubbleInput:f,setBubbleInput:v}=P(q,t),C=N(o,v),x=G(e),g=K(c);d.useEffect(()=>{const i=f;if(!i)return;const w=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(w,"checked").set,F=!a.current;if(x!==e&&I){const L=new Event("click",{bubbles:F});i.indeterminate=b(e),I.call(i,b(e)?!1:e),i.dispatchEvent(L)}},[f,x,e,a]);const r=d.useRef(b(e)?!1:e);return n.jsx(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??r.current,required:h,disabled:u,name:m,value:k,form:l,...s,tabIndex:-1,ref:C,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});A.displayName=q;function Y(t){return typeof t=="function"}function b(t){return t==="indeterminate"}function z(t){return b(t)?"indeterminate":t?"checked":"unchecked"}const Z=X({slots:{base:"peer shrink-0 rounded-sm border ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring shadow disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=checked]:text-primary-foreground",icon:""},variants:{size:{default:{base:"w-4 h-4",icon:"w-3 h-3"},xs:{base:"w-3.5 h-3.5",icon:"w-3 h-3"},sm:{base:"w-4 h-4",icon:"w-3 h-3"},md:{base:"w-5 h-5",icon:"w-4 h-4"},lg:{base:"w-6 h-6",icon:"w-5 h-5"}}},defaultVariants:{size:"default"}});function D({className:t,size:s,...o}){const c=Z({size:s});return n.jsx(R,{className:c.base({className:t}),...o,children:n.jsx(T,{className:V("flex items-center justify-center text-current"),children:n.jsx($,{className:c.icon()})})})}D.displayName=R.displayName;D.__docgenInfo={description:"",methods:[]};export{D as C};
