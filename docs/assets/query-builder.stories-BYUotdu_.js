var Zv=Object.defineProperty;var Wv=(t,e,r)=>e in t?Zv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var br=(t,e,r)=>Wv(t,typeof e!="symbol"?e+"":e,r);import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{f as re}from"./index-DhvbgntC.js";import{v as Hv}from"./v4-CtRu48qb.js";import{c as un,g as $t,r as p,R as K}from"./index-DUAV1Q2A.js";import{c as Rn,a as Xt,P as ge,b as fe,u as Ne,e as vt,S as Zo,h as zv}from"./index-U3FPUE7W.js";import{u as or,f as Vf,g as Lf,c as On,R as Bf,a as Wo,P as Uf,h as $f,d as Zf,e as Wf,F as Hf,D as zf,C as Kf,b as Gf,i as Kv,A as Gv}from"./ActionButton-DJ-zvHxB.js";import{P as Ho,C as Yv}from"./check-BNLNP-zw.js";import{c as te}from"./utils-BNf5BS2b.js";import{c as Je}from"./createLucideIcon-DirO1-NP.js";import{I as Ee,S as Jv}from"./IconButton-CAjj3x4x.js";import"./button.variants-Dx1t5vGh.js";import{B as Ie}from"./button-DZIcAY0X.js";import{T as Yf,C as Xv,S as ey,a as ty,L as ry}from"./list-item-with-action-BJC2UcdB.js";import{b as st,c as ot,T as lt,a as Nn,V as ny}from"./tooltip-lDeg0Xzt.js";import{R as iy,C as Jf,P as ay,b as Xf,T as eh,O as th,D as rh,a as lr,A as sy}from"./alert-dialog-provider-CMwSBHsI.js";import{c as nh}from"./index-C66Dxnp2.js";import{I as zo}from"./input-B2gjFgpo.js";import{C as oy}from"./checkbox-DXUvLd6r.js";import{a as ly,N as cy,E as Ko,c as uy,L as dy,b as fy,G as hy}from"./not-in-operator-icon-Bim0Jqau.js";import{S as py}from"./switch-Buhvb-N5.js";import{r as ih}from"./index-VDvXe9nZ.js";import{u as my}from"./index-DeoL25kd.js";import"./index-CqVsPxxY.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Je("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Je("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Je("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),{addons:xy}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:Cy}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:Kl}=__STORYBOOK_MODULE_GLOBAL__;var Sy=Object.defineProperty,wy=(t,e)=>{for(var r in e)Sy(t,r,{get:e[r],enumerable:!0})},Ay="storybook/actions",Iy=`${Ay}/action-event`,Py={depth:10,clearOnStoryChange:!0,limit:50},ch=(t,e)=>{let r=Object.getPrototypeOf(t);return!r||e(r)?r:ch(r,e)},Ty=t=>!!(typeof t=="object"&&t&&ch(t,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof t.persist=="function"),jy=t=>{if(Ty(t)){let e=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));e.persist();let r=Object.getOwnPropertyDescriptor(e,"view"),n=r==null?void 0:r.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...r,value:Object.create(n.constructor.prototype)}),e}return t},ky=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?Hv():Date.now().toString(36)+Math.random().toString(36).substring(2);function er(t,e={}){let r={...Py,...e},n=function(...i){var f,v;if(e.implicit){let b=(f="__STORYBOOK_PREVIEW__"in Kl?Kl.__STORYBOOK_PREVIEW__:void 0)==null?void 0:f.storyRenders.find(C=>C.phase==="playing"||C.phase==="rendering");if(b){let C=!((v=globalThis==null?void 0:globalThis.FEATURES)!=null&&v.disallowImplicitActionsInRenderV8),g=new Cy({phase:b.phase,name:t,deprecated:C});if(C)console.warn(g);else throw g}}let a=xy.getChannel(),s=ky(),o=5,c=i.map(jy),u=i.length>1?c:c[0],d={id:s,count:0,data:{name:t,args:u},options:{...r,maxDepth:o+(r.depth||3),allowFunction:r.allowFunction||!1}};a.emit(Iy,d)};return n.isAction=!0,n.implicit=e.implicit,n}const{definePreview:uA}=__STORYBOOK_MODULE_PREVIEW_API__,{global:ci}=__STORYBOOK_MODULE_GLOBAL__;var qy={};wy(qy,{argsEnhancers:()=>Ny,loaders:()=>Dy});var uh=(t,e)=>typeof e[t]>"u"&&!(t in e),Ry=t=>{let{initialArgs:e,argTypes:r,id:n,parameters:{actions:i}}=t;if(!i||i.disable||!i.argTypesRegex||!r)return{};let a=new RegExp(i.argTypesRegex);return Object.entries(r).filter(([s])=>!!a.test(s)).reduce((s,[o,c])=>(uh(o,e)&&(s[o]=er(o,{implicit:!0,id:n})),s),{})},Oy=t=>{let{initialArgs:e,argTypes:r,parameters:{actions:n}}=t;return n!=null&&n.disable||!r?{}:Object.entries(r).filter(([i,a])=>!!a.action).reduce((i,[a,s])=>(uh(a,e)&&(i[a]=er(typeof s.action=="string"?s.action:a)),i),{})},Ny=[Oy,Ry],Gl=!1,Ey=t=>{let{parameters:{actions:e}}=t;if(!(e!=null&&e.disable)&&!Gl&&"__STORYBOOK_TEST_ON_MOCK_CALL__"in ci&&typeof ci.__STORYBOOK_TEST_ON_MOCK_CALL__=="function"){let r=ci.__STORYBOOK_TEST_ON_MOCK_CALL__;r((n,i)=>{let a=n.getMockName();a!=="spy"&&(!/^next\/.*::/.test(a)||["next/router::useRouter()","next/navigation::useRouter()","next/navigation::redirect","next/cache::","next/headers::cookies().set","next/headers::cookies().delete","next/headers::headers().set","next/headers::headers().delete"].some(s=>a.startsWith(s)))&&er(a)(i)}),Gl=!0}},Dy=[Ey],ke=(t=>(t[">"]=">",t["<"]="<",t.between="between",t[">="]=">=",t["<="]="<=",t.in="in",t["not-in"]="not-in",t["some-not-in"]="some-not-in",t.all="all",t))(ke||{}),Po=(t=>(t[">"]=">",t["<"]="<",t.between="between",t[">="]=">=",t["<="]="<=",t.in="in",t))(Po||{}),Rr=(t=>(t.in="in",t["not-in"]="not-in",t.all="all",t["some-not-in"]="some-not-in",t))(Rr||{}),De=(t=>(t.and="and",t.or="or",t.not="not",t))(De||{});const Fy="set_id:";var tr=(t=>(t.DEFAULT="OVERRIDE_VALUES",t.OVERRIDE_VALUES="OVERRIDE_VALUES",t.APPEND_VALUES="APPEND_VALUES",t))(tr||{}),En=(t=>(t.DEFAULT="OVERRIDE_OPERATOR",t.OVERRIDE_OPERATOR="OVERRIDE_OPERATOR",t.KEEP_OPERATOR="KEEP_OPERATOR",t))(En||{});const we=[];for(let t=0;t<256;++t)we.push((t+256).toString(16).slice(1));function Qy(t,e=0){return(we[t[e+0]]+we[t[e+1]]+we[t[e+2]]+we[t[e+3]]+"-"+we[t[e+4]]+we[t[e+5]]+"-"+we[t[e+6]]+we[t[e+7]]+"-"+we[t[e+8]]+we[t[e+9]]+"-"+we[t[e+10]]+we[t[e+11]]+we[t[e+12]]+we[t[e+13]]+we[t[e+14]]+we[t[e+15]]).toLowerCase()}let ui;const My=new Uint8Array(16);function Vy(){if(!ui){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ui=crypto.getRandomValues.bind(crypto)}return ui(My)}const Ly=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yl={randomUUID:Ly};function be(t,e,r){var i;if(Yl.randomUUID&&!t)return Yl.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Vy();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Qy(n)}var di,Jl;function Dn(){if(Jl)return di;Jl=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return di=e,di}var fi,Xl;function dh(){if(Xl)return fi;Xl=1;function t(e,r){return function(n){return e(r(n))}}return fi=t,fi}var hi,ec;function By(){if(ec)return hi;ec=1;var t=dh(),e=t(Object.keys,Object);return hi=e,hi}var pi,tc;function fh(){if(tc)return pi;tc=1;var t=Dn(),e=By(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return pi=i,pi}var mi,rc;function hh(){if(rc)return mi;rc=1;var t=typeof un=="object"&&un&&un.Object===Object&&un;return mi=t,mi}var vi,nc;function ct(){if(nc)return vi;nc=1;var t=hh(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return vi=r,vi}var yi,ic;function cr(){if(ic)return yi;ic=1;var t=ct(),e=t.Symbol;return yi=e,yi}var gi,ac;function Uy(){if(ac)return gi;ac=1;var t=cr(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),c=s[i];try{s[i]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(o?s[i]=c:delete s[i]),d}return gi=a,gi}var _i,sc;function $y(){if(sc)return _i;sc=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return _i=r,_i}var bi,oc;function ur(){if(oc)return bi;oc=1;var t=cr(),e=Uy(),r=$y(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return bi=s,bi}var xi,lc;function gt(){if(lc)return xi;lc=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return xi=t,xi}var Ci,cc;function Jo(){if(cc)return Ci;cc=1;var t=ur(),e=gt(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var c=t(o);return c==n||c==i||c==r||c==a}return Ci=s,Ci}var Si,uc;function Zy(){if(uc)return Si;uc=1;var t=ct(),e=t["__core-js_shared__"];return Si=e,Si}var wi,dc;function Wy(){if(dc)return wi;dc=1;var t=Zy(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return wi=r,wi}var Ai,fc;function ph(){if(fc)return Ai;fc=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ai=r,Ai}var Ii,hc;function Hy(){if(hc)return Ii;hc=1;var t=Jo(),e=Wy(),r=gt(),n=ph(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,u=o.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(v){if(!r(v)||e(v))return!1;var b=t(v)?d:a;return b.test(n(v))}return Ii=f,Ii}var Pi,pc;function zy(){if(pc)return Pi;pc=1;function t(e,r){return e==null?void 0:e[r]}return Pi=t,Pi}var Ti,mc;function Zt(){if(mc)return Ti;mc=1;var t=Hy(),e=zy();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Ti=r,Ti}var ji,vc;function Ky(){if(vc)return ji;vc=1;var t=Zt(),e=ct(),r=t(e,"DataView");return ji=r,ji}var ki,yc;function Xo(){if(yc)return ki;yc=1;var t=Zt(),e=ct(),r=t(e,"Map");return ki=r,ki}var qi,gc;function Gy(){if(gc)return qi;gc=1;var t=Zt(),e=ct(),r=t(e,"Promise");return qi=r,qi}var Ri,_c;function mh(){if(_c)return Ri;_c=1;var t=Zt(),e=ct(),r=t(e,"Set");return Ri=r,Ri}var Oi,bc;function Yy(){if(bc)return Oi;bc=1;var t=Zt(),e=ct(),r=t(e,"WeakMap");return Oi=r,Oi}var Ni,xc;function Hr(){if(xc)return Ni;xc=1;var t=Ky(),e=Xo(),r=Gy(),n=mh(),i=Yy(),a=ur(),s=ph(),o="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",v="[object DataView]",b=s(t),C=s(e),g=s(r),x=s(n),I=s(i),m=a;return(t&&m(new t(new ArrayBuffer(1)))!=v||e&&m(new e)!=o||r&&m(r.resolve())!=u||n&&m(new n)!=d||i&&m(new i)!=f)&&(m=function(A){var q=a(A),N=q==c?A.constructor:void 0,D=N?s(N):"";if(D)switch(D){case b:return v;case C:return o;case g:return u;case x:return d;case I:return f}return q}),Ni=m,Ni}var Ei,Cc;function _t(){if(Cc)return Ei;Cc=1;function t(e){return e!=null&&typeof e=="object"}return Ei=t,Ei}var Di,Sc;function Jy(){if(Sc)return Di;Sc=1;var t=ur(),e=_t(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Di=n,Di}var Fi,wc;function Fn(){if(wc)return Fi;wc=1;var t=Jy(),e=_t(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Fi=a,Fi}var Qi,Ac;function Rt(){if(Ac)return Qi;Ac=1;var t=Array.isArray;return Qi=t,Qi}var Mi,Ic;function vh(){if(Ic)return Mi;Ic=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Mi=e,Mi}var Vi,Pc;function zr(){if(Pc)return Vi;Pc=1;var t=Jo(),e=vh();function r(n){return n!=null&&e(n.length)&&!t(n)}return Vi=r,Vi}var wr={exports:{}},Li,Tc;function Xy(){if(Tc)return Li;Tc=1;function t(){return!1}return Li=t,Li}wr.exports;var jc;function Kr(){return jc||(jc=1,function(t,e){var r=ct(),n=Xy(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u}(wr,wr.exports)),wr.exports}var Bi,kc;function eg(){if(kc)return Bi;kc=1;var t=ur(),e=vh(),r=_t(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",v="[object RegExp]",b="[object Set]",C="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",I="[object DataView]",m="[object Float32Array]",A="[object Float64Array]",q="[object Int8Array]",N="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",Q={};Q[m]=Q[A]=Q[q]=Q[N]=Q[D]=Q[R]=Q[V]=Q[U]=Q[B]=!0,Q[n]=Q[i]=Q[x]=Q[a]=Q[I]=Q[s]=Q[o]=Q[c]=Q[u]=Q[d]=Q[f]=Q[v]=Q[b]=Q[C]=Q[g]=!1;function E(M){return r(M)&&e(M.length)&&!!Q[t(M)]}return Bi=E,Bi}var Ui,qc;function el(){if(qc)return Ui;qc=1;function t(e){return function(r){return e(r)}}return Ui=t,Ui}var Ar={exports:{}};Ar.exports;var Rc;function tl(){return Rc||(Rc=1,function(t,e){var r=hh(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(Ar,Ar.exports)),Ar.exports}var $i,Oc;function Qn(){if(Oc)return $i;Oc=1;var t=eg(),e=el(),r=tl(),n=r&&r.isTypedArray,i=n?e(n):t;return $i=i,$i}var Zi,Nc;function tg(){if(Nc)return Zi;Nc=1;var t=fh(),e=Hr(),r=Fn(),n=Rt(),i=zr(),a=Kr(),s=Dn(),o=Qn(),c="[object Map]",u="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function v(b){if(b==null)return!0;if(i(b)&&(n(b)||typeof b=="string"||typeof b.splice=="function"||a(b)||o(b)||r(b)))return!b.length;var C=e(b);if(C==c||C==u)return!b.size;if(s(b))return!t(b).length;for(var g in b)if(f.call(b,g))return!1;return!0}return Zi=v,Zi}var rg=tg();const wt=$t(rg);var Wi,Ec;function ng(){if(Ec)return Wi;Ec=1;function t(){this.__data__=[],this.size=0}return Wi=t,Wi}var Hi,Dc;function Gr(){if(Dc)return Hi;Dc=1;function t(e,r){return e===r||e!==e&&r!==r}return Hi=t,Hi}var zi,Fc;function Mn(){if(Fc)return zi;Fc=1;var t=Gr();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return zi=e,zi}var Ki,Qc;function ig(){if(Qc)return Ki;Qc=1;var t=Mn(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Ki=n,Ki}var Gi,Mc;function ag(){if(Mc)return Gi;Mc=1;var t=Mn();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Gi=e,Gi}var Yi,Vc;function sg(){if(Vc)return Yi;Vc=1;var t=Mn();function e(r){return t(this.__data__,r)>-1}return Yi=e,Yi}var Ji,Lc;function og(){if(Lc)return Ji;Lc=1;var t=Mn();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Ji=e,Ji}var Xi,Bc;function Vn(){if(Bc)return Xi;Bc=1;var t=ng(),e=ig(),r=ag(),n=sg(),i=og();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Xi=a,Xi}var ea,Uc;function lg(){if(Uc)return ea;Uc=1;var t=Vn();function e(){this.__data__=new t,this.size=0}return ea=e,ea}var ta,$c;function cg(){if($c)return ta;$c=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ta=t,ta}var ra,Zc;function ug(){if(Zc)return ra;Zc=1;function t(e){return this.__data__.get(e)}return ra=t,ra}var na,Wc;function dg(){if(Wc)return na;Wc=1;function t(e){return this.__data__.has(e)}return na=t,na}var ia,Hc;function Ln(){if(Hc)return ia;Hc=1;var t=Zt(),e=t(Object,"create");return ia=e,ia}var aa,zc;function fg(){if(zc)return aa;zc=1;var t=Ln();function e(){this.__data__=t?t(null):{},this.size=0}return aa=e,aa}var sa,Kc;function hg(){if(Kc)return sa;Kc=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return sa=t,sa}var oa,Gc;function pg(){if(Gc)return oa;Gc=1;var t=Ln(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return oa=i,oa}var la,Yc;function mg(){if(Yc)return la;Yc=1;var t=Ln(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return la=n,la}var ca,Jc;function vg(){if(Jc)return ca;Jc=1;var t=Ln(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return ca=r,ca}var ua,Xc;function yg(){if(Xc)return ua;Xc=1;var t=fg(),e=hg(),r=pg(),n=mg(),i=vg();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ua=a,ua}var da,eu;function gg(){if(eu)return da;eu=1;var t=yg(),e=Vn(),r=Xo();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return da=n,da}var fa,tu;function _g(){if(tu)return fa;tu=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return fa=t,fa}var ha,ru;function Bn(){if(ru)return ha;ru=1;var t=_g();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ha=e,ha}var pa,nu;function bg(){if(nu)return pa;nu=1;var t=Bn();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return pa=e,pa}var ma,iu;function xg(){if(iu)return ma;iu=1;var t=Bn();function e(r){return t(this,r).get(r)}return ma=e,ma}var va,au;function Cg(){if(au)return va;au=1;var t=Bn();function e(r){return t(this,r).has(r)}return va=e,va}var ya,su;function Sg(){if(su)return ya;su=1;var t=Bn();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return ya=e,ya}var ga,ou;function yh(){if(ou)return ga;ou=1;var t=gg(),e=bg(),r=xg(),n=Cg(),i=Sg();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ga=a,ga}var _a,lu;function wg(){if(lu)return _a;lu=1;var t=Vn(),e=Xo(),r=yh(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(a,s),this.size=o.size,this}return _a=i,_a}var ba,cu;function rl(){if(cu)return ba;cu=1;var t=Vn(),e=lg(),r=cg(),n=ug(),i=dg(),a=wg();function s(o){var c=this.__data__=new t(o);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,ba=s,ba}var xa,uu;function Ag(){if(uu)return xa;uu=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return xa=t,xa}var Ca,du;function gh(){if(du)return Ca;du=1;var t=Zt(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Ca=e,Ca}var Sa,fu;function nl(){if(fu)return Sa;fu=1;var t=gh();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Sa=e,Sa}var wa,hu;function _h(){if(hu)return wa;hu=1;var t=nl(),e=Gr(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var c=a[s];(!(n.call(a,s)&&e(c,o))||o===void 0&&!(s in a))&&t(a,s,o)}return wa=i,wa}var Aa,pu;function Yr(){if(pu)return Aa;pu=1;var t=_h(),e=nl();function r(n,i,a,s){var o=!a;a||(a={});for(var c=-1,u=i.length;++c<u;){var d=i[c],f=s?s(a[d],n[d],d,a,n):void 0;f===void 0&&(f=n[d]),o?e(a,d,f):t(a,d,f)}return a}return Aa=r,Aa}var Ia,mu;function Ig(){if(mu)return Ia;mu=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Ia=t,Ia}var Pa,vu;function bh(){if(vu)return Pa;vu=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Pa=r,Pa}var Ta,yu;function xh(){if(yu)return Ta;yu=1;var t=Ig(),e=Fn(),r=Rt(),n=Kr(),i=bh(),a=Qn(),s=Object.prototype,o=s.hasOwnProperty;function c(u,d){var f=r(u),v=!f&&e(u),b=!f&&!v&&n(u),C=!f&&!v&&!b&&a(u),g=f||v||b||C,x=g?t(u.length,String):[],I=x.length;for(var m in u)(d||o.call(u,m))&&!(g&&(m=="length"||b&&(m=="offset"||m=="parent")||C&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,I)))&&x.push(m);return x}return Ta=c,Ta}var ja,gu;function il(){if(gu)return ja;gu=1;var t=xh(),e=fh(),r=zr();function n(i){return r(i)?t(i):e(i)}return ja=n,ja}var ka,_u;function Pg(){if(_u)return ka;_u=1;var t=Yr(),e=il();function r(n,i){return n&&t(i,e(i),n)}return ka=r,ka}var qa,bu;function Tg(){if(bu)return qa;bu=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return qa=t,qa}var Ra,xu;function jg(){if(xu)return Ra;xu=1;var t=gt(),e=Dn(),r=Tg(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!t(s))return r(s);var o=e(s),c=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||c.push(u);return c}return Ra=a,Ra}var Oa,Cu;function Jr(){if(Cu)return Oa;Cu=1;var t=xh(),e=jg(),r=zr();function n(i){return r(i)?t(i,!0):e(i)}return Oa=n,Oa}var Na,Su;function kg(){if(Su)return Na;Su=1;var t=Yr(),e=Jr();function r(n,i){return n&&t(i,e(i),n)}return Na=r,Na}var Ir={exports:{}};Ir.exports;var wu;function Ch(){return wu||(wu=1,function(t,e){var r=ct(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,v=o?o(f):new u.constructor(f);return u.copy(v),v}t.exports=c}(Ir,Ir.exports)),Ir.exports}var Ea,Au;function Sh(){if(Au)return Ea;Au=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Ea=t,Ea}var Da,Iu;function qg(){if(Iu)return Da;Iu=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return Da=t,Da}var Fa,Pu;function wh(){if(Pu)return Fa;Pu=1;function t(){return[]}return Fa=t,Fa}var Qa,Tu;function al(){if(Tu)return Qa;Tu=1;var t=qg(),e=wh(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return Qa=a,Qa}var Ma,ju;function Rg(){if(ju)return Ma;ju=1;var t=Yr(),e=al();function r(n,i){return t(n,e(n),i)}return Ma=r,Ma}var Va,ku;function sl(){if(ku)return Va;ku=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Va=t,Va}var La,qu;function ol(){if(qu)return La;qu=1;var t=dh(),e=t(Object.getPrototypeOf,Object);return La=e,La}var Ba,Ru;function Ah(){if(Ru)return Ba;Ru=1;var t=sl(),e=ol(),r=al(),n=wh(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return Ba=a,Ba}var Ua,Ou;function Og(){if(Ou)return Ua;Ou=1;var t=Yr(),e=Ah();function r(n,i){return t(n,e(n),i)}return Ua=r,Ua}var $a,Nu;function Ih(){if(Nu)return $a;Nu=1;var t=sl(),e=Rt();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return $a=r,$a}var Za,Eu;function Ph(){if(Eu)return Za;Eu=1;var t=Ih(),e=al(),r=il();function n(i){return t(i,r,e)}return Za=n,Za}var Wa,Du;function Ng(){if(Du)return Wa;Du=1;var t=Ih(),e=Ah(),r=Jr();function n(i){return t(i,r,e)}return Wa=n,Wa}var Ha,Fu;function Eg(){if(Fu)return Ha;Fu=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return Ha=r,Ha}var za,Qu;function Th(){if(Qu)return za;Qu=1;var t=ct(),e=t.Uint8Array;return za=e,za}var Ka,Mu;function ll(){if(Mu)return Ka;Mu=1;var t=Th();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Ka=e,Ka}var Ga,Vu;function Dg(){if(Vu)return Ga;Vu=1;var t=ll();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Ga=e,Ga}var Ya,Lu;function Fg(){if(Lu)return Ya;Lu=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return Ya=e,Ya}var Ja,Bu;function Qg(){if(Bu)return Ja;Bu=1;var t=cr(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return Ja=n,Ja}var Xa,Uu;function jh(){if(Uu)return Xa;Uu=1;var t=ll();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Xa=e,Xa}var es,$u;function Mg(){if($u)return es;$u=1;var t=ll(),e=Dg(),r=Fg(),n=Qg(),i=jh(),a="[object Boolean]",s="[object Date]",o="[object Map]",c="[object Number]",u="[object RegExp]",d="[object Set]",f="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",C="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",I="[object Int8Array]",m="[object Int16Array]",A="[object Int32Array]",q="[object Uint8Array]",N="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function V(U,B,Q){var E=U.constructor;switch(B){case b:return t(U);case a:case s:return new E(+U);case C:return e(U,Q);case g:case x:case I:case m:case A:case q:case N:case D:case R:return i(U,Q);case o:return new E;case c:case f:return new E(U);case u:return r(U);case d:return new E;case v:return n(U)}}return es=V,es}var ts,Zu;function Vg(){if(Zu)return ts;Zu=1;var t=gt(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return ts=r,ts}var rs,Wu;function kh(){if(Wu)return rs;Wu=1;var t=Vg(),e=ol(),r=Dn();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return rs=n,rs}var ns,Hu;function Lg(){if(Hu)return ns;Hu=1;var t=Hr(),e=_t(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return ns=n,ns}var is,zu;function Bg(){if(zu)return is;zu=1;var t=Lg(),e=el(),r=tl(),n=r&&r.isMap,i=n?e(n):t;return is=i,is}var as,Ku;function Ug(){if(Ku)return as;Ku=1;var t=Hr(),e=_t(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return as=n,as}var ss,Gu;function $g(){if(Gu)return ss;Gu=1;var t=Ug(),e=el(),r=tl(),n=r&&r.isSet,i=n?e(n):t;return ss=i,ss}var os,Yu;function Zg(){if(Yu)return os;Yu=1;var t=rl(),e=Ag(),r=_h(),n=Pg(),i=kg(),a=Ch(),s=Sh(),o=Rg(),c=Og(),u=Ph(),d=Ng(),f=Hr(),v=Eg(),b=Mg(),C=kh(),g=Rt(),x=Kr(),I=Bg(),m=gt(),A=$g(),q=il(),N=Jr(),D=1,R=2,V=4,U="[object Arguments]",B="[object Array]",Q="[object Boolean]",E="[object Date]",M="[object Error]",Y="[object Function]",ee="[object GeneratorFunction]",ie="[object Map]",ue="[object Number]",Ce="[object Object]",Ae="[object RegExp]",Ue="[object Set]",ut="[object String]",xt="[object Symbol]",Dt="[object WeakMap]",$e="[object ArrayBuffer]",Ct="[object DataView]",Ze="[object Float32Array]",W="[object Float64Array]",le="[object Int8Array]",Se="[object Int16Array]",ce="[object Int32Array]",ae="[object Uint8Array]",oe="[object Uint8ClampedArray]",Qe="[object Uint16Array]",Me="[object Uint32Array]",ne={};ne[U]=ne[B]=ne[$e]=ne[Ct]=ne[Q]=ne[E]=ne[Ze]=ne[W]=ne[le]=ne[Se]=ne[ce]=ne[ie]=ne[ue]=ne[Ce]=ne[Ae]=ne[Ue]=ne[ut]=ne[xt]=ne[ae]=ne[oe]=ne[Qe]=ne[Me]=!0,ne[M]=ne[Y]=ne[Dt]=!1;function dt(J,h,y,_,j,P){var S,L=h&D,H=h&R,_e=h&V;if(y&&(S=j?y(J,_,j,P):y(J)),S!==void 0)return S;if(!m(J))return J;var me=g(J);if(me){if(S=v(J),!L)return s(J,S)}else{var Te=f(J),ln=Te==Y||Te==ee;if(x(J))return a(J,L);if(Te==Ce||Te==U||ln&&!j){if(S=H||ln?{}:C(J),!L)return H?c(J,i(S,J)):o(J,n(S,J))}else{if(!ne[Te])return j?J:{};S=b(J,Te,L)}}P||(P=new t);var Ht=P.get(J);if(Ht)return Ht;P.set(J,S),A(J)?J.forEach(function(We){S.add(dt(We,h,y,We,J,P))}):I(J)&&J.forEach(function(We,ft){S.set(ft,dt(We,h,y,ft,J,P))});var _r=_e?H?d:u:H?N:q,cn=me?void 0:_r(J);return e(cn||J,function(We,ft){cn&&(ft=We,We=J[ft]),r(S,ft,dt(We,h,y,ft,J,P))}),S}return os=dt,os}var ls,Ju;function Wg(){if(Ju)return ls;Ju=1;var t=Zg(),e=1,r=4;function n(i){return t(i,e|r)}return ls=n,ls}var Hg=Wg();const It=$t(Hg);var cs,Xu;function qh(){if(Xu)return cs;Xu=1;var t=nl(),e=Gr();function r(n,i,a){(a!==void 0&&!e(n[i],a)||a===void 0&&!(i in n))&&t(n,i,a)}return cs=r,cs}var us,ed;function zg(){if(ed)return us;ed=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),c=o.length;c--;){var u=o[e?c:++a];if(n(s[u],u,s)===!1)break}return r}}return us=t,us}var ds,td;function Kg(){if(td)return ds;td=1;var t=zg(),e=t();return ds=e,ds}var fs,rd;function Rh(){if(rd)return fs;rd=1;var t=zr(),e=_t();function r(n){return e(n)&&t(n)}return fs=r,fs}var hs,nd;function Gg(){if(nd)return hs;nd=1;var t=ur(),e=ol(),r=_t(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,c=s.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var v=o.call(f,"constructor")&&f.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return hs=u,hs}var ps,id;function Oh(){if(id)return ps;id=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return ps=t,ps}var ms,ad;function Yg(){if(ad)return ms;ad=1;var t=Yr(),e=Jr();function r(n){return t(n,e(n))}return ms=r,ms}var vs,sd;function Jg(){if(sd)return vs;sd=1;var t=qh(),e=Ch(),r=jh(),n=Sh(),i=kh(),a=Fn(),s=Rt(),o=Rh(),c=Kr(),u=Jo(),d=gt(),f=Gg(),v=Qn(),b=Oh(),C=Yg();function g(x,I,m,A,q,N,D){var R=b(x,m),V=b(I,m),U=D.get(V);if(U){t(x,m,U);return}var B=N?N(R,V,m+"",x,I,D):void 0,Q=B===void 0;if(Q){var E=s(V),M=!E&&c(V),Y=!E&&!M&&v(V);B=V,E||M||Y?s(R)?B=R:o(R)?B=n(R):M?(Q=!1,B=e(V,!0)):Y?(Q=!1,B=r(V,!0)):B=[]:f(V)||a(V)?(B=R,a(R)?B=C(R):(!d(R)||u(R))&&(B=i(V))):Q=!1}Q&&(D.set(V,B),q(B,V,A,N,D),D.delete(V)),t(x,m,B)}return vs=g,vs}var ys,od;function Xg(){if(od)return ys;od=1;var t=rl(),e=qh(),r=Kg(),n=Jg(),i=gt(),a=Jr(),s=Oh();function o(c,u,d,f,v){c!==u&&r(u,function(b,C){if(v||(v=new t),i(b))n(c,u,C,d,o,f,v);else{var g=f?f(s(c,C),b,C+"",c,u,v):void 0;g===void 0&&(g=b),e(c,C,g)}},a)}return ys=o,ys}var gs,ld;function Nh(){if(ld)return gs;ld=1;function t(e){return e}return gs=t,gs}var _s,cd;function e_(){if(cd)return _s;cd=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return _s=t,_s}var bs,ud;function t_(){if(ud)return bs;ud=1;var t=e_(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,c=e(s.length-i,0),u=Array(c);++o<c;)u[o]=s[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=s[o];return d[i]=a(u),t(n,this,d)}}return bs=r,bs}var xs,dd;function r_(){if(dd)return xs;dd=1;function t(e){return function(){return e}}return xs=t,xs}var Cs,fd;function n_(){if(fd)return Cs;fd=1;var t=r_(),e=gh(),r=Nh(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Cs=n,Cs}var Ss,hd;function i_(){if(hd)return Ss;hd=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),c=e-(o-s);if(s=o,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ss=n,Ss}var ws,pd;function a_(){if(pd)return ws;pd=1;var t=n_(),e=i_(),r=e(t);return ws=r,ws}var As,md;function Eh(){if(md)return As;md=1;var t=Nh(),e=t_(),r=a_();function n(i,a){return r(e(i,a,t),i+"")}return As=n,As}var Is,vd;function s_(){if(vd)return Is;vd=1;var t=Gr(),e=zr(),r=bh(),n=gt();function i(a,s,o){if(!n(o))return!1;var c=typeof s;return(c=="number"?e(o)&&r(s,o.length):c=="string"&&s in o)?t(o[s],a):!1}return Is=i,Is}var Ps,yd;function o_(){if(yd)return Ps;yd=1;var t=Eh(),e=s_();function r(n){return t(function(i,a){var s=-1,o=a.length,c=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(c=n.length>3&&typeof c=="function"?(o--,c):void 0,u&&e(a[0],a[1],u)&&(c=o<3?void 0:c,o=1),i=Object(i);++s<o;){var d=a[s];d&&n(i,d,s,c)}return i})}return Ps=r,Ps}var Ts,gd;function l_(){if(gd)return Ts;gd=1;var t=Xg(),e=o_(),r=e(function(n,i,a){t(n,i,a)});return Ts=r,Ts}var c_=l_();const u_=$t(c_);var js,_d;function d_(){if(_d)return js;_d=1;var t=cr(),e=Fn(),r=Rt(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return js=i,js}var ks,bd;function f_(){if(bd)return ks;bd=1;var t=sl(),e=d_();function r(n,i,a,s,o){var c=-1,u=n.length;for(a||(a=e),o||(o=[]);++c<u;){var d=n[c];i>0&&a(d)?i>1?r(d,i-1,a,s,o):t(o,d):s||(o[o.length]=d)}return o}return ks=r,ks}var qs,xd;function h_(){if(xd)return qs;xd=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return qs=e,qs}var Rs,Cd;function p_(){if(Cd)return Rs;Cd=1;function t(e){return this.__data__.has(e)}return Rs=t,Rs}var Os,Sd;function Dh(){if(Sd)return Os;Sd=1;var t=yh(),e=h_(),r=p_();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Os=n,Os}var Ns,wd;function m_(){if(wd)return Ns;wd=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return Ns=t,Ns}var Es,Ad;function v_(){if(Ad)return Es;Ad=1;function t(e){return e!==e}return Es=t,Es}var Ds,Id;function y_(){if(Id)return Ds;Id=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Ds=t,Ds}var Fs,Pd;function g_(){if(Pd)return Fs;Pd=1;var t=m_(),e=v_(),r=y_();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Fs=n,Fs}var Qs,Td;function __(){if(Td)return Qs;Td=1;var t=g_();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Qs=e,Qs}var Ms,jd;function b_(){if(jd)return Ms;jd=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Ms=t,Ms}var Vs,kd;function Fh(){if(kd)return Vs;kd=1;function t(e,r){return e.has(r)}return Vs=t,Vs}var Ls,qd;function x_(){if(qd)return Ls;qd=1;function t(){}return Ls=t,Ls}var Bs,Rd;function cl(){if(Rd)return Bs;Rd=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Bs=t,Bs}var Us,Od;function C_(){if(Od)return Us;Od=1;var t=mh(),e=x_(),r=cl(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Us=i,Us}var $s,Nd;function S_(){if(Nd)return $s;Nd=1;var t=Dh(),e=__(),r=b_(),n=Fh(),i=C_(),a=cl(),s=200;function o(c,u,d){var f=-1,v=e,b=c.length,C=!0,g=[],x=g;if(d)C=!1,v=r;else if(b>=s){var I=u?null:i(c);if(I)return a(I);C=!1,v=n,x=new t}else x=u?[]:g;e:for(;++f<b;){var m=c[f],A=u?u(m):m;if(m=d||m!==0?m:0,C&&A===A){for(var q=x.length;q--;)if(x[q]===A)continue e;u&&x.push(A),g.push(m)}else v(x,A,d)||(x!==g&&x.push(A),g.push(m))}return g}return $s=o,$s}var Zs,Ed;function w_(){if(Ed)return Zs;Ed=1;var t=f_(),e=Eh(),r=S_(),n=Rh(),i=e(function(a){return r(t(a,1,n,!0))});return Zs=i,Zs}var A_=w_();const I_=$t(A_),At=t=>!Object.keys(t).length||wt(t==null?void 0:t.content),Qh=t=>!At(t),Xr=t=>!P_(t),P_=t=>isNaN(t),T_=t=>t.content.value&&t.content.value.some(e=>e==null?void 0:e.toString().startsWith(Fy)),j_=t=>!!t.content.isUploadedList,k_=t=>!!t.content.remoteComponent,dr=t=>typeof t=="object"&&Qh(t)&&"op"in t&&t.op in De,q_=t=>t.content.value.every(e=>["false","true"].includes(e.toString().toLowerCase())),R_=t=>t.op===Po.in?!1:t.op in Po,O_=t=>!!t.title,rr=(t=be())=>({id:t,content:[],op:De.and}),Or=t=>{let e=t;const r=t.filter(i=>At(i)),n=t.filter(i=>Qh(i));if(r.length){const i=r[0];e=[...n,i]}return It(e)},Mh=(t,e)=>{const r=(a,s)=>s.filter(o=>o!==a).map(o=>Xr(o)&&typeof o=="number"&&o>a?o-1:o),n=e.filter((a,s)=>s!==t).map(a=>At(a)?a:{...a,content:r(t,a.content)}),i=n.filter(a=>wt(a.content));return i.length?Mh(n.findIndex(a=>a.id==i[0].id),n):n},Dd=(t,e)=>{var i,a,s,o;const r=e.getRawQueries(),n=e.getState().activeQueryId;if(r.length===1)e.resetQueries(t);else{const c=e.getQueryIndex(t),u=Or(Mh(c,r));if(u.length){const d=N_(u,c),f=u[d];let v=e.getSelectedQueryIndexes();v.includes(c)&&(v=v.filter(g=>g!==c).map(g=>g>c?g-1:g),(a=(i=e.coreProps).onQuerySelectChange)==null||a.call(i,v));const b=u.find(g=>g.id===n),C={activeQueryId:b?n:f.id,queries:u,selectedQueryIndexes:v};b||(o=(s=e.coreProps).onActiveQueryChange)==null||o.call(s,f),e.setState(g=>({...g,...C}))}else e.resetQueries(t)}},N_=(t,e)=>t.length-1>=e?e:e+1>t.length-1?e-1<t.length&&e-1>=0?e-1:t.length-1:e+1,Vh=(t,e)=>({...e,content:e.content.map(r=>dr(r)&&!r.skipBooleanOperatorCheck?Vh(t,r):r),op:t}),Lh=(t,e)=>({...e,content:e.content.filter(function r(n){return Xr(n)?!0:dr(n)?n.content.filter(r).length>0:n.content.field!==t})}),E_=({sqon:t,field:e,index:r,isUploadedList:n,merge_strategy:i=tr.APPEND_VALUES,operator:a=Rr.in,overrideValuesName:s,remoteComponent:o,value:c})=>{let u;const d={content:{field:e,index:r,isUploadedList:n,overrideValuesName:s,remoteComponent:o,value:c},op:a};return wt(t)?(u=rr(),u.content=[d]):u=D_(t,d,{operator:En.OVERRIDE_OPERATOR,values:i}),u},D_=(t,e,r)=>{const n=It(t);return r=u_({},{operator:En.DEFAULT,values:tr.DEFAULT},r),Bh(n,e,r)?n:{...n,content:[...n.content,e]}},Bh=(t,e,r)=>{let n=!1;return t.content.forEach(i=>{if(Xr(i)||i.title)return;const a=i;if(dr(a)){n=Bh(a,e,r);return}const s=a;s.content.field===e.content.field&&(n=!0,e.content.overrideValuesName&&(s.content.overrideValuesName=e.content.overrideValuesName),e.op&&r.operator!==En.KEEP_OPERATOR&&(s.op=e.op),r.values===tr.APPEND_VALUES&&(s.content.value=I_([],s.content.value,e.content.value)),r.values===tr.OVERRIDE_VALUES&&(s.content.value=e.content.value))}),n},F_=(t,e)=>{const r=e.content,n=typeof t=="number"?r.filter(i=>i!==t):r.filter(i=>{if(typeof i=="number")return!0;const a=i,{skipBooleanOperatorCheck:s}=a,o=s&&a.content[0].content.field!==t,c=i.content.field!==t;return s?o:c});return{...e,content:n,op:e.op}},Q_=(t,e)=>{const n=e.content.filter(i=>i.id!==t);return{...e,content:n,op:e.op}},Uh=(t,e)=>dr(e)?e.content.reduce((r,n)=>r||Uh(t,n),!1):typeof e=="number"&&e===t,M_=(t,e)=>It(t).map(n=>{const i=n.content.map(a=>a.id===e.id?{id:e.id,content:e.queries[0].content,op:a.op,title:e.title}:a);return{...n,content:i}}),$h=t=>It(t).map(n=>{const i=n.content.map(a=>a.hasOwnProperty("title")&&a.id?{filterID:a.id}:a);return{...n,content:i}}),V_=(t,e)=>{let r=-1;const n=t.content.filter((i,a)=>{if(Xr(i))return!0;const s=i,{skipBooleanOperatorCheck:o}=s,c=o&&s.content.find(u=>u.content.field===e);return(c||i.content.field==e)&&(r=a),o?!c:i.content.field!==e});return[r,{...t,content:n}]},L_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]),B_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]);function Zh(t="New Filter"){const e=be(),r={id:be(),queries:[rr(e)],title:t,favorite:!1,isDirty:!1,isNew:!0};return{newActiveQueryId:e,newSavedFilter:r}}var Wt=(t=>(t.Filter="filter",t.Query="query",t))(Wt||{});const Wh=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,index:()=>e.getState().queries.findIndex(a=>a.id===n),isActive:()=>e.getState().activeQueryId===n,isEmpty:()=>At(t),isNotEmpty:()=>!At(t),toggleSelect:a=>{var c,u;const s=e.getQueryIndex(n);let o=[];a?o=[...e.getState().selectedQueryIndexes,s]:o=e.getState().selectedQueryIndexes.filter(d=>d!==s),e.setState(d=>({...d,selectedQueryIndexes:o})),(u=(c=e.coreProps).onQuerySelectChange)==null||u.call(c,o)},isSelected:()=>e.getState().selectedQueryIndexes.includes(e.getQueryIndex(n)),isSelectable:()=>{const a=e.getState().queries;return a.length===2&&e.hasEmptyQuery()?!1:a.length>1&&r.isNotEmpty()},saveAsCustomPill:async a=>{var o,c;const s={favorite:!1,id:be(),queries:[r.raw()],title:a,type:Wt.Query};return Promise.resolve((c=(o=e.coreProps).onCustomPillSave)==null?void 0:c.call(o,s)).then(()=>r.update({...r.raw(),content:[{id:s.id,op:s.queries[0].op,content:s.queries[0].content,title:s.title}]}))},delete:()=>{var a,s;Dd(n,e),(s=(a=e.coreProps).onQueryDelete)==null||s.call(a,n)},update:a=>{var s,o;if(wt(a.content))Dd(n,e);else{const c=e.getQueryIndex(n),u=It(e.getRawQueries()),d={...a,id:n,content:a.content,op:a.op};u[c]=d,e.setState(f=>({...f,queries:Or(u)})),(o=(s=e.coreProps).onQueryUpdate)==null||o.call(s,d)}},duplicate:()=>{const a=e.getQuery(n);a&&e.createQuery({op:a.raw().op,content:a.raw().content})},setAsActive:()=>{var a,s;e.setState(o=>({...o,activeQueryId:n})),(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,r.raw())},changeCombineOperator:a=>{const s=It(e.getRawQueries()),o=e.getQueryIndex(n),c=s[o],u=Vh(a,c);s[o]={...c,content:u.content,op:u.op},e.setState(d=>({...d,queries:Or(s)}))},addPill:a=>{r.update({...t,content:[...t.content,a]})},removePillById:a=>{r.update(Q_(a,t))},removePillByFieldOrIndex:a=>{r.update(F_(a,t))},isReferencedInActiveQuery:()=>{const a=e.getActiveQuery();return a?Uh(r.index(),a.raw()):!1},hasCustomPill:()=>r.raw().content.some(a=>a.title||!a.content)}),r};var Ws,Fd;function U_(){if(Fd)return Ws;Fd=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Ws=t,Ws}var Hs,Qd;function Hh(){if(Qd)return Hs;Qd=1;var t=Dh(),e=U_(),r=Fh(),n=1,i=2;function a(s,o,c,u,d,f){var v=c&n,b=s.length,C=o.length;if(b!=C&&!(v&&C>b))return!1;var g=f.get(s),x=f.get(o);if(g&&x)return g==o&&x==s;var I=-1,m=!0,A=c&i?new t:void 0;for(f.set(s,o),f.set(o,s);++I<b;){var q=s[I],N=o[I];if(u)var D=v?u(N,q,I,o,s,f):u(q,N,I,s,o,f);if(D!==void 0){if(D)continue;m=!1;break}if(A){if(!e(o,function(R,V){if(!r(A,V)&&(q===R||d(q,R,c,u,f)))return A.push(V)})){m=!1;break}}else if(!(q===N||d(q,N,c,u,f))){m=!1;break}}return f.delete(s),f.delete(o),m}return Hs=a,Hs}var zs,Md;function $_(){if(Md)return zs;Md=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return zs=t,zs}var Ks,Vd;function Z_(){if(Vd)return Ks;Vd=1;var t=cr(),e=Th(),r=Gr(),n=Hh(),i=$_(),a=cl(),s=1,o=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",v="[object Number]",b="[object RegExp]",C="[object Set]",g="[object String]",x="[object Symbol]",I="[object ArrayBuffer]",m="[object DataView]",A=t?t.prototype:void 0,q=A?A.valueOf:void 0;function N(D,R,V,U,B,Q,E){switch(V){case m:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case I:return!(D.byteLength!=R.byteLength||!Q(new e(D),new e(R)));case c:case u:case v:return r(+D,+R);case d:return D.name==R.name&&D.message==R.message;case b:case g:return D==R+"";case f:var M=i;case C:var Y=U&s;if(M||(M=a),D.size!=R.size&&!Y)return!1;var ee=E.get(D);if(ee)return ee==R;U|=o,E.set(D,R);var ie=n(M(D),M(R),U,B,Q,E);return E.delete(D),ie;case x:if(q)return q.call(D)==q.call(R)}return!1}return Ks=N,Ks}var Gs,Ld;function W_(){if(Ld)return Gs;Ld=1;var t=Ph(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,c,u,d){var f=o&e,v=t(a),b=v.length,C=t(s),g=C.length;if(b!=g&&!f)return!1;for(var x=b;x--;){var I=v[x];if(!(f?I in s:n.call(s,I)))return!1}var m=d.get(a),A=d.get(s);if(m&&A)return m==s&&A==a;var q=!0;d.set(a,s),d.set(s,a);for(var N=f;++x<b;){I=v[x];var D=a[I],R=s[I];if(c)var V=f?c(R,D,I,s,a,d):c(D,R,I,a,s,d);if(!(V===void 0?D===R||u(D,R,o,c,d):V)){q=!1;break}N||(N=I=="constructor")}if(q&&!N){var U=a.constructor,B=s.constructor;U!=B&&"constructor"in a&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof B=="function"&&B instanceof B)&&(q=!1)}return d.delete(a),d.delete(s),q}return Gs=i,Gs}var Ys,Bd;function H_(){if(Bd)return Ys;Bd=1;var t=rl(),e=Hh(),r=Z_(),n=W_(),i=Hr(),a=Rt(),s=Kr(),o=Qn(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function C(g,x,I,m,A,q){var N=a(g),D=a(x),R=N?d:i(g),V=D?d:i(x);R=R==u?f:R,V=V==u?f:V;var U=R==f,B=V==f,Q=R==V;if(Q&&s(g)){if(!s(x))return!1;N=!0,U=!1}if(Q&&!U)return q||(q=new t),N||o(g)?e(g,x,I,m,A,q):r(g,x,R,I,m,A,q);if(!(I&c)){var E=U&&b.call(g,"__wrapped__"),M=B&&b.call(x,"__wrapped__");if(E||M){var Y=E?g.value():g,ee=M?x.value():x;return q||(q=new t),A(Y,ee,I,m,q)}}return Q?(q||(q=new t),n(g,x,I,m,A,q)):!1}return Ys=C,Ys}var Js,Ud;function z_(){if(Ud)return Js;Ud=1;var t=H_(),e=_t();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return Js=r,Js}var Xs,$d;function K_(){if($d)return Xs;$d=1;var t=z_();function e(r,n){return t(r,n)}return Xs=e,Xs}var G_=K_();const Y_=$t(G_),J_=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,getQueries:()=>t.queries&&t.queries.length>0?t.queries.map(a=>Wh(a,e)):[],getRawQueries:()=>t.queries,getQueryById:a=>r.getQueries().find(s=>s.id===a)||null,duplicate:()=>{var a,s;if(r.isSelected()){const o=r.getRawQueries().map(u=>({...u,id:be()})),c={favorite:!1,id:be(),queries:o,title:`${r.raw().title||""} COPY`,isDirty:!1,isNew:!0};e.setState(u=>({...u,activeQueryId:c.queries[0].id,queries:o,savedFilters:[...u.savedFilters,c]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,c)}else console.error("Can only duplicate the selected saved filter")},delete:async()=>{var a,s;return Promise.resolve((s=(a=e.coreProps).onSavedFilterDelete)==null?void 0:s.call(a,n)).then(()=>{var u,d;const{newActiveQueryId:o,newSavedFilter:c}=Zh();e.setState(f=>({...f,activeQueryId:o,queries:c.queries,savedFilters:[...f.savedFilters.filter(v=>v.id!==n),c]})),(d=(u=e.coreProps).onSavedFilterCreate)==null||d.call(u,c)})},save:async(a,s)=>{var u,d,f,v;const o={...r.raw(),title:(s==null?void 0:s.title)||r.raw().title,favorite:(s==null?void 0:s.favorite)!==void 0?s.favorite:r.raw().favorite,type:a,queries:e.getRawQueries()};return a===Wt.Query?Promise.resolve((d=(u=e.coreProps).onCustomPillUpdate)==null?void 0:d.call(u,o)).then(()=>{}):Promise.resolve((v=(f=e.coreProps).onSavedFilterUpdate)==null?void 0:v.call(f,{...o,queries:$h(o.queries)})).then(()=>e.setState(b=>({...b,savedFilters:b.savedFilters.map(C=>C.id===n?{...o,isNew:!1,isDirty:!1}:C)})))},select:()=>{e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries}))},discardChanges:()=>{r.isSelected()?e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries})):console.error("Can only discard changes to the selected saved filter")},hasQueries:()=>r.getQueries().length>0,isSelected:()=>{const a=e.getState().queries.map(s=>s.id);return t.queries.find(s=>a.includes(s.id))!==void 0},isFavorite:()=>t.favorite||!1,isNew:()=>t.isNew||!1,isDirty:()=>!r.isSelected()||t.isNew?!1:t.isDirty||e.getRawQueries().length!==t.queries.length?!0:!t.queries.every(a=>{const s=e.getRawQueries().find(o=>o.id==a.id);return s?Y_({content:s.content,id:s.id,op:s.op},{content:a.content,id:a.id,op:a.op}):!1})}),r},zh=()=>{const t=be();return{activeQueryId:t,queries:[rr(t)],savedFilters:[],selectedQueryIndexes:[]}},X_=t=>{const e={};return Object.assign(e,{coreProps:t,setCoreProps:n=>{e.coreProps=n(e.coreProps)},setState:n=>{var i,a;(a=(i=e.coreProps).onStateChange)==null||a.call(i,n(e.coreProps.state))},getState:()=>e.coreProps.state,reset:()=>{e.setState(()=>e.coreProps.initialState)},clearQueries:()=>{const n=be(),i=rr(n);e.setState(a=>({...a,activeQueryId:n,queries:[i]}))},saveNewFilter:async n=>{var a,s;const i={id:be(),title:(n==null?void 0:n.title)||e.coreProps.savedFilterDefaultTitle||"New Filter",favorite:(n==null?void 0:n.favorite)===void 0?!1:n.favorite,queries:e.getRawQueries()};return Promise.resolve((s=(a=e.coreProps).onSavedFilterSave)==null?void 0:s.call(a,{...i,queries:$h(i.queries)})).then(()=>e.setState(o=>({...o,savedFilters:[...o.savedFilters,{...i,isNew:!1,isDirty:!1}]})))},createSavedFilter:()=>{var a,s;const{newActiveQueryId:n,newSavedFilter:i}=Zh();e.setState(o=>({...o,activeQueryId:n,queries:i.queries,savedFilters:[...o.savedFilters,i]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,i)},getSelectedSavedFilter:()=>e.getActiveQuery()&&e.getSavedFilters().find(i=>i.isSelected()&&!i.isNew())||null,getSavedFilters:()=>e.coreProps.state.savedFilters&&e.coreProps.state.savedFilters.length>0?e.coreProps.state.savedFilters.map(n=>J_(n,e)).filter(n=>!n.isNew()):[],getQueries:()=>e.coreProps.state.queries&&e.coreProps.state.queries.length>0?e.coreProps.state.queries.map(n=>Wh(n,e)):[],getRawQueries:()=>e.coreProps.state.queries||[],getSelectedQueryIndexes:()=>e.getState().selectedQueryIndexes,toggleQuerySelect:(n,i)=>{var a;(a=e.getQuery(n))==null||a.toggleSelect(i)},resetQuerySelection:()=>{var n,i;e.setState(a=>({...a,selectedQueryIndexes:[]})),(i=(n=e.coreProps).onQuerySelectChange)==null||i.call(n,[])},createQuery:({id:n=be(),op:i=De.and,content:a})=>{var o,c,u,d;const s={id:n,op:i,content:a};return e.setState(f=>({...f,activeQueryId:s.id,queries:Or([...e.getRawQueries(),s])})),(c=(o=e.coreProps).onActiveQueryChange)==null||c.call(o,s),(d=(u=e.coreProps).onQueryCreate)==null||d.call(u,s),s.id},getQuery:n=>e.getQueries().find(i=>i.id===n)||null,setActiveQuery:n=>{var i;(i=e.getQuery(n))==null||i.setAsActive()},getActiveQuery:()=>e.coreProps.state.activeQueryId?e.getQuery(e.coreProps.state.activeQueryId):null,getQueryIndex:n=>{const i=e.getQuery(n);return i?i.index():-1},updateQuery:(n,i)=>{var a;(a=e.getQuery(n))==null||a.update(i)},duplicateQuery:n=>{var i;(i=e.getQuery(n))==null||i.duplicate()},deleteQuery:n=>{var i;(i=e.getQuery(n))==null||i.delete()},changeQueryCombineOperator:(n,i)=>{var a;(a=e.getQuery(n))==null||a.changeCombineOperator(i)},hasEmptyQuery:()=>e.getQueries().some(n=>n.isEmpty()),hasQueries:()=>e.getQueries().length>0,canCombine:()=>e.getQueries().length>1&&e.getSelectedQueryIndexes().length>1,resetQueries:n=>{var a,s;const i=rr(n);(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,i),e.setState(o=>({...o,activeQueryId:n,queries:[i]}))},combineSelectedQueries:n=>{var s,o,c,u;if(!e.canCombine()){console.error("Cannot combine queries. There must be at least 2 queries selected.");return}const i={id:be(),op:n,content:e.getSelectedQueryIndexes().sort()},a=[];e.setState(d=>({...d,activeQueryId:i.id,queries:Or([...d.queries,i]),selectedQueryIndexes:a})),(o=(s=e.coreProps).onQueryCreate)==null||o.call(s,i),(u=(c=e.coreProps).onQuerySelectChange)==null||u.call(c,a)},isEmpty:()=>e.getQueries().length===1&&e.getQueries()[0].isEmpty()}),e},To="QBCacheUpdate",Kh="query-builder-cache";var jo=(t=>(t.ADD_QUERY="ADD_QUERY",t.UPDATE_QUERY="UPDATE_QUERY",t.SET_STATE="SET_STATE",t))(jo||{});class eb extends Event{constructor(r){super(To);br(this,"eventData");br(this,"eventType");br(this,"value");br(this,"queryBuilderId");this.eventType=r.eventType,this.queryBuilderId=r.queryBuilderId,this.value=r.value,this.eventData=r.eventData}}const Un=(t,{eventType:e,eventData:r,value:n,skipEvent:i})=>{if(window.localStorage.setItem(`${Kh}-${t}`,JSON.stringify(n)),!i){const a=new eb({queryBuilderId:t,value:n,eventType:e,eventData:r});window.dispatchEvent(a)}},ko=t=>{const e=zh();return Un(t,{value:e,eventType:"SET_STATE",eventData:e}),e},$n=t=>{if(typeof window<"u"){const e=window.localStorage.getItem(`${Kh}-${t}`);if(!e)return ko(t);try{return JSON.parse(e)}catch{return ko(t)}}else return{}},tb=(t,e,r=!1)=>{const n=$n(t),i=(n==null?void 0:n.queries)??[],a=i.find(o=>At(o)),s=i.find(o=>o.id===n.activeQueryId&&At(o));Un(t,{eventType:"ADD_QUERY",eventData:e,value:{activeQueryId:r||s?e.id:(n==null?void 0:n.activeQueryId)??e.id,queries:a?i.map(o=>At(o)?e:o):[...i,e]}})},en=t=>{var r;const e=$n(t);return((r=e==null?void 0:e.queries)==null?void 0:r.find(({id:n})=>n===e.activeQueryId))??rr()},fr=(t,e)=>{var i;const r=$n(t),n=(i=r==null?void 0:r.queries)==null?void 0:i.find(({id:a})=>a===e.id);if(n)n.content=e.content,n.op=e.op;else throw new Error(`Query with id ${e.id} not found`);Un(t,{eventType:"UPDATE_QUERY",eventData:n,value:r})},rb=(t,{field:e,index:r,isUploadedList:n,merge_strategy:i=tr.APPEND_VALUES,operator:a=Rr.in,overrideValuesName:s,remoteComponent:o,value:c})=>{const u=Qt.getActiveQuery(t);fr(t,wt(c)?Lh(e,u):E_({sqon:u,field:e,index:r,isUploadedList:n,merge_strategy:i,operator:a,overrideValuesName:s,remoteComponent:o,value:c}))},nb=(t,e)=>fr(t,Gh(t,{field:e.filterGroup.field,operator:e.operator,sqonContent:B_(e.filterGroup,e.selectedFilters,e.index)})),Gh=(t,{field:e,operator:r=De.and,sqonContent:n})=>{const i=en(t);let a={id:be(),content:n,op:r};if(!wt(i)){const s=V_(i,e),o=s[0],c=s[1],u={...c};wt(u.content)&&wt(i)?a={id:be(),content:[],op:r}:(o>=0?u.content.splice(o,0,...n):u.content=[...u.content,...n],a={...u,content:[...u.content]},c.content.length===0&&(a.op=r))}return a},ib=(t,e)=>fr(t,e.selectedFilters.length>0?Gh(t,{field:e.field,sqonContent:L_(e.field,e.selectedFilters)}):Lh(e.field,en(t))),ab=(t,e)=>{const r=en(t);fr(t,{...r,content:[...r.content,e]})},sb=(t,e)=>{const r=en(t);r.content=r.content.filter(n=>n.id!==e).filter(n=>n!==void 0),fr(t,r)},Qt={addQuery:tb,updateQuery:fr,getActiveQuery:en,updateActiveQueryField:rb,updateActiveQueryFilters:nb,updateQueryByTableFilter:ib,addPillToActiveQuery:ab,removePillFromActiveQuery:sb,setLocalQueryBuilderState:Un,getLocalQueryBuilderState:$n,setDefaultLocalQueryBuilderState:ko};function Yh(t){const e={state:{...zh(),savedFilters:[],selectedQueryIndexes:[]},onStateChange:()=>{},...t},[r]=p.useState(()=>({current:X_(e)})),[n,i]=p.useState(()=>e.initialState||e.state);return p.useEffect(()=>{var a;n&&((a=t.onStateChange)==null||a.call(t,n))},[n]),p.useEffect(()=>{const a=s=>{var o,c,u,d;if(s.queryBuilderId===t.id){if(s.eventType===jo.ADD_QUERY){const f=s.eventData;(o=t.onQueryCreate)==null||o.call(t,f),f.id===s.value.activeQueryId&&((c=t.onActiveQueryChange)==null||c.call(t,f))}else if(s.eventType===jo.UPDATE_QUERY){const f=s.eventData;(u=t.onQueryUpdate)==null||u.call(t,f),f.id===s.value.activeQueryId&&((d=t.onActiveQueryChange)==null||d.call(t,f))}i(f=>({...f,...t.state,...s.value}))}};return window.addEventListener(To,a),()=>{window.removeEventListener(To,a)}},[t.state]),r.current.setCoreProps(a=>({savedFilterDefaultTitle:"Untitled filter",...a,...t,state:{...n,...t.state},onStateChange:s=>{i(s),Qt.setLocalQueryBuilderState(t.id,{value:s,skipEvent:!0})}})),r.current}var ul="Collapsible",[ob,Jh]=Rn(ul),[lb,dl]=ob(ul),Xh=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[c=!1,u]=Xt({prop:n,defaultProp:i,onChange:s});return l.jsx(lb,{scope:r,disabled:a,contentId:or(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:l.jsx(ge.div,{"data-state":hl(c),"data-disabled":a?"":void 0,...o,ref:e})})});Xh.displayName=ul;var ep="CollapsibleTrigger",tp=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=dl(ep,r);return l.jsx(ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":hl(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:fe(t.onClick,i.onOpenToggle)})});tp.displayName=ep;var fl="CollapsibleContent",rp=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=dl(fl,t.__scopeCollapsible);return l.jsx(Ho,{present:r||i.open,children:({present:a})=>l.jsx(cb,{...n,ref:e,present:a})})});rp.displayName=fl;var cb=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=dl(fl,r),[o,c]=p.useState(n),u=p.useRef(null),d=Ne(e,u),f=p.useRef(0),v=f.current,b=p.useRef(0),C=b.current,g=s.open||o,x=p.useRef(g),I=p.useRef(void 0);return p.useEffect(()=>{const m=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(m)},[]),vt(()=>{const m=u.current;if(m){I.current=I.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const A=m.getBoundingClientRect();f.current=A.height,b.current=A.width,x.current||(m.style.transitionDuration=I.current.transitionDuration,m.style.animationName=I.current.animationName),c(n)}},[s.open,n]),l.jsx(ge.div,{"data-state":hl(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...t.style},children:g&&i})});function hl(t){return t?"open":"closed"}var ub=Xh,db=tp,fb=rp,bt="Accordion",hb=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[pl,pb,mb]=Vf(bt),[Zn,dA]=Rn(bt,[mb,Jh]),ml=Jh(),np=K.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return l.jsx(pl.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(_b,{...a,ref:e}):l.jsx(gb,{...i,ref:e})})});np.displayName=bt;var[ip,vb]=Zn(bt),[ap,yb]=Zn(bt,{collapsible:!1}),gb=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,c]=Xt({prop:r,defaultProp:n,onChange:i});return l.jsx(ip,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:c,onItemClose:K.useCallback(()=>a&&c(""),[a,c]),children:l.jsx(ap,{scope:t.__scopeAccordion,collapsible:a,children:l.jsx(sp,{...s,ref:e})})})}),_b=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s=[],o]=Xt({prop:r,defaultProp:n,onChange:i}),c=K.useCallback(d=>o((f=[])=>[...f,d]),[o]),u=K.useCallback(d=>o((f=[])=>f.filter(v=>v!==d)),[o]);return l.jsx(ip,{scope:t.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l.jsx(ap,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(sp,{...a,ref:e})})})}),[bb,Wn]=Zn(bt),sp=K.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=K.useRef(null),c=Ne(o,e),u=pb(r),f=Lf(i)==="ltr",v=fe(t.onKeyDown,b=>{var V;if(!hb.includes(b.key))return;const C=b.target,g=u().filter(U=>{var B;return!((B=U.ref.current)!=null&&B.disabled)}),x=g.findIndex(U=>U.ref.current===C),I=g.length;if(x===-1)return;b.preventDefault();let m=x;const A=0,q=I-1,N=()=>{m=x+1,m>q&&(m=A)},D=()=>{m=x-1,m<A&&(m=q)};switch(b.key){case"Home":m=A;break;case"End":m=q;break;case"ArrowRight":a==="horizontal"&&(f?N():D());break;case"ArrowDown":a==="vertical"&&N();break;case"ArrowLeft":a==="horizontal"&&(f?D():N());break;case"ArrowUp":a==="vertical"&&D();break}const R=m%I;(V=g[R].ref.current)==null||V.focus()});return l.jsx(bb,{scope:r,disabled:n,direction:i,orientation:a,children:l.jsx(pl.Slot,{scope:r,children:l.jsx(ge.div,{...s,"data-orientation":a,ref:c,onKeyDown:n?void 0:v})})})}),yn="AccordionItem",[xb,vl]=Zn(yn),op=K.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=Wn(yn,r),s=vb(yn,r),o=ml(r),c=or(),u=n&&s.value.includes(n)||!1,d=a.disabled||t.disabled;return l.jsx(xb,{scope:r,open:u,disabled:d,triggerId:c,children:l.jsx(ub,{"data-orientation":a.orientation,"data-state":hp(u),...o,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});op.displayName=yn;var lp="AccordionHeader",cp=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(bt,r),a=vl(lp,r);return l.jsx(ge.h3,{"data-orientation":i.orientation,"data-state":hp(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});cp.displayName=lp;var qo="AccordionTrigger",up=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(bt,r),a=vl(qo,r),s=yb(qo,r),o=ml(r);return l.jsx(pl.ItemSlot,{scope:r,children:l.jsx(db,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});up.displayName=qo;var dp="AccordionContent",fp=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(bt,r),a=vl(dp,r),s=ml(r);return l.jsx(fb,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});fp.displayName=dp;function hp(t){return t?"open":"closed"}var Cb=np,Sb=op,wb=cp,pp=up,mp=fp;const Ab=Cb,yl=p.forwardRef(({className:t,...e},r)=>l.jsx(Sb,{ref:r,className:te("border-b",t),...e}));yl.displayName="AccordionItem";const gl=p.forwardRef(({className:t,children:e,...r},n)=>l.jsx(wb,{className:"flex justify-between items-center",children:l.jsx(pp,{ref:n,className:te("py-2 transition-all [&[data-state=open]>svg]:rotate-180 w-full",t),...r,children:l.jsxs("div",{className:"flex flex-1 items-center",children:[l.jsx("div",{children:l.jsx(Go,{className:"h-4 w-4 shrink-0 transition-transform duration-200 mr-2"})}),e]})})}));gl.displayName=pp.displayName;const _l=p.forwardRef(({className:t,children:e,...r},n)=>l.jsx(mp,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:te("pb-2 pt-0",t),children:e})}));_l.displayName=mp.displayName;yl.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};gl.__docgenInfo={description:"",methods:[]};_l.__docgenInfo={description:"",methods:[]};const bl=p.createContext(null);function he(){const t=p.useContext(bl);if(!t)throw new Error("useQueryBuilderContext must be used within a QueryBuilderContextProvider");return t}const vp=p.createContext(null);function de(){const t=p.useContext(vp);if(!t)throw new Error("useQueryBuilderDictContext must be used within a QueryBuilderDictContextProvider");return t}const xl=p.createContext(null);function Be(){const t=p.useContext(xl);if(!t)throw new Error("useQueryBarContext must be used within a QueryBarContextProvider");return t}function yp(){const{query:t}=Be(),{getQueryReferenceColor:e}=he(),r=t.isReferencedInActiveQuery()?e(t.index()):null;return l.jsx("div",{className:"w-1 rounded-s-sm bg-[--gray-6] group-data-[query-active=true]/query:bg-[--query-bar-identifier-active]",style:r?{backgroundColor:r}:{}})}yp.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function gp(){const{query:t}=Be();return l.jsx(Ee,{icon:ah,onClick:()=>t.duplicate()})}gp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};var Cl="Popover",[_p,fA]=Rn(Cl,[On]),tn=On(),[Ib,Ot]=_p(Cl),bp=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=tn(e),c=p.useRef(null),[u,d]=p.useState(!1),[f=!1,v]=Xt({prop:n,defaultProp:i,onChange:a});return l.jsx(Bf,{...o,children:l.jsx(Ib,{scope:e,contentId:or(),triggerRef:c,open:f,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(b=>!b),[v]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:s,children:r})})};bp.displayName=Cl;var xp="PopoverAnchor",Pb=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(xp,r),a=tn(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return p.useEffect(()=>(s(),()=>o()),[s,o]),l.jsx(Wo,{...a,...n,ref:e})});Pb.displayName=xp;var Cp="PopoverTrigger",Sl=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(Cp,r),a=tn(r),s=Ne(e,i.triggerRef),o=l.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Pp(i.open),...n,ref:s,onClick:fe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(Wo,{asChild:!0,...a,children:o})});Sl.displayName=Cp;var wl="PopoverPortal",[Tb,jb]=_p(wl,{forceMount:void 0}),Sp=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Ot(wl,e);return l.jsx(Tb,{scope:e,forceMount:r,children:l.jsx(Ho,{present:r||a.open,children:l.jsx(Uf,{asChild:!0,container:i,children:n})})})};Sp.displayName=wl;var nr="PopoverContent",wp=p.forwardRef((t,e)=>{const r=jb(nr,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Ot(nr,t.__scopePopover);return l.jsx(Ho,{present:n||a.open,children:a.modal?l.jsx(kb,{...i,ref:e}):l.jsx(qb,{...i,ref:e})})});wp.displayName=nr;var kb=p.forwardRef((t,e)=>{const r=Ot(nr,t.__scopePopover),n=p.useRef(null),i=Ne(e,n),a=p.useRef(!1);return p.useEffect(()=>{const s=n.current;if(s)return $f(s)},[]),l.jsx(Zf,{as:Zo,allowPinchZoom:!0,children:l.jsx(Ap,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),qb=p.forwardRef((t,e)=>{const r=Ot(nr,t.__scopePopover),n=p.useRef(!1),i=p.useRef(!1);return l.jsx(Ap,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ap=p.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,v=Ot(nr,r),b=tn(r);return Wf(),l.jsx(Hf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(zf,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>v.onOpenChange(!1),children:l.jsx(Kf,{"data-state":Pp(v.open),role:"dialog",id:v.contentId,...b,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ip="PopoverClose",Ro=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(Ip,r);return l.jsx(ge.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});Ro.displayName=Ip;var Rb="PopoverArrow",Ob=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=tn(r);return l.jsx(Gf,{...i,...n,ref:e})});Ob.displayName=Rb;function Pp(t){return t?"open":"closed"}var Nb=bp,Eb=Sl,Db=Sp,Tp=wp;const jp=Nb,Fb=Eb,Hn=p.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>l.jsx(Db,{children:l.jsx(Tp,{ref:i,align:e,sideOffset:r,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Hn.displayName=Tp.displayName;Hn.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};function kp(){const{query:t}=Be(),e=de();return l.jsxs(jp,{children:[l.jsx(Fb,{asChild:!0,children:l.jsx(Ee,{icon:Yf})}),l.jsxs(Hn,{side:"left",className:"w-[200px] space-y-3",children:[l.jsx("span",{className:"text-sm",children:e.queryBar.deletePopover.title}),l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx(Ro,{asChild:!0,children:l.jsx(Ie,{size:"xs",children:e.queryBar.deletePopover.cancel})}),l.jsx(Ro,{asChild:!0,children:l.jsx(Ie,{size:"xs",variant:"destructive",onClick:()=>t.delete(),children:e.queryBar.deletePopover.ok})})]})]})]})}kp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};const zn=iy,Qb=ay,Kn=Jf,Al=p.forwardRef(({className:t,...e},r)=>l.jsx(th,{ref:r,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Al.displayName=th.displayName;const hr=p.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Qb,{children:[l.jsx(Al,{}),l.jsxs(Xf,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg outline-none",t),...r,children:[e,l.jsxs(Jf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(lh,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hr.displayName=Xf.displayName;const pr=({className:t,...e})=>l.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});pr.displayName="DialogHeader";const mr=({className:t,...e})=>l.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});mr.displayName="DialogFooter";const vr=p.forwardRef(({className:t,...e},r)=>l.jsx(eh,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",t),...e}));vr.displayName=eh.displayName;const qp=p.forwardRef(({className:t,...e},r)=>l.jsx(rh,{ref:r,className:te("text-sm text-muted-foreground",t),...e}));qp.displayName=rh.displayName;Al.__docgenInfo={description:"",methods:[]};hr.__docgenInfo={description:"",methods:[]};pr.__docgenInfo={description:"",methods:[],displayName:"DialogHeader"};mr.__docgenInfo={description:"",methods:[],displayName:"DialogFooter"};vr.__docgenInfo={description:"",methods:[]};qp.__docgenInfo={description:"",methods:[]};var rn=t=>t.type==="checkbox",Ft=t=>t instanceof Date,je=t=>t==null;const Rp=t=>typeof t=="object";var ye=t=>!je(t)&&!Array.isArray(t)&&Rp(t)&&!Ft(t),Op=t=>ye(t)&&t.target?rn(t.target)?t.target.checked:t.target.value:t,Mb=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Np=(t,e)=>t.has(Mb(e)),Vb=t=>{const e=t.constructor&&t.constructor.prototype;return ye(e)&&e.hasOwnProperty("isPrototypeOf")},Il=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Re(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Il&&(t instanceof Blob||n))&&(r||ye(t)))if(e=r?[]:{},!r&&!Vb(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Re(t[i]));else return t;return e}var Gn=t=>Array.isArray(t)?t.filter(Boolean):[],ve=t=>t===void 0,T=(t,e,r)=>{if(!e||!ye(t))return r;const n=Gn(e.split(/[,[\].]+?/)).reduce((i,a)=>je(i)?i:i[a],t);return ve(n)||n===t?ve(t[e])?r:t[e]:n},Le=t=>typeof t=="boolean",Pl=t=>/^\w*$/.test(t),Ep=t=>Gn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),se=(t,e,r)=>{let n=-1;const i=Pl(e)?[e]:Ep(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let c=r;if(n!==s){const u=t[o];c=ye(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}return t};const gn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ze={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ht={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dp=K.createContext(null),Yn=()=>K.useContext(Dp),Lb=t=>{const{children:e,...r}=t;return K.createElement(Dp.Provider,{value:r},e)};var Fp=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ze.all&&(e._proxyFormState[s]=!n||ze.all),r&&(r[s]=!0),t[s]}});return i},Oe=t=>ye(t)&&!Object.keys(t).length,Qp=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Oe(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||ze.all))},kr=t=>Array.isArray(t)?t:[t],Mp=(t,e,r)=>!t||!e||t===e||kr(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Tl(t){const e=K.useRef(t);e.current=t,K.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Bb(t){const e=Yn(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[s,o]=K.useState(r._formState),c=K.useRef(!0),u=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=K.useRef(i);return d.current=i,Tl({disabled:n,next:f=>c.current&&Mp(d.current,f.name,a)&&Qp(f,u.current,r._updateFormState)&&o({...r._formState,...f}),subject:r._subjects.state}),K.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),K.useMemo(()=>Fp(s,r,u.current,!1),[s,r])}var rt=t=>typeof t=="string",Vp=(t,e,r,n,i)=>rt(t)?(n&&e.watch.add(t),T(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),T(r,a))):(n&&(e.watchAll=!0),r);function Ub(t){const e=Yn(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=K.useRef(n);o.current=n,Tl({disabled:a,subject:r._subjects.values,next:d=>{Mp(o.current,d.name,s)&&u(Re(Vp(o.current,r._names,d.values||r._formValues,!1,i)))}});const[c,u]=K.useState(r._getWatch(n,i));return K.useEffect(()=>r._removeUnmounted()),c}function $b(t){const e=Yn(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a}=t,s=Np(i._names.array,r),o=Ub({control:i,name:r,defaultValue:T(i._formValues,r,T(i._defaultValues,r,t.defaultValue)),exact:!0}),c=Bb({control:i,name:r,exact:!0}),u=K.useRef(i.register(r,{...t.rules,value:o,...Le(t.disabled)?{disabled:t.disabled}:{}})),d=K.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!T(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!T(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!T(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!T(c.validatingFields,r)},error:{enumerable:!0,get:()=>T(c.errors,r)}}),[c,r]),f=K.useMemo(()=>({name:r,value:o,...Le(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:v=>u.current.onChange({target:{value:Op(v),name:r},type:gn.CHANGE}),onBlur:()=>u.current.onBlur({target:{value:T(i._formValues,r),name:r},type:gn.BLUR}),ref:v=>{const b=T(i._fields,r);b&&v&&(b._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:C=>v.setCustomValidity(C),reportValidity:()=>v.reportValidity()})}}),[r,i._formValues,n,c.disabled,o,i._fields]);return K.useEffect(()=>{const v=i._options.shouldUnregister||a,b=(C,g)=>{const x=T(i._fields,C);x&&x._f&&(x._f.mount=g)};if(b(r,!0),v){const C=Re(T(i._options.defaultValues,r));se(i._defaultValues,r,C),ve(T(i._formValues,r))&&se(i._formValues,r,C)}return!s&&i.register(r),()=>{(s?v&&!i._state.action:v)?i.unregister(r):b(r,!1)}},[r,i,s,a]),K.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),K.useMemo(()=>({field:f,formState:c,fieldState:d}),[f,c,d])}const Zb=t=>t.render($b(t));var Lp=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Zd=t=>({isOnSubmit:!t||t===ze.onSubmit,isOnBlur:t===ze.onBlur,isOnChange:t===ze.onChange,isOnAll:t===ze.all,isOnTouch:t===ze.onTouched}),Wd=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const qr=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=T(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(qr(o,e))break}else if(ye(o)&&qr(o,e))break}}};var Wb=(t,e,r)=>{const n=kr(T(t,r));return se(n,"root",e[r]),se(t,r,n),t},jl=t=>t.type==="file",Xe=t=>typeof t=="function",_n=t=>{if(!Il)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mn=t=>rt(t),kl=t=>t.type==="radio",bn=t=>t instanceof RegExp;const Hd={value:!1,isValid:!1},zd={value:!0,isValid:!0};var Bp=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ve(t[0].attributes.value)?ve(t[0].value)||t[0].value===""?zd:{value:t[0].value,isValid:!0}:zd:Hd}return Hd};const Kd={isValid:!1,value:null};var Up=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Kd):Kd;function Gd(t,e,r="validate"){if(mn(t)||Array.isArray(t)&&t.every(mn)||Le(t)&&!t)return{type:r,message:mn(t)?t:"",ref:e}}var zt=t=>ye(t)&&!bn(t)?t:{value:t,message:""},Yd=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:v,pattern:b,validate:C,name:g,valueAsNumber:x,mount:I}=t._f,m=T(r,g);if(!I||e.has(g))return{};const A=o?o[0]:s,q=E=>{i&&A.reportValidity&&(A.setCustomValidity(Le(E)?"":E||""),A.reportValidity())},N={},D=kl(s),R=rn(s),V=D||R,U=(x||jl(s))&&ve(s.value)&&ve(m)||_n(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,B=Lp.bind(null,g,n,N),Q=(E,M,Y,ee=ht.maxLength,ie=ht.minLength)=>{const ue=E?M:Y;N[g]={type:E?ee:ie,message:ue,ref:s,...B(E?ee:ie,ue)}};if(a?!Array.isArray(m)||!m.length:c&&(!V&&(U||je(m))||Le(m)&&!m||R&&!Bp(o).isValid||D&&!Up(o).isValid)){const{value:E,message:M}=mn(c)?{value:!!c,message:c}:zt(c);if(E&&(N[g]={type:ht.required,message:M,ref:A,...B(ht.required,M)},!n))return q(M),N}if(!U&&(!je(f)||!je(v))){let E,M;const Y=zt(v),ee=zt(f);if(!je(m)&&!isNaN(m)){const ie=s.valueAsNumber||m&&+m;je(Y.value)||(E=ie>Y.value),je(ee.value)||(M=ie<ee.value)}else{const ie=s.valueAsDate||new Date(m),ue=Ue=>new Date(new Date().toDateString()+" "+Ue),Ce=s.type=="time",Ae=s.type=="week";rt(Y.value)&&m&&(E=Ce?ue(m)>ue(Y.value):Ae?m>Y.value:ie>new Date(Y.value)),rt(ee.value)&&m&&(M=Ce?ue(m)<ue(ee.value):Ae?m<ee.value:ie<new Date(ee.value))}if((E||M)&&(Q(!!E,Y.message,ee.message,ht.max,ht.min),!n))return q(N[g].message),N}if((u||d)&&!U&&(rt(m)||a&&Array.isArray(m))){const E=zt(u),M=zt(d),Y=!je(E.value)&&m.length>+E.value,ee=!je(M.value)&&m.length<+M.value;if((Y||ee)&&(Q(Y,E.message,M.message),!n))return q(N[g].message),N}if(b&&!U&&rt(m)){const{value:E,message:M}=zt(b);if(bn(E)&&!m.match(E)&&(N[g]={type:ht.pattern,message:M,ref:s,...B(ht.pattern,M)},!n))return q(M),N}if(C){if(Xe(C)){const E=await C(m,r),M=Gd(E,A);if(M&&(N[g]={...M,...B(ht.validate,M.message)},!n))return q(M.message),N}else if(ye(C)){let E={};for(const M in C){if(!Oe(E)&&!n)break;const Y=Gd(await C[M](m,r),A,M);Y&&(E={...Y,...B(M,Y.message)},q(Y.message),n&&(N[g]=E))}if(!Oe(E)&&(N[g]={ref:A,...E},!n))return N}}return q(!0),N};function Hb(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ve(t)?n++:t[e[n++]];return t}function zb(t){for(const e in t)if(t.hasOwnProperty(e)&&!ve(t[e]))return!1;return!0}function xe(t,e){const r=Array.isArray(e)?e:Pl(e)?[e]:Ep(e),n=r.length===1?t:Hb(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(ye(n)&&Oe(n)||Array.isArray(n)&&zb(n))&&xe(t,r.slice(0,-1)),t}var eo=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Oo=t=>je(t)||!Rp(t);function St(t,e){if(Oo(t)||Oo(e))return t===e;if(Ft(t)&&Ft(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Ft(a)&&Ft(s)||ye(a)&&ye(s)||Array.isArray(a)&&Array.isArray(s)?!St(a,s):a!==s)return!1}}return!0}var $p=t=>t.type==="select-multiple",Kb=t=>kl(t)||rn(t),to=t=>_n(t)&&t.isConnected,Zp=t=>{for(const e in t)if(Xe(t[e]))return!0;return!1};function xn(t,e={}){const r=Array.isArray(t);if(ye(t)||r)for(const n in t)Array.isArray(t[n])||ye(t[n])&&!Zp(t[n])?(e[n]=Array.isArray(t[n])?[]:{},xn(t[n],e[n])):je(t[n])||(e[n]=!0);return e}function Wp(t,e,r){const n=Array.isArray(t);if(ye(t)||n)for(const i in t)Array.isArray(t[i])||ye(t[i])&&!Zp(t[i])?ve(e)||Oo(r[i])?r[i]=Array.isArray(t[i])?xn(t[i],[]):{...xn(t[i])}:Wp(t[i],je(e)?{}:e[i],r[i]):r[i]=!St(t[i],e[i]);return r}var xr=(t,e)=>Wp(t,e,xn(e)),Hp=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ve(t)?t:e?t===""?NaN:t&&+t:r&&rt(t)?new Date(t):n?n(t):t;function ro(t){const e=t.ref;return jl(e)?e.files:kl(e)?Up(t.refs).value:$p(e)?[...e.selectedOptions].map(({value:r})=>r):rn(e)?Bp(t.refs).value:Hp(ve(e.value)?t.ref.value:e.value,t)}var Gb=(t,e,r,n)=>{const i={};for(const a of t){const s=T(e,a);s&&se(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Cr=t=>ve(t)?t:bn(t)?t.source:ye(t)?bn(t.value)?t.value.source:t.value:t;const Jd="AsyncFunction";var Yb=t=>!!t&&!!t.validate&&!!(Xe(t.validate)&&t.validate.constructor.name===Jd||ye(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Jd)),Jb=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Xd(t,e,r){const n=T(t,r);if(n||Pl(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=T(e,a),o=T(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var Xb=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,ex=(t,e)=>!Gn(T(t,e)).length&&xe(t,e);const tx={mode:ze.onSubmit,reValidateMode:ze.onChange,shouldFocusError:!0};function rx(t={}){let e={...tx,...t},r={submitCount:0,isDirty:!1,isLoading:Xe(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ye(e.defaultValues)||ye(e.values)?Re(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Re(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:eo(),array:eo(),state:eo()},v=Zd(e.mode),b=Zd(e.reValidateMode),C=e.criteriaMode===ze.all,g=h=>y=>{clearTimeout(u),u=setTimeout(h,y)},x=async h=>{if(!e.disabled&&(d.isValid||h)){const y=e.resolver?Oe((await V()).errors):await B(n,!0);y!==r.isValid&&f.state.next({isValid:y})}},I=(h,y)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((h||Array.from(o.mount)).forEach(_=>{_&&(y?se(r.validatingFields,_,y):xe(r.validatingFields,_))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Oe(r.validatingFields)}))},m=(h,y=[],_,j,P=!0,S=!0)=>{if(j&&_&&!e.disabled){if(s.action=!0,S&&Array.isArray(T(n,h))){const L=_(T(n,h),j.argA,j.argB);P&&se(n,h,L)}if(S&&Array.isArray(T(r.errors,h))){const L=_(T(r.errors,h),j.argA,j.argB);P&&se(r.errors,h,L),ex(r.errors,h)}if(d.touchedFields&&S&&Array.isArray(T(r.touchedFields,h))){const L=_(T(r.touchedFields,h),j.argA,j.argB);P&&se(r.touchedFields,h,L)}d.dirtyFields&&(r.dirtyFields=xr(i,a)),f.state.next({name:h,isDirty:E(h,y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else se(a,h,y)},A=(h,y)=>{se(r.errors,h,y),f.state.next({errors:r.errors})},q=h=>{r.errors=h,f.state.next({errors:r.errors,isValid:!1})},N=(h,y,_,j)=>{const P=T(n,h);if(P){const S=T(a,h,ve(_)?T(i,h):_);ve(S)||j&&j.defaultChecked||y?se(a,h,y?S:ro(P._f)):ee(h,S),s.mount&&x()}},D=(h,y,_,j,P)=>{let S=!1,L=!1;const H={name:h};if(!e.disabled){const _e=!!(T(n,h)&&T(n,h)._f&&T(n,h)._f.disabled);if(!_||j){d.isDirty&&(L=r.isDirty,r.isDirty=H.isDirty=E(),S=L!==H.isDirty);const me=_e||St(T(i,h),y);L=!!(!_e&&T(r.dirtyFields,h)),me||_e?xe(r.dirtyFields,h):se(r.dirtyFields,h,!0),H.dirtyFields=r.dirtyFields,S=S||d.dirtyFields&&L!==!me}if(_){const me=T(r.touchedFields,h);me||(se(r.touchedFields,h,_),H.touchedFields=r.touchedFields,S=S||d.touchedFields&&me!==_)}S&&P&&f.state.next(H)}return S?H:{}},R=(h,y,_,j)=>{const P=T(r.errors,h),S=d.isValid&&Le(y)&&r.isValid!==y;if(e.delayError&&_?(c=g(()=>A(h,_)),c(e.delayError)):(clearTimeout(u),c=null,_?se(r.errors,h,_):xe(r.errors,h)),(_?!St(P,_):P)||!Oe(j)||S){const L={...j,...S&&Le(y)?{isValid:y}:{},errors:r.errors,name:h};r={...r,...L},f.state.next(L)}},V=async h=>{I(h,!0);const y=await e.resolver(a,e.context,Gb(h||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return I(h),y},U=async h=>{const{errors:y}=await V(h);if(h)for(const _ of h){const j=T(y,_);j?se(r.errors,_,j):xe(r.errors,_)}else r.errors=y;return y},B=async(h,y,_={valid:!0})=>{for(const j in h){const P=h[j];if(P){const{_f:S,...L}=P;if(S){const H=o.array.has(S.name),_e=P._f&&Yb(P._f);_e&&d.validatingFields&&I([j],!0);const me=await Yd(P,o.disabled,a,C,e.shouldUseNativeValidation&&!y,H);if(_e&&d.validatingFields&&I([j]),me[S.name]&&(_.valid=!1,y))break;!y&&(T(me,S.name)?H?Wb(r.errors,me,S.name):se(r.errors,S.name,me[S.name]):xe(r.errors,S.name))}!Oe(L)&&await B(L,y,_)}}return _.valid},Q=()=>{for(const h of o.unMount){const y=T(n,h);y&&(y._f.refs?y._f.refs.every(_=>!to(_)):!to(y._f.ref))&&Ze(h)}o.unMount=new Set},E=(h,y)=>!e.disabled&&(h&&y&&se(a,h,y),!St(ut(),i)),M=(h,y,_)=>Vp(h,o,{...s.mount?a:ve(y)?i:rt(h)?{[h]:y}:y},_,y),Y=h=>Gn(T(s.mount?a:i,h,e.shouldUnregister?T(i,h,[]):[])),ee=(h,y,_={})=>{const j=T(n,h);let P=y;if(j){const S=j._f;S&&(!S.disabled&&se(a,h,Hp(y,S)),P=_n(S.ref)&&je(y)?"":y,$p(S.ref)?[...S.ref.options].forEach(L=>L.selected=P.includes(L.value)):S.refs?rn(S.ref)?S.refs.length>1?S.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(P)?!!P.find(H=>H===L.value):P===L.value)):S.refs[0]&&(S.refs[0].checked=!!P):S.refs.forEach(L=>L.checked=L.value===P):jl(S.ref)?S.ref.value="":(S.ref.value=P,S.ref.type||f.values.next({name:h,values:{...a}})))}(_.shouldDirty||_.shouldTouch)&&D(h,P,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Ue(h)},ie=(h,y,_)=>{for(const j in y){const P=y[j],S=`${h}.${j}`,L=T(n,S);(o.array.has(h)||ye(P)||L&&!L._f)&&!Ft(P)?ie(S,P,_):ee(S,P,_)}},ue=(h,y,_={})=>{const j=T(n,h),P=o.array.has(h),S=Re(y);se(a,h,S),P?(f.array.next({name:h,values:{...a}}),(d.isDirty||d.dirtyFields)&&_.shouldDirty&&f.state.next({name:h,dirtyFields:xr(i,a),isDirty:E(h,S)})):j&&!j._f&&!je(S)?ie(h,S,_):ee(h,S,_),Wd(h,o)&&f.state.next({...r}),f.values.next({name:s.mount?h:void 0,values:{...a}})},Ce=async h=>{s.mount=!0;const y=h.target;let _=y.name,j=!0;const P=T(n,_),S=()=>y.type?ro(P._f):Op(h),L=H=>{j=Number.isNaN(H)||Ft(H)&&isNaN(H.getTime())||St(H,T(a,_,H))};if(P){let H,_e;const me=S(),Te=h.type===gn.BLUR||h.type===gn.FOCUS_OUT,ln=!Jb(P._f)&&!e.resolver&&!T(r.errors,_)&&!P._f.deps||Xb(Te,T(r.touchedFields,_),r.isSubmitted,b,v),Ht=Wd(_,o,Te);se(a,_,me),Te?(P._f.onBlur&&P._f.onBlur(h),c&&c(0)):P._f.onChange&&P._f.onChange(h);const _r=D(_,me,Te,!1),cn=!Oe(_r)||Ht;if(!Te&&f.values.next({name:_,type:h.type,values:{...a}}),ln)return d.isValid&&(e.mode==="onBlur"&&Te?x():Te||x()),cn&&f.state.next({name:_,...Ht?{}:_r});if(!Te&&Ht&&f.state.next({...r}),e.resolver){const{errors:We}=await V([_]);if(L(me),j){const ft=Xd(r.errors,n,_),zl=Xd(We,n,ft.name||_);H=zl.error,_=zl.name,_e=Oe(We)}}else I([_],!0),H=(await Yd(P,o.disabled,a,C,e.shouldUseNativeValidation))[_],I([_]),L(me),j&&(H?_e=!1:d.isValid&&(_e=await B(n,!0)));j&&(P._f.deps&&Ue(P._f.deps),R(_,_e,H,_r))}},Ae=(h,y)=>{if(T(r.errors,y)&&h.focus)return h.focus(),1},Ue=async(h,y={})=>{let _,j;const P=kr(h);if(e.resolver){const S=await U(ve(h)?h:P);_=Oe(S),j=h?!P.some(L=>T(S,L)):_}else h?(j=(await Promise.all(P.map(async S=>{const L=T(n,S);return await B(L&&L._f?{[S]:L}:L)}))).every(Boolean),!(!j&&!r.isValid)&&x()):j=_=await B(n);return f.state.next({...!rt(h)||d.isValid&&_!==r.isValid?{}:{name:h},...e.resolver||!h?{isValid:_}:{},errors:r.errors}),y.shouldFocus&&!j&&qr(n,Ae,h?P:o.mount),j},ut=h=>{const y={...s.mount?a:i};return ve(h)?y:rt(h)?T(y,h):h.map(_=>T(y,_))},xt=(h,y)=>({invalid:!!T((y||r).errors,h),isDirty:!!T((y||r).dirtyFields,h),error:T((y||r).errors,h),isValidating:!!T(r.validatingFields,h),isTouched:!!T((y||r).touchedFields,h)}),Dt=h=>{h&&kr(h).forEach(y=>xe(r.errors,y)),f.state.next({errors:h?r.errors:{}})},$e=(h,y,_)=>{const j=(T(n,h,{_f:{}})._f||{}).ref,P=T(r.errors,h)||{},{ref:S,message:L,type:H,..._e}=P;se(r.errors,h,{..._e,...y,ref:j}),f.state.next({name:h,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&j&&j.focus&&j.focus()},Ct=(h,y)=>Xe(h)?f.values.subscribe({next:_=>h(M(void 0,y),_)}):M(h,y,!0),Ze=(h,y={})=>{for(const _ of h?kr(h):o.mount)o.mount.delete(_),o.array.delete(_),y.keepValue||(xe(n,_),xe(a,_)),!y.keepError&&xe(r.errors,_),!y.keepDirty&&xe(r.dirtyFields,_),!y.keepTouched&&xe(r.touchedFields,_),!y.keepIsValidating&&xe(r.validatingFields,_),!e.shouldUnregister&&!y.keepDefaultValue&&xe(i,_);f.values.next({values:{...a}}),f.state.next({...r,...y.keepDirty?{isDirty:E()}:{}}),!y.keepIsValid&&x()},W=({disabled:h,name:y,field:_,fields:j})=>{(Le(h)&&s.mount||h||o.disabled.has(y))&&(h?o.disabled.add(y):o.disabled.delete(y),D(y,ro(_?_._f:T(j,y)._f),!1,!1,!0))},le=(h,y={})=>{let _=T(n,h);const j=Le(y.disabled)||Le(e.disabled);return se(n,h,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:h}},name:h,mount:!0,...y}}),o.mount.add(h),_?W({field:_,disabled:Le(y.disabled)?y.disabled:e.disabled,name:h}):N(h,!0,y.value),{...j?{disabled:y.disabled||e.disabled}:{},...e.progressive?{required:!!y.required,min:Cr(y.min),max:Cr(y.max),minLength:Cr(y.minLength),maxLength:Cr(y.maxLength),pattern:Cr(y.pattern)}:{},name:h,onChange:Ce,onBlur:Ce,ref:P=>{if(P){le(h,y),_=T(n,h);const S=ve(P.value)&&P.querySelectorAll&&P.querySelectorAll("input,select,textarea")[0]||P,L=Kb(S),H=_._f.refs||[];if(L?H.find(_e=>_e===S):S===_._f.ref)return;se(n,h,{_f:{..._._f,...L?{refs:[...H.filter(to),S,...Array.isArray(T(i,h))?[{}]:[]],ref:{type:S.type,name:h}}:{ref:S}}}),N(h,!1,void 0,S)}else _=T(n,h,{}),_._f&&(_._f.mount=!1),(e.shouldUnregister||y.shouldUnregister)&&!(Np(o.array,h)&&s.action)&&o.unMount.add(h)}}},Se=()=>e.shouldFocusError&&qr(n,Ae,o.mount),ce=h=>{Le(h)&&(f.state.next({disabled:h}),qr(n,(y,_)=>{const j=T(n,_);j&&(y.disabled=j._f.disabled||h,Array.isArray(j._f.refs)&&j._f.refs.forEach(P=>{P.disabled=j._f.disabled||h}))},0,!1))},ae=(h,y)=>async _=>{let j;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let P=Re(a);if(o.disabled.size)for(const S of o.disabled)se(P,S,void 0);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:S,values:L}=await V();r.errors=S,P=L}else await B(n);if(xe(r.errors,"root"),Oe(r.errors)){f.state.next({errors:{}});try{await h(P,_)}catch(S){j=S}}else y&&await y({...r.errors},_),Se(),setTimeout(Se);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oe(r.errors)&&!j,submitCount:r.submitCount+1,errors:r.errors}),j)throw j},oe=(h,y={})=>{T(n,h)&&(ve(y.defaultValue)?ue(h,Re(T(i,h))):(ue(h,y.defaultValue),se(i,h,Re(y.defaultValue))),y.keepTouched||xe(r.touchedFields,h),y.keepDirty||(xe(r.dirtyFields,h),r.isDirty=y.defaultValue?E(h,Re(T(i,h))):E()),y.keepError||(xe(r.errors,h),d.isValid&&x()),f.state.next({...r}))},Qe=(h,y={})=>{const _=h?Re(h):i,j=Re(_),P=Oe(h),S=P?i:j;if(y.keepDefaultValues||(i=_),!y.keepValues){if(y.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(xr(i,a))]);for(const H of Array.from(L))T(r.dirtyFields,H)?se(S,H,T(a,H)):ue(H,T(S,H))}else{if(Il&&ve(h))for(const L of o.mount){const H=T(n,L);if(H&&H._f){const _e=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(_n(_e)){const me=_e.closest("form");if(me){me.reset();break}}}}n={}}a=e.shouldUnregister?y.keepDefaultValues?Re(i):{}:Re(S),f.array.next({values:{...S}}),f.values.next({values:{...S}})}o={mount:y.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!y.keepIsValid||!!y.keepDirtyValues,s.watch=!!e.shouldUnregister,f.state.next({submitCount:y.keepSubmitCount?r.submitCount:0,isDirty:P?!1:y.keepDirty?r.isDirty:!!(y.keepDefaultValues&&!St(h,i)),isSubmitted:y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P?{}:y.keepDirtyValues?y.keepDefaultValues&&a?xr(i,a):r.dirtyFields:y.keepDefaultValues&&h?xr(i,h):y.keepDirty?r.dirtyFields:{},touchedFields:y.keepTouched?r.touchedFields:{},errors:y.keepErrors?r.errors:{},isSubmitSuccessful:y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(h,y)=>Qe(Xe(h)?h(a):h,y);return{control:{register:le,unregister:Ze,getFieldState:xt,handleSubmit:ae,setError:$e,_executeSchema:V,_getWatch:M,_getDirty:E,_updateValid:x,_removeUnmounted:Q,_updateFieldArray:m,_updateDisabledField:W,_getFieldArray:Y,_reset:Qe,_resetDefaultValues:()=>Xe(e.defaultValues)&&e.defaultValues().then(h=>{Me(h,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:h=>{r={...r,...h}},_disableForm:ce,_subjects:f,_proxyFormState:d,_setErrors:q,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(h){s=h},get _defaultValues(){return i},get _names(){return o},set _names(h){o=h},get _formState(){return r},set _formState(h){r=h},get _options(){return e},set _options(h){e={...e,...h}}},trigger:Ue,register:le,handleSubmit:ae,watch:Ct,setValue:ue,getValues:ut,reset:Me,resetField:oe,clearErrors:Dt,unregister:Ze,setError:$e,setFocus:(h,y={})=>{const _=T(n,h),j=_&&_._f;if(j){const P=j.refs?j.refs[0]:j.ref;P.focus&&(P.focus(),y.shouldSelect&&Xe(P.select)&&P.select())}},getFieldState:xt}}function zp(t={}){const e=K.useRef(void 0),r=K.useRef(void 0),[n,i]=K.useState({isDirty:!1,isValidating:!1,isLoading:Xe(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Xe(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...rx(t),formState:n});const a=e.current.control;return a._options=t,Tl({subject:a._subjects.state,next:s=>{Qp(s,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),K.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),K.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),K.useEffect(()=>{t.values&&!St(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),K.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),K.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),K.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=Fp(n,a),e.current}const ef=(t,e,r)=>{if(t&&"reportValidity"in t){const n=T(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Kp=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?ef(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>ef(i,r,t))}},nx=(t,e)=>{e.shouldUseNativeValidation&&Kp(t,e);const r={};for(const n in t){const i=T(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(ix(e.names||Object.keys(t),n)){const s=Object.assign({},T(r,n));se(s,"root",a),se(r,n,s)}else se(r,n,a)}return r},ix=(t,e)=>t.some(r=>r.match(`^${e}\\.\\d+`));function ax(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=Lp(s,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r}function Gp(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&Kp({},a),{errors:{},values:r.raw?Object.assign({},n):u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:nx(ax(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}}var X;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(X||(X={}));var No;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(No||(No={}));const O=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mt=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},w=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),sx=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fe extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof Fe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fe.create=t=>new Fe(t);const ir=(t,e)=>{let r;switch(t.code){case w.invalid_type:t.received===O.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case w.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:r=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case w.invalid_union:r="Invalid input";break;case w.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case w.invalid_enum_value:r=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case w.invalid_arguments:r="Invalid function arguments";break;case w.invalid_return_type:r="Invalid function return type";break;case w.invalid_date:r="Invalid date";break;case w.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case w.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case w.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case w.custom:r="Invalid input";break;case w.invalid_intersection_types:r="Intersection results could not be merged";break;case w.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case w.not_finite:r="Number must be finite";break;default:r=e.defaultError,X.assertNever(t)}return{message:r}};let Yp=ir;function ox(t){Yp=t}function Cn(){return Yp}const Sn=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},lx=[];function k(t,e){const r=Cn(),n=Sn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ir?void 0:ir].filter(i=>!!i)});t.common.issues.push(n)}class Pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Z;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Pe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Z;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Z=Object.freeze({status:"aborted"}),Gt=t=>({status:"dirty",value:t}),qe=t=>({status:"valid",value:t}),Eo=t=>t.status==="aborted",Do=t=>t.status==="dirty",Vt=t=>t.status==="valid",Nr=t=>typeof Promise<"u"&&t instanceof Promise;function wn(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Jp(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(F||(F={}));var Pr,Tr;class it{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tf=(t,e)=>{if(Vt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fe(t.common.issues);return this._error=r,this._error}}};function z(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var c,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:i}}class G{get description(){return this._def.description}_getType(e){return mt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pe,ctx:{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Nr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return tf(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Vt(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Vt(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Nr(i)?i:Promise.resolve(i));return tf(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:w.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ye({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nt.create(this,this._def)}nullable(){return kt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ge.create(this)}promise(){return sr.create(this,this._def)}or(e){return Qr.create([this,e],this._def)}and(e){return Mr.create(this,e,this._def)}transform(e){return new Ye({...z(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new $r({...z(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new ql({typeName:$.ZodBranded,type:this,...z(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Zr({...z(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return nn.create(this,e)}readonly(){return Wr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cx=/^c[^\s-]{8,}$/i,ux=/^[0-9a-z]+$/,dx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hx=/^[a-z0-9_-]{21}$/i,px=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let no;const gx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Sx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Xp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wx=new RegExp(`^${Xp}$`);function em(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ax(t){return new RegExp(`^${em(t)}$`)}function tm(t){let e=`${Xp}T${em(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Ix(t,e){return!!((e==="v4"||!e)&&gx.test(t)||(e==="v6"||!e)&&bx.test(t))}function Px(t,e){if(!px.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Tx(t,e){return!!((e==="v4"||!e)&&_x.test(t)||(e==="v6"||!e)&&xx.test(t))}class Ke extends G{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){const a=this._getOrReturnCtx(e);return k(a,{code:w.invalid_type,expected:O.string,received:a.parsedType}),Z}const n=new Pe;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),k(i,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),k(i,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?k(i,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&k(i,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")vx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"email",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")no||(no=new RegExp(yx,"u")),no.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"emoji",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")fx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"uuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")hx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"nanoid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")cx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"cuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ux.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"cuid2",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")dx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"ulid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),k(i,{validation:"url",code:w.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"regex",code:w.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),k(i,{code:w.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),k(i,{code:w.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),k(i,{code:w.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?tm(a).test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:w.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?wx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:w.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Ax(a).test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:w.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?mx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"duration",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Ix(e.data,a.version)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"ip",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Px(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"jwt",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Tx(e.data,a.version)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"cidr",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Cx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"base64",code:w.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Sx.test(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{validation:"base64url",code:w.invalid_string,message:a.message}),n.dirty()):X.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:w.invalid_string,...F.errToObj(n)})}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...F.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...F.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...F.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...F.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...F.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...F.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...F.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...F.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...F.errToObj(r)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ke.create=t=>{var e;return new Ke({checks:[],typeName:$.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};function jx(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class Pt extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){const a=this._getOrReturnCtx(e);return k(a,{code:w.invalid_type,expected:O.number,received:a.parsedType}),Z}let n;const i=new Pe;for(const a of this._def.checks)a.kind==="int"?X.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),k(n,{code:w.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:w.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:w.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?jx(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),k(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),k(n,{code:w.not_finite,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Pt.create=t=>new Pt({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Tt extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==O.bigint)return this._getInvalidInput(e);let n;const i=new Pe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:w.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:w.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),k(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return k(r,{code:w.invalid_type,expected:O.bigint,received:r.parsedType}),Z}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Tt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Tt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Tt.create=t=>{var e;return new Tt({checks:[],typeName:$.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};class Er extends G{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){const n=this._getOrReturnCtx(e);return k(n,{code:w.invalid_type,expected:O.boolean,received:n.parsedType}),Z}return qe(e.data)}}Er.create=t=>new Er({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Lt extends G{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){const a=this._getOrReturnCtx(e);return k(a,{code:w.invalid_type,expected:O.date,received:a.parsedType}),Z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return k(a,{code:w.invalid_date}),Z}const n=new Pe;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),k(i,{code:w.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),k(i,{code:w.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):X.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Lt.create=t=>new Lt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate,...z(t)});class An extends G{_parse(e){if(this._getType(e)!==O.symbol){const n=this._getOrReturnCtx(e);return k(n,{code:w.invalid_type,expected:O.symbol,received:n.parsedType}),Z}return qe(e.data)}}An.create=t=>new An({typeName:$.ZodSymbol,...z(t)});class Dr extends G{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return k(n,{code:w.invalid_type,expected:O.undefined,received:n.parsedType}),Z}return qe(e.data)}}Dr.create=t=>new Dr({typeName:$.ZodUndefined,...z(t)});class Fr extends G{_parse(e){if(this._getType(e)!==O.null){const n=this._getOrReturnCtx(e);return k(n,{code:w.invalid_type,expected:O.null,received:n.parsedType}),Z}return qe(e.data)}}Fr.create=t=>new Fr({typeName:$.ZodNull,...z(t)});class ar extends G{constructor(){super(...arguments),this._any=!0}_parse(e){return qe(e.data)}}ar.create=t=>new ar({typeName:$.ZodAny,...z(t)});class Mt extends G{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qe(e.data)}}Mt.create=t=>new Mt({typeName:$.ZodUnknown,...z(t)});class yt extends G{_parse(e){const r=this._getOrReturnCtx(e);return k(r,{code:w.invalid_type,expected:O.never,received:r.parsedType}),Z}}yt.create=t=>new yt({typeName:$.ZodNever,...z(t)});class In extends G{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return k(n,{code:w.invalid_type,expected:O.void,received:n.parsedType}),Z}return qe(e.data)}}In.create=t=>new In({typeName:$.ZodVoid,...z(t)});class Ge extends G{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==O.array)return k(r,{code:w.invalid_type,expected:O.array,received:r.parsedType}),Z;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(k(r,{code:s?w.too_big:w.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(k(r,{code:w.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(k(r,{code:w.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new it(r,s,r.path,o)))).then(s=>Pe.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new it(r,s,r.path,o)));return Pe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ge({...this._def,minLength:{value:e,message:F.toString(r)}})}max(e,r){return new Ge({...this._def,maxLength:{value:e,message:F.toString(r)}})}length(e,r){return new Ge({...this._def,exactLength:{value:e,message:F.toString(r)}})}nonempty(e){return this.min(1,e)}}Ge.create=(t,e)=>new Ge({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...z(e)});function Kt(t){if(t instanceof pe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=nt.create(Kt(n))}return new pe({...t._def,shape:()=>e})}else return t instanceof Ge?new Ge({...t._def,type:Kt(t.element)}):t instanceof nt?nt.create(Kt(t.unwrap())):t instanceof kt?kt.create(Kt(t.unwrap())):t instanceof at?at.create(t.items.map(e=>Kt(e))):t}class pe extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=X.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==O.object){const u=this._getOrReturnCtx(e);return k(u,{code:w.invalid_type,expected:O.object,received:u.parsedType}),Z}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof yt&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new it(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof yt){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(k(i,{code:w.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new it(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,v=await d.value;u.push({key:f,value:v,alwaysSet:d.alwaysSet})}return u}).then(u=>Pe.mergeObjectSync(n,u)):Pe.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const c=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=F.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new pe({...this._def,catchall:e})}pick(e){const r={};return X.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new pe({...this._def,shape:()=>r})}omit(e){const r={};return X.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new pe({...this._def,shape:()=>r})}deepPartial(){return Kt(this)}partial(e){const r={};return X.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new pe({...this._def,shape:()=>r})}required(e){const r={};return X.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof nt;)a=a._def.innerType;r[n]=a}}),new pe({...this._def,shape:()=>r})}keyof(){return rm(X.objectKeys(this.shape))}}pe.create=(t,e)=>new pe({shape:()=>t,unknownKeys:"strip",catchall:yt.create(),typeName:$.ZodObject,...z(e)});pe.strictCreate=(t,e)=>new pe({shape:()=>t,unknownKeys:"strict",catchall:yt.create(),typeName:$.ZodObject,...z(e)});pe.lazycreate=(t,e)=>new pe({shape:t,unknownKeys:"strip",catchall:yt.create(),typeName:$.ZodObject,...z(e)});class Qr extends G{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Fe(o.ctx.common.issues));return k(r,{code:w.invalid_union,unionErrors:s}),Z}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(c=>new Fe(c));return k(r,{code:w.invalid_union,unionErrors:o}),Z}}get options(){return this._def.options}}Qr.create=(t,e)=>new Qr({options:t,typeName:$.ZodUnion,...z(e)});const pt=t=>t instanceof Lr?pt(t.schema):t instanceof Ye?pt(t.innerType()):t instanceof Br?[t.value]:t instanceof jt?t.options:t instanceof Ur?X.objectValues(t.enum):t instanceof $r?pt(t._def.innerType):t instanceof Dr?[void 0]:t instanceof Fr?[null]:t instanceof nt?[void 0,...pt(t.unwrap())]:t instanceof kt?[null,...pt(t.unwrap())]:t instanceof ql||t instanceof Wr?pt(t.unwrap()):t instanceof Zr?pt(t._def.innerType):[];class Jn extends G{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.object)return k(r,{code:w.invalid_type,expected:O.object,received:r.parsedType}),Z;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(k(r,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=pt(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Jn({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...z(n)})}}function Fo(t,e){const r=mt(t),n=mt(e);if(t===e)return{valid:!0,data:t};if(r===O.object&&n===O.object){const i=X.objectKeys(e),a=X.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const c=Fo(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===O.array&&n===O.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],c=Fo(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===O.date&&n===O.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Mr extends G{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(Eo(a)||Eo(s))return Z;const o=Fo(a.value,s.value);return o.valid?((Do(a)||Do(s))&&r.dirty(),{status:r.value,value:o.data}):(k(n,{code:w.invalid_intersection_types}),Z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mr.create=(t,e,r)=>new Mr({left:t,right:e,typeName:$.ZodIntersection,...z(r)});class at extends G{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.array)return k(n,{code:w.invalid_type,expected:O.array,received:n.parsedType}),Z;if(n.data.length<this._def.items.length)return k(n,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&n.data.length>this._def.items.length&&(k(n,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new it(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Pe.mergeArray(r,s)):Pe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new at({...this._def,rest:e})}}at.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new at({items:t,typeName:$.ZodTuple,rest:null,...z(e)})};class Vr extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return k(n,{code:w.invalid_type,expected:O.object,received:n.parsedType}),Z;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new it(n,o,n.path,o)),value:s._parse(new it(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Pe.mergeObjectAsync(r,i):Pe.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof G?new Vr({keyType:e,valueType:r,typeName:$.ZodRecord,...z(n)}):new Vr({keyType:Ke.create(),valueType:e,typeName:$.ZodRecord,...z(r)})}}class Pn extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.map)return k(n,{code:w.invalid_type,expected:O.map,received:n.parsedType}),Z;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new it(n,o,n.path,[u,"key"])),value:a._parse(new it(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Z;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Z;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}Pn.create=(t,e,r)=>new Pn({valueType:e,keyType:t,typeName:$.ZodMap,...z(r)});class Bt extends G{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.set)return k(n,{code:w.invalid_type,expected:O.set,received:n.parsedType}),Z;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(k(n,{code:w.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(k(n,{code:w.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Z;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new it(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new Bt({...this._def,minSize:{value:e,message:F.toString(r)}})}max(e,r){return new Bt({...this._def,maxSize:{value:e,message:F.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Bt.create=(t,e)=>new Bt({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...z(e)});class Yt extends G{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.function)return k(r,{code:w.invalid_type,expected:O.function,received:r.parsedType}),Z;function n(o,c){return Sn({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Cn(),ir].filter(u=>!!u),issueData:{code:w.invalid_arguments,argumentsError:c}})}function i(o,c){return Sn({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Cn(),ir].filter(u=>!!u),issueData:{code:w.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof sr){const o=this;return qe(async function(...c){const u=new Fe([]),d=await o._def.args.parseAsync(c,a).catch(b=>{throw u.addIssue(n(c,b)),u}),f=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(f,a).catch(b=>{throw u.addIssue(i(f,b)),u})})}else{const o=this;return qe(function(...c){const u=o._def.args.safeParse(c,a);if(!u.success)throw new Fe([n(c,u.error)]);const d=Reflect.apply(s,this,u.data),f=o._def.returns.safeParse(d,a);if(!f.success)throw new Fe([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yt({...this._def,args:at.create(e).rest(Mt.create())})}returns(e){return new Yt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Yt({args:e||at.create([]).rest(Mt.create()),returns:r||Mt.create(),typeName:$.ZodFunction,...z(n)})}}class Lr extends G{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Lr.create=(t,e)=>new Lr({getter:t,typeName:$.ZodLazy,...z(e)});class Br extends G{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return k(r,{received:r.data,code:w.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Br.create=(t,e)=>new Br({value:t,typeName:$.ZodLiteral,...z(e)});function rm(t,e){return new jt({values:t,typeName:$.ZodEnum,...z(e)})}class jt extends G{constructor(){super(...arguments),Pr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return k(r,{expected:X.joinValues(n),received:r.parsedType,code:w.invalid_type}),Z}if(wn(this,Pr)||Jp(this,Pr,new Set(this._def.values)),!wn(this,Pr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return k(r,{received:r.data,code:w.invalid_enum_value,options:n}),Z}return qe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return jt.create(e,{...this._def,...r})}exclude(e,r=this._def){return jt.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Pr=new WeakMap;jt.create=rm;class Ur extends G{constructor(){super(...arguments),Tr.set(this,void 0)}_parse(e){const r=X.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==O.string&&n.parsedType!==O.number){const i=X.objectValues(r);return k(n,{expected:X.joinValues(i),received:n.parsedType,code:w.invalid_type}),Z}if(wn(this,Tr)||Jp(this,Tr,new Set(X.getValidEnumValues(this._def.values))),!wn(this,Tr).has(e.data)){const i=X.objectValues(r);return k(n,{received:n.data,code:w.invalid_enum_value,options:i}),Z}return qe(e.data)}get enum(){return this._def.values}}Tr=new WeakMap;Ur.create=(t,e)=>new Ur({values:t,typeName:$.ZodNativeEnum,...z(e)});class sr extends G{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.promise&&r.common.async===!1)return k(r,{code:w.invalid_type,expected:O.promise,received:r.parsedType}),Z;const n=r.parsedType===O.promise?r.data:Promise.resolve(r.data);return qe(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sr.create=(t,e)=>new sr({type:t,typeName:$.ZodPromise,...z(e)});class Ye extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{k(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Z;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Z:c.status==="dirty"||r.value==="dirty"?Gt(c.value):c});{if(r.value==="aborted")return Z;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Z:o.status==="dirty"||r.value==="dirty"?Gt(o.value):o}}if(i.type==="refinement"){const s=o=>{const c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vt(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Vt(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);X.assertNever(i)}}Ye.create=(t,e,r)=>new Ye({schema:t,typeName:$.ZodEffects,effect:e,...z(r)});Ye.createWithPreprocess=(t,e,r)=>new Ye({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...z(r)});class nt extends G{_parse(e){return this._getType(e)===O.undefined?qe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nt.create=(t,e)=>new nt({innerType:t,typeName:$.ZodOptional,...z(e)});class kt extends G{_parse(e){return this._getType(e)===O.null?qe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kt.create=(t,e)=>new kt({innerType:t,typeName:$.ZodNullable,...z(e)});class $r extends G{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===O.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$r.create=(t,e)=>new $r({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});class Zr extends G{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Nr(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fe(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Zr.create=(t,e)=>new Zr({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});class Tn extends G{_parse(e){if(this._getType(e)!==O.nan){const n=this._getOrReturnCtx(e);return k(n,{code:w.invalid_type,expected:O.nan,received:n.parsedType}),Z}return{status:"valid",value:e.data}}}Tn.create=t=>new Tn({typeName:$.ZodNaN,...z(t)});const kx=Symbol("zod_brand");class ql extends G{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class nn extends G{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Z:a.status==="dirty"?(r.dirty(),Gt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Z:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new nn({in:e,out:r,typeName:$.ZodPipeline})}}class Wr extends G{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Vt(i)&&(i.value=Object.freeze(i.value)),i);return Nr(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Wr.create=(t,e)=>new Wr({innerType:t,typeName:$.ZodReadonly,...z(e)});function rf(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function nm(t,e={},r){return t?ar.create().superRefine((n,i)=>{var a,s;const o=t(n);if(o instanceof Promise)return o.then(c=>{var u,d;if(!c){const f=rf(e,n),v=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:v})}});if(!o){const c=rf(e,n),u=(s=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...c,fatal:u})}}):ar.create()}const qx={object:pe.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const Rx=(t,e={message:`Input not instance of ${t.name}`})=>nm(r=>r instanceof t,e),im=Ke.create,am=Pt.create,Ox=Tn.create,Nx=Tt.create,sm=Er.create,Ex=Lt.create,Dx=An.create,Fx=Dr.create,Qx=Fr.create,Mx=ar.create,Vx=Mt.create,Lx=yt.create,Bx=In.create,Ux=Ge.create,$x=pe.create,Zx=pe.strictCreate,Wx=Qr.create,Hx=Jn.create,zx=Mr.create,Kx=at.create,Gx=Vr.create,Yx=Pn.create,Jx=Bt.create,Xx=Yt.create,eC=Lr.create,tC=Br.create,rC=jt.create,nC=Ur.create,iC=sr.create,nf=Ye.create,aC=nt.create,sC=kt.create,oC=Ye.createWithPreprocess,lC=nn.create,cC=()=>im().optional(),uC=()=>am().optional(),dC=()=>sm().optional(),fC={string:t=>Ke.create({...t,coerce:!0}),number:t=>Pt.create({...t,coerce:!0}),boolean:t=>Er.create({...t,coerce:!0}),bigint:t=>Tt.create({...t,coerce:!0}),date:t=>Lt.create({...t,coerce:!0})},hC=Z;var jn=Object.freeze({__proto__:null,defaultErrorMap:ir,setErrorMap:ox,getErrorMap:Cn,makeIssue:Sn,EMPTY_PATH:lx,addIssueToContext:k,ParseStatus:Pe,INVALID:Z,DIRTY:Gt,OK:qe,isAborted:Eo,isDirty:Do,isValid:Vt,isAsync:Nr,get util(){return X},get objectUtil(){return No},ZodParsedType:O,getParsedType:mt,ZodType:G,datetimeRegex:tm,ZodString:Ke,ZodNumber:Pt,ZodBigInt:Tt,ZodBoolean:Er,ZodDate:Lt,ZodSymbol:An,ZodUndefined:Dr,ZodNull:Fr,ZodAny:ar,ZodUnknown:Mt,ZodNever:yt,ZodVoid:In,ZodArray:Ge,ZodObject:pe,ZodUnion:Qr,ZodDiscriminatedUnion:Jn,ZodIntersection:Mr,ZodTuple:at,ZodRecord:Vr,ZodMap:Pn,ZodSet:Bt,ZodFunction:Yt,ZodLazy:Lr,ZodLiteral:Br,ZodEnum:jt,ZodNativeEnum:Ur,ZodPromise:sr,ZodEffects:Ye,ZodTransformer:Ye,ZodOptional:nt,ZodNullable:kt,ZodDefault:$r,ZodCatch:Zr,ZodNaN:Tn,BRAND:kx,ZodBranded:ql,ZodPipeline:nn,ZodReadonly:Wr,custom:nm,Schema:G,ZodSchema:G,late:qx,get ZodFirstPartyTypeKind(){return $},coerce:fC,any:Mx,array:Ux,bigint:Nx,boolean:sm,date:Ex,discriminatedUnion:Hx,effect:nf,enum:rC,function:Xx,instanceof:Rx,intersection:zx,lazy:eC,literal:tC,map:Yx,nan:Ox,nativeEnum:nC,never:Lx,null:Qx,nullable:sC,number:am,object:$x,oboolean:dC,onumber:uC,optional:aC,ostring:cC,pipeline:lC,preprocess:oC,promise:iC,record:Gx,set:Jx,strictObject:Zx,string:im,symbol:Dx,transformer:nf,tuple:Kx,undefined:Fx,union:Wx,unknown:Vx,void:Bx,NEVER:hC,ZodIssueCode:w,quotelessJson:sx,ZodError:Fe}),pC="Label",om=p.forwardRef((t,e)=>l.jsx(ge.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));om.displayName=pC;var lm=om;const mC=nh({base:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}),Rl=p.forwardRef(({className:t,...e},r)=>l.jsx(lm,{ref:r,className:te(mC(),t),...e}));Rl.displayName=lm.displayName;Rl.__docgenInfo={description:"",methods:[]};const cm=Lb,um=p.createContext({}),Ol=({...t})=>l.jsx(um.Provider,{value:{name:t.name},children:l.jsx(Zb,{...t})}),Xn=()=>{const t=p.useContext(um),e=p.useContext(dm),{getFieldState:r,formState:n}=Yn(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},dm=p.createContext({}),ei=p.forwardRef(({className:t,...e},r)=>{const n=p.useId();return l.jsx(dm.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:te("space-y-1",t),...e})})});ei.displayName="FormItem";const ti=p.forwardRef(({className:t,...e},r)=>{const{formItemId:n}=Xn();return l.jsx(Rl,{ref:r,className:t,htmlFor:n,...e})});ti.displayName="FormLabel";const ri=p.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=Xn();return l.jsx(Zo,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});ri.displayName="FormControl";const fm=p.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Xn();return l.jsx("p",{ref:r,id:n,className:te("text-sm text-muted-foreground",t),...e})});fm.displayName="FormDescription";const ni=p.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=Xn(),s=i?String(i==null?void 0:i.message):e;return s?l.jsx("p",{ref:n,id:a,className:te("text-sm font-medium text-destructive",t),...r,children:s}):null});ni.displayName="FormMessage";ei.__docgenInfo={description:"",methods:[],displayName:"FormItem"};ti.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};ri.__docgenInfo={description:"",methods:[],displayName:"FormControl"};fm.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};ni.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};Ol.__docgenInfo={description:"",methods:[],displayName:"FormField"};const vC=jn.object({title:jn.string()});function hm({open:t,onOpenChange:e,query:r}){const[n,i]=p.useState(!1),a=de(),s=zp({resolver:Gp(vC),values:{title:""}}),o=async c=>(i(!0),Promise.resolve(r.saveAsCustomPill(c.title)).then(()=>e(!1)).finally(()=>i(!1)));return l.jsx(zn,{open:t,onOpenChange:e,children:l.jsxs(hr,{children:[l.jsx(pr,{children:l.jsx(vr,{children:a.queryBar.saveDialog.title})}),l.jsx(cm,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6",children:[l.jsx(Ol,{control:s.control,name:"title",render:({field:c})=>l.jsxs(ei,{children:[l.jsx(ti,{children:a.queryBar.saveDialog.fields.title.label}),l.jsx(ri,{children:l.jsx(zo,{placeholder:a.queryBar.saveDialog.fields.title.placeholder,...c})}),l.jsx(ni,{})]})}),l.jsx("div",{className:"text-sm",children:a.queryBar.saveDialog.notice}),l.jsxs(mr,{children:[l.jsx(Kn,{asChild:!0,children:l.jsx(Ie,{variant:"outline",children:a.queryBar.saveDialog.cancel})}),l.jsx(Ie,{type:"submit",variant:"primary",loading:n,children:a.queryBar.saveDialog.ok})]})]})})]})})}hm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function pm(){const{query:t}=Be(),e=de(),[r,n]=p.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ee,{icon:oh,onClick:()=>n(!0),disabled:t.hasCustomPill()})}),l.jsx(lt,{className:"max-w-[200px]",children:t.hasCustomPill()?e.queryBar.customPill.cannotSaveAsCustomPill:e.queryBar.customPill.createTooltip})]}),l.jsx(hm,{open:r,onOpenChange:n,query:t})]})}pm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function mm(){const{customPillConfig:t}=he();return l.jsx(Nn,{children:l.jsxs("div",{className:`
flex gap-2 items-center py-2 px-4 border-r border-t border-b 
border-[--gray-5] bg-[--gray-2]
group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
`,onClick:e=>e.stopPropagation(),children:[(t==null?void 0:t.enable)&&l.jsx(pm,{}),l.jsx(gp,{}),l.jsx(kp,{})]})})}mm.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};function vm(){const{queryBuilder:t,queryCountIcon:e,fetchQueryCount:r}=he(),{query:n}=Be(),[i,a]=p.useState(0),[s,o]=p.useState(!0);return p.useEffect(()=>{o(!0),r(n.raw()).then(c=>a(c)).finally(()=>o(!1))},[r,n.raw(),t.getRawQueries()]),l.jsx("div",{className:"flex items-center gap-1",children:s?l.jsx(Jv,{}):l.jsxs(l.Fragment,{children:[e&&l.jsx(e,{size:14}),l.jsx("span",{className:"font-medium",children:i})]})})}vm.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function ym(){const{query:t}=Be();return t.isSelectable()?l.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-[--gray-5] bg-[--gray-2]
      group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
      group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
      `,children:[l.jsx(oy,{size:"sm",checked:t.isSelected(),onClick:e=>{e.stopPropagation(),t.toggleSelect(!t.isSelected())}}),l.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}ym.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};function gm({type:t,size:e,className:r}){switch(t){case ke[">"]:return l.jsx(hy,{size:e,className:r});case ke[">="]:return l.jsx(fy,{size:e,className:r});case ke["<"]:return l.jsx(dy,{size:e,className:r});case ke["<="]:return l.jsx(uy,{size:e,className:r});case ke.between:return l.jsx(Ko,{size:e,className:r});case ke["not-in"]:case ke["some-not-in"]:return l.jsx(cy,{size:e,className:r});default:return l.jsx(ly,{size:e,className:r})}}gm.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperator",props:{size:{required:!1,tsType:{name:"number"},description:""},type:{required:!0,tsType:{name:"union",raw:"FieldOperators | (string & {})",elements:[{name:"FieldOperators"},{name:"unknown"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var io,af;function _m(){if(af)return io;af=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return io=t,io}var ao,sf;function yC(){if(sf)return ao;sf=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ao=e,ao}var so,of;function gC(){if(of)return so;of=1;var t=yC(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return so=r,so}var oo,lf;function bm(){if(lf)return oo;lf=1;var t=ur(),e=_t(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return oo=n,oo}var lo,cf;function _C(){if(cf)return lo;cf=1;var t=gC(),e=gt(),r=bm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):i.test(u)?n:+u}return lo=c,lo}var co,uf;function bC(){if(uf)return co;uf=1;var t=_C(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return co=n,co}var uo,df;function xC(){if(df)return uo;df=1;var t=bC();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return uo=e,uo}var fo,ff;function CC(){if(ff)return fo;ff=1;var t=_m(),e=xC();function r(n,i,a){return n&&n.length?(i=a||i===void 0?1:e(i),t(n,0,i<0?0:i)):[]}return fo=r,fo}var SC=CC();const wC=$t(SC);function xm({className:t,...e}){return l.jsx("span",{className:t,...e,children:"&"})}xm.__docgenInfo={description:"",methods:[],displayName:"IntersectionOperator"};function Cm({className:t,...e}){return l.jsx("span",{className:t,...e,children:","})}Cm.__docgenInfo={description:"",methods:[],displayName:"UnionOperator"};function an({canExpand:t,className:e,children:r,onClick:n,...i}){return l.jsx("div",{className:te("bg-white rounded-sm pl-2 text-xs font-medium leading-5 relative",t?"pr-[22px]":"pr-2",e),...i,children:l.jsx("div",{onClick:n,className:te("flex flex-wrap items-center",n?"hover:shadow-[inset_0_-4px_0_-2.5px_black] hover:cursor-pointer":""),children:r})})}an.__docgenInfo={description:"",methods:[],displayName:"QueryPillValuesContainer",props:{canExpand:{required:!1,tsType:{name:"boolean"},description:""}}};function ii({valueFilter:t,...e}){const[r,n]=p.useState(!1),i=t.content.value.length>3,a=r?t.content.value:wC(t.content.value,3);return l.jsxs(an,{canExpand:i,...e,children:[t.content.overrideValuesName?l.jsx("div",{children:l.jsx("span",{children:t.content.overrideValuesName})}):a.map((s,o)=>l.jsxs("div",{children:[l.jsx("span",{children:s}),a.length-1>o&&(t.op===ke.all?l.jsx(xm,{className:"px-1"}):l.jsx(Cm,{className:"px-1"}))]},`${s}-${o}`)),i&&l.jsx("div",{className:"absolute right-1 hover:cursor-pointer",children:r?l.jsx(vy,{size:16,onClick:()=>n(!1)}):l.jsx(Kv,{size:16,onClick:()=>n(!0)})})]})}ii.__docgenInfo={description:"",methods:[],displayName:"QueryPillValues",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function yr({children:t,className:e,onRemovePill:r,...n}){return l.jsxs("div",{className:te("flex items-center rounded-sm p-[2px] bg-[--gray-4] group-data-[query-active=true]/query:bg-[--query-pill-bg-active]",e),...n,children:[t,l.jsx(Ee,{icon:lh,variant:"link",className:"pr-[2px] pl-[4px] py-[2px] size-auto",onClick:i=>{i.stopPropagation(),r()}})]})}yr.__docgenInfo={description:"",methods:[],displayName:"QueryPillContainer",props:{onRemovePill:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function Nl({valueFilter:t,operator:e,className:r,...n}){const i=de(),{showLabels:a}=he();return l.jsx("div",{className:te("flex items-center",r),...n,children:(a||q_(t)||R_(t))&&l.jsxs(l.Fragment,{children:[l.jsx(Dl,{children:i.queryPill.facet(t.content.field)}),l.jsx(El,{children:e})]})})}const El=({className:t,children:e,...r})=>l.jsx("span",{className:te("ml-[2px] mr-[4px]",t),...r,children:e});function Dl({className:t,children:e,...r}){return l.jsx("span",{className:te("ml-[4px] mr-[2px] text-xs font-medium",t),...r,children:e})}El.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperatorContainer"};Dl.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelContainer"};Nl.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelOperator",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},operator:{required:!0,tsType:{name:"ReactNode"},description:""}}};function Fl({valueFilter:t,customPillEditEnabled:e}){var c;const{query:r}=Be(),{queryPillFacetFilterConfig:n}=he(),[i,a]=p.useState(),s=!!(!e&&(n!=null&&n.enable)&&!((c=n==null?void 0:n.blacklistedFacets)!=null&&c.includes(t.content.field))),o=p.useCallback(()=>{n!=null&&n.onFacetClick&&!i&&a(n.onFacetClick(t))},[i,n==null?void 0:n.onFacetClick]);return l.jsxs(yr,{onRemovePill:function(){return r.removePillByFieldOrIndex(t.content.field)},children:[l.jsx(Nl,{valueFilter:t,operator:l.jsx(gm,{size:14,type:t.op})}),l.jsx(Xv,{condition:s,wrapper:u=>l.jsxs(jp,{children:[l.jsx(Sl,{asChild:!0,onClick:o,children:u}),l.jsx(Hn,{align:"start",children:i})]}),children:l.jsx(ii,{valueFilter:t})})]})}Fl.__docgenInfo={description:"",methods:[],displayName:"QueryPillField",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};function Sm(){return l.jsx("div",{children:"QueryPillRemoteComponent"})}Sm.__docgenInfo={description:"",methods:[],displayName:"QueryPillRemoteComponent"};function wm({valueFilter:t}){const{query:e}=Be();return l.jsxs(yr,{onRemovePill:function(){e.removePillByFieldOrIndex(t.content.field)},children:[l.jsx(Nl,{valueFilter:t,operator:l.jsx(Ko,{size:14,type:t.op})}),l.jsx(ii,{valueFilter:t})]})}wm.__docgenInfo={description:"",methods:[],displayName:"QueryPillUploadList",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};var ho,hf;function AC(){if(hf)return ho;hf=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return ho=t,ho}var po,pf;function IC(){if(pf)return po;pf=1;var t=cr(),e=AC(),r=Rt(),n=bm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return po=s,po}var mo,mf;function Am(){if(mf)return mo;mf=1;var t=IC();function e(r){return r==null?"":t(r)}return mo=e,mo}var vo,vf;function PC(){if(vf)return vo;vf=1;var t=_m();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return vo=e,vo}var yo,yf;function Im(){if(yf)return yo;yf=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function c(u){return o.test(u)}return yo=c,yo}var go,gf;function TC(){if(gf)return go;gf=1;function t(e){return e.split("")}return go=t,go}var _o,_f;function jC(){if(_f)return _o;_f=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",C=u+"?",g="["+a+"]?",x="(?:"+b+"(?:"+[d,f,v].join("|")+")"+g+C+")*",I=g+C+x,m="(?:"+[d+o+"?",o,f,v,s].join("|")+")",A=RegExp(c+"(?="+c+")|"+m+I,"g");function q(N){return N.match(A)||[]}return _o=q,_o}var bo,bf;function kC(){if(bf)return bo;bf=1;var t=TC(),e=Im(),r=jC();function n(i){return e(i)?r(i):t(i)}return bo=n,bo}var xo,xf;function qC(){if(xf)return xo;xf=1;var t=PC(),e=Im(),r=kC(),n=Am();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,c=o?o[0]:s.charAt(0),u=o?t(o,1).join(""):s.slice(1);return c[a]()+u}}return xo=i,xo}var Co,Cf;function RC(){if(Cf)return Co;Cf=1;var t=qC(),e=t("toUpperCase");return Co=e,Co}var So,Sf;function OC(){if(Sf)return So;Sf=1;var t=Am(),e=RC();function r(n){return e(t(n).toLowerCase())}return So=r,So}var NC=OC();const Qo=$t(NC);function Pm({valueFilter:t}){const{query:e}=Be(),r=de();return l.jsxs(yr,{onRemovePill:function(){e.removePillByFieldOrIndex(t.content.field)},children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{children:t.content.index?Qo(t.content.index):r.queryPill.facet(t.content.field)}),l.jsx(El,{children:l.jsx(Ko,{size:14})})]}),l.jsx(an,{children:l.jsx(ii,{valueFilter:t})})]})}Pm.__docgenInfo={description:"",methods:[],displayName:"QueryPillSet",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function Tm({refIndex:t}){const{query:e}=Be(),{getQueryReferenceColor:r}=he(),n=r(t);return l.jsx(yr,{onRemovePill:function(){e.removePillByFieldOrIndex(t)},children:l.jsx(an,{children:l.jsx("span",{style:{color:n},children:`Q${t+1}`})})})}Tm.__docgenInfo={description:"",methods:[],displayName:"QueryPillReference",props:{refIndex:{required:!0,tsType:{name:"number"},description:""}}};const jm=({children:t,icon:e=Yo,onChangeText:r,...n})=>{const[i,a]=p.useState(!1);return l.jsx("div",{...n,children:i?l.jsx(zo,{defaultValue:t,autoFocus:!0,onBlur:s=>{a(!1),r==null||r(s.currentTarget.value)},className:"max-w-96 w-full",onKeyUp:s=>{s.key==="Enter"&&(a(!1),r==null||r(s.currentTarget.value))}}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:t}),l.jsx(Ee,{icon:e,onClick:()=>a(!0)})]})})};jm.__docgenInfo={description:"",methods:[],displayName:"EditableText",props:{icon:{required:!1,tsType:{name:"ReactForwardRefExoticComponent",raw:`React.ForwardRefExoticComponent<
  Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>
>`,elements:[{name:"intersection",raw:'Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>',elements:[{name:"Omit",elements:[{name:"LucideProps"},{name:"literal",value:'"ref"'}],raw:'Omit<LucideProps, "ref">'},{name:"ReactRefAttributes",raw:"React.RefAttributes<SVGSVGElement>",elements:[{name:"SVGSVGElement"}]}]}]},description:"",defaultValue:{value:"PencilLineIcon",computed:!0}},children:{required:!0,tsType:{name:"string"},description:""},onChangeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""}}};var EC="Separator",wf="horizontal",DC=["horizontal","vertical"],km=p.forwardRef((t,e)=>{const{decorative:r,orientation:n=wf,...i}=t,a=FC(n)?n:wf,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(ge.div,{"data-orientation":a,...o,...i,ref:e})});km.displayName=EC;function FC(t){return DC.includes(t)}var qm=km;const Ql=p.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>l.jsx(qm,{ref:i,decorative:r,orientation:e,className:te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ql.displayName=qm.displayName;Ql.__docgenInfo={description:"",methods:[],props:{orientation:{defaultValue:{value:'"horizontal"',computed:!1},required:!1},decorative:{defaultValue:{value:"true",computed:!1},required:!1}}};function Rm(t,e){lr.open({type:"warning",title:e.savedFilter.deleteDialog.title,description:e.savedFilter.deleteDialog.description,cancelProps:{children:e.savedFilter.deleteDialog.cancel},actionProps:{variant:"destructive",onClick:()=>t.delete(),children:e.savedFilter.deleteDialog.ok}})}function Om(t,e){lr.open({type:"warning",title:e.savedFilter.overwriteDialog.title,description:e.savedFilter.overwriteDialog.description,cancelProps:{children:e.savedFilter.overwriteDialog.cancel},actionProps:{onClick:()=>t.createSavedFilter(),children:e.savedFilter.overwriteDialog.ok}})}function QC(t){lr.open({type:"error",title:t.queryPill.customPill.cantBeEmptyDialog.title,description:t.queryPill.customPill.cantBeEmptyDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.cantBeEmptyDialog.ok}})}function MC(t){lr.open({type:"error",title:t.queryPill.customPill.titleExistsDialog.title,description:t.queryPill.customPill.titleExistsDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.titleExistsDialog.ok}})}function VC(t,e,r,n){lr.open({type:"warning",title:t.queryPill.customPill.saveDialog.title,description:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:t.queryPill.customPill.saveDialog.confirmationMessage.replace("{title}",e)}),(r==null?void 0:r.length)&&l.jsxs("div",{className:"border rounded p-4 space-y-2",children:[l.jsx("div",{className:"font-medium text-black",children:t.queryPill.customPill.saveDialog.affectedFilters}),l.jsx("ul",{className:"list-disc list-inside",children:r.map(i=>l.jsx("li",{className:"list-item",children:i.title}))})]})]}),cancelProps:{children:t.queryPill.customPill.saveDialog.cancel},actionProps:{children:t.queryPill.customPill.saveDialog.ok,onClick:async i=>(i.preventDefault(),n())}})}function Nm({open:t,onOpenChange:e,queryPill:r}){const n=de(),{queryBuilder:i,customPillConfig:a}=he(),s=Yh({id:a==null?void 0:a.queryBuilderEditId,initialState:{activeQueryId:r.queries[0].id,queries:r.queries,savedFilters:[r],selectedQueryIndexes:[]},onCustomPillUpdate:async I=>{var A,q;return await Promise.resolve((q=(A=i.coreProps).onCustomPillUpdate)==null?void 0:q.call(A,I)).then(N=>(i.setState(D=>({...D,queries:M_(D.queries,I)})),e(!1),N))}}),[o,c]=p.useState(r.title),[u,d]=p.useState(!1),f=s.getQueries()[0],v=s.getSelectedSavedFilter(),b=o!==r.title,C=b||(v==null?void 0:v.isDirty()),g=p.useCallback(function(I){I?e(!0):(s.reset(),e(!1))},[e,s]),x=p.useCallback(async function(){if(f.isEmpty()){QC(n);return}if(d(!0),b){const m=await(a==null?void 0:a.validateCustomPillTitle(o));if(m!==void 0&&m===!1){d(!1),MC(n);return}}const I=await(a==null?void 0:a.fetchSavedFiltersByCustomPillId(r.id).finally(()=>d(!1)));VC(n,o,I,async()=>v==null?void 0:v.save(Wt.Query,{title:o}))},[f,v,n,o,r.id,a]);return l.jsx(zn,{open:t,onOpenChange:g,children:l.jsx(bl.Provider,{value:{queryBuilder:s,fetchQueryCount:async()=>0,getQueryReferenceColor:()=>"",showLabels:!0},children:l.jsxs(hr,{className:"flex flex-row gap-0 h-screen w-screen max-w-screen rounded-none border-none sm:rounded-none p-0",children:[l.jsx("aside",{className:"flex flex-col min-w-48 bg-primary",children:l.jsx("span",{className:"italic",children:"TODO Insert filters"})}),l.jsx("div",{className:"w-full bg-gray-100",children:l.jsxs("div",{className:"flex flex-col bg-white gap-6 p-6",children:[l.jsx(pr,{children:l.jsx(vr,{children:n.queryPill.customPill.editDialog.title})}),l.jsx(Ql,{}),l.jsx("div",{children:l.jsx(jm,{onChangeText:c,children:o})}),l.jsx("div",{"data-query-active":!0,className:"flex flex-wrap group/query",children:l.jsx(xl.Provider,{value:{query:f},children:l.jsx(ai,{sqon:f.raw(),customPillEditEnabled:!0})})}),l.jsxs(mr,{className:"mt-5",children:[l.jsx(Kn,{asChild:!0,children:l.jsx(Ie,{variant:"outline",children:n.queryPill.customPill.editDialog.cancel})}),l.jsx(Ie,{type:"submit",variant:"primary",loading:u,disabled:!C,onClick:x,children:n.queryPill.customPill.editDialog.ok})]})]})})]})})})}Nm.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustomEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},queryPill:{required:!0,tsType:{name:"ISavedFilter"},description:""}}};function Em({valueQuery:t}){const{query:e}=Be(),[r,n]=p.useState(!1),{title:i,...a}=t,s={id:t.id,title:t.title,queries:[a],favorite:!1};return l.jsxs(l.Fragment,{children:[l.jsx(yr,{onRemovePill:()=>e.removePillById(t.id),children:l.jsxs(an,{className:"pr-1 space-x-1",children:[l.jsx("span",{children:t.title}),l.jsx(Ee,{icon:Yo,size:"xs",className:"size-auto p-[2px]",onClick:()=>n(!0)})]})}),r&&l.jsx(Nm,{open:r,onOpenChange:n,queryPill:s})]})}Em.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustom",props:{valueQuery:{required:!0,tsType:{name:"IValueQuery"},description:""}}};function Dm({groupFilter:t}){const e={},r=p.useMemo(function(){return t.content.forEach(n=>{e.hasOwnProperty(n.content.field)?(e[n.content.field]=It(e[n.content.field]),e[n.content.field].content.value=e[n.content.field].content.value.concat(n.content.value),n.op===Rr.in&&t.op===De.and&&t.skipBooleanOperatorCheck&&(e[n.content.field].op=Rr.all)):e[n.content.field]=It(n)}),{...t,content:Object.entries(e).map(n=>n[1])}},[t]);return l.jsx(Fl,{valueFilter:r.content[0]})}Dm.__docgenInfo={description:"",methods:[],displayName:"QueryPillIsolatedBoolean",props:{groupFilter:{required:!0,tsType:{name:"ISqonGroupFilter"},description:""}}};function Fm({className:t,...e}){const r=de();return l.jsx("span",{className:te("",t),...e,children:r.queryPill.operator.and})}Fm.__docgenInfo={description:"",methods:[],displayName:"AndOperator"};function Qm({className:t,...e}){const r=de();return l.jsx("span",{className:te("",t),...e,children:r.queryPill.operator.or})}Qm.__docgenInfo={description:"",methods:[],displayName:"OrOperator"};function Mm(){const{query:t}=Be(),e=de(),r=t.raw().op===De.and;return l.jsx(Nn,{children:l.jsx("div",{className:"px-2",onClick:n=>n.stopPropagation(),children:l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ie,{variant:"link",className:"text-sm p-0 h-auto font-normal",onClick:()=>t.changeCombineOperator(r?De.or:De.and),children:r?l.jsx(Fm,{}):l.jsx(Qm,{})})}),l.jsxs(lt,{children:[e.queryPill.operator.changeOperatorTo,' "',r?e.queryPill.operator.or:e.queryPill.operator.and,'"']})]})})})}Mm.__docgenInfo={description:"",methods:[],displayName:"QueryCombiner"};function ai({sqon:t,customPillEditEnabled:e}){return l.jsx(l.Fragment,{children:t.content.map((r,n)=>l.jsxs("div",{className:"flex items-center py-[2px]",children:[r.skipBooleanOperatorCheck?l.jsx(Dm,{groupFilter:r}):O_(r)?l.jsx(Em,{valueQuery:r}):dr(r)?l.jsx(ai,{sqon:r}):Xr(r)?l.jsx(Tm,{refIndex:r}):T_(r)?l.jsx(Pm,{valueFilter:r}):j_(r)?l.jsx(wm,{valueFilter:r}):k_(r)?l.jsx(Sm,{}):l.jsx(Fl,{valueFilter:r,customPillEditEnabled:e}),LC(t.content,n)&&l.jsx(Mm,{})]},n))})}const LC=(t,e)=>t.length-1>e;ai.__docgenInfo={description:"",methods:[],displayName:"QueryPillBoolean",props:{sqon:{required:!0,tsType:{name:"ISyntheticSqon"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};const BC=nh({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-[--query-bar-border-color-active] bg-[--query-bar-bg-active]"],false:["border-[--gray-5] bg-[--gray-2]"]}},defaultVariants:{active:!1}});function Vm({query:t}){const e=t.isActive(),r=de(),{enableCombine:n}=he(),i=()=>{e||t.setAsActive()};return l.jsx(xl.Provider,{value:{query:t},children:l.jsxs("div",{"data-query-active":e,className:"flex group/query",onClick:i,children:[l.jsx(yp,{}),n&&l.jsx(ym,{}),l.jsx("div",{className:BC({active:e}),children:l.jsx("div",{className:"flex-1",children:t.isEmpty()?l.jsx(l.Fragment,{children:r.queryBar.empty}):l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1",children:dr(t.raw())&&l.jsx("div",{className:"flex items-center flex-wrap pr-2",children:l.jsx(ai,{sqon:t.raw()})})}),l.jsx(vm,{})]})})}),t.isNotEmpty()&&l.jsx(mm,{})]})})}Vm.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function Lm(){const t=de(),{queryBuilder:e}=he(),r=p.useCallback(()=>{lr.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{variant:"destructive",onClick:()=>e.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[e,t]);return e.getQueries().length>1?l.jsx(Ie,{variant:"link",size:"xs",className:"no-underline enabled:hover:no-underline",onClick:r,children:t.toolbar.clearAll}):null}Lm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function Bm(){const t=de(),{queryBuilder:e,enableCombine:r}=he();return e.canCombine()&&r?l.jsx(Gv,{actions:[{label:Qo(t.queryPill.operator.and),onClick:function(){e.combineSelectedQueries(De.and)}},{label:Qo(t.queryPill.operator.or),onClick:function(){e.combineSelectedQueries(De.or)}}],onDefaultAction:function(){e.combineSelectedQueries(De.and)},size:"xs",variant:"primary",children:t.toolbar.combine}):null}Bm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function Um(){const t=de(),{queryBuilder:e}=he();return e.canCombine()?null:l.jsxs(Ie,{size:"xs",variant:"primary",disabled:e.hasEmptyQuery(),onClick:function(){e.createQuery({op:De.and,content:[]})},children:[l.jsx(sh,{}),t.toolbar.newQuery]})}Um.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function $m(){const t=de(),{queryBuilder:e,enableShowHideLabels:r,showLabels:n,toggleLabels:i}=he();return!e.canCombine()&&r?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(py,{size:"xs",checked:n,onCheckedChange:i})," ",t.toolbar.labels]}):null}$m.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function Zm(){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Um,{}),l.jsx(Bm,{}),l.jsx($m,{})]}),l.jsx("div",{children:l.jsx(Lm,{})})]})}Zm.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function Wm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?Om(e,t):r==null||r.duplicate()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ee,{icon:ah,disabled:(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:t.savedFilter.duplicateTooltip})]})}Wm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function Hm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?Om(e,t):e.createSavedFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ee,{icon:sh,onClick:n,disabled:(r==null?void 0:r.isNew())||!r})})}),l.jsx(lt,{children:t.savedFilter.newFilter})]})}Hm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function zm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=r?!r.isDirty():e.isEmpty(),i=function(){r?r.save(Wt.Filter):e.saveNewFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ee,{icon:oh,color:"orange-400",disabled:n,className:r!=null&&r.isDirty()?"text-[--gold-6]":"",onClick:i})})}),l.jsx(lt,{children:e.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:r!=null&&r.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}zm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Km(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter();return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ee,{icon:Yf,disabled:(r==null?void 0:r.isNew())||!r,onClick:function(){Rm(r,t)}})})}),l.jsx(lt,{children:t.savedFilter.deleteTooltip})]})}Km.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function Gm(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter(),n=function(){};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ee,{icon:ey,disabled:(r==null?void 0:r.isDirty())||(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:r!=null&&r.isDirty()||!r?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}Gm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};function Af(t,[e,r]){return Math.min(r,Math.max(e,t))}var UC=[" ","Enter","ArrowUp","ArrowDown"],$C=[" ","Enter"],sn="Select",[si,oi,ZC]=Vf(sn),[gr,hA]=Rn(sn,[ZC,On]),li=On(),[WC,Nt]=gr(sn),[HC,zC]=gr(sn),Ym=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:v,required:b,form:C}=t,g=li(e),[x,I]=p.useState(null),[m,A]=p.useState(null),[q,N]=p.useState(!1),D=Lf(u),[R=!1,V]=Xt({prop:n,defaultProp:i,onChange:a}),[U,B]=Xt({prop:s,defaultProp:o,onChange:c}),Q=p.useRef(null),E=x?C||!!x.closest("form"):!0,[M,Y]=p.useState(new Set),ee=Array.from(M).map(ie=>ie.props.value).join(";");return l.jsx(Bf,{...g,children:l.jsxs(WC,{required:b,scope:e,trigger:x,onTriggerChange:I,valueNode:m,onValueNodeChange:A,valueNodeHasChildren:q,onValueNodeHasChildrenChange:N,contentId:or(),value:U,onValueChange:B,open:R,onOpenChange:V,dir:D,triggerPointerDownPosRef:Q,disabled:v,children:[l.jsx(si.Provider,{scope:e,children:l.jsx(HC,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(ie=>{Y(ue=>new Set(ue).add(ie))},[]),onNativeOptionRemove:p.useCallback(ie=>{Y(ue=>{const Ce=new Set(ue);return Ce.delete(ie),Ce})},[]),children:r})}),E?l.jsxs(xv,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:f,value:U,onChange:ie=>B(ie.target.value),disabled:v,form:C,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},ee):null]})})};Ym.displayName=sn;var Jm="SelectTrigger",Xm=p.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=li(r),s=Nt(Jm,r),o=s.disabled||n,c=Ne(e,s.onTriggerChange),u=oi(r),d=p.useRef("touch"),[f,v,b]=Cv(g=>{const x=u().filter(A=>!A.disabled),I=x.find(A=>A.value===s.value),m=Sv(x,g,I);m!==void 0&&s.onValueChange(m.value)}),C=g=>{o||(s.onOpenChange(!0),b()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Wo,{asChild:!0,...a,children:l.jsx(ge.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":bv(s.value)?"":void 0,...i,ref:c,onClick:fe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&C(g)}),onPointerDown:fe(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(C(g),g.preventDefault())}),onKeyDown:fe(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&v(g.key),!(x&&g.key===" ")&&UC.includes(g.key)&&(C(),g.preventDefault())})})})});Xm.displayName=Jm;var ev="SelectValue",KC=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,c=Nt(ev,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ne(e,c.onValueNodeChange);return vt(()=>{u(d)},[u,d]),l.jsx(ge.span,{...o,ref:f,style:{pointerEvents:"none"},children:bv(c.value)?l.jsx(l.Fragment,{children:s}):a})});KC.displayName=ev;var GC="SelectIcon",tv=p.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(ge.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});tv.displayName=GC;var YC="SelectPortal",rv=t=>l.jsx(Uf,{asChild:!0,...t});rv.displayName=YC;var Ut="SelectContent",nv=p.forwardRef((t,e)=>{const r=Nt(Ut,t.__scopeSelect),[n,i]=p.useState();if(vt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ih.createPortal(l.jsx(iv,{scope:t.__scopeSelect,children:l.jsx(si.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(av,{...t,ref:e})});nv.displayName=Ut;var He=10,[iv,Et]=gr(Ut),JC="SelectContentImpl",av=p.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:v,collisionPadding:b,sticky:C,hideWhenDetached:g,avoidCollisions:x,...I}=t,m=Nt(Ut,r),[A,q]=p.useState(null),[N,D]=p.useState(null),R=Ne(e,W=>q(W)),[V,U]=p.useState(null),[B,Q]=p.useState(null),E=oi(r),[M,Y]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(A)return $f(A)},[A]),Wf();const ie=p.useCallback(W=>{const[le,...Se]=E().map(oe=>oe.ref.current),[ce]=Se.slice(-1),ae=document.activeElement;for(const oe of W)if(oe===ae||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===le&&N&&(N.scrollTop=0),oe===ce&&N&&(N.scrollTop=N.scrollHeight),oe==null||oe.focus(),document.activeElement!==ae))return},[E,N]),ue=p.useCallback(()=>ie([V,A]),[ie,V,A]);p.useEffect(()=>{M&&ue()},[M,ue]);const{onOpenChange:Ce,triggerPointerDownPosRef:Ae}=m;p.useEffect(()=>{if(A){let W={x:0,y:0};const le=ce=>{var ae,oe;W={x:Math.abs(Math.round(ce.pageX)-(((ae=Ae.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((oe=Ae.current)==null?void 0:oe.y)??0))}},Se=ce=>{W.x<=10&&W.y<=10?ce.preventDefault():A.contains(ce.target)||Ce(!1),document.removeEventListener("pointermove",le),Ae.current=null};return Ae.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Se,{capture:!0})}}},[A,Ce,Ae]),p.useEffect(()=>{const W=()=>Ce(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[Ce]);const[Ue,ut]=Cv(W=>{const le=E().filter(ae=>!ae.disabled),Se=le.find(ae=>ae.ref.current===document.activeElement),ce=Sv(le,W,Se);ce&&setTimeout(()=>ce.ref.current.focus())}),xt=p.useCallback((W,le,Se)=>{const ce=!ee.current&&!Se;(m.value!==void 0&&m.value===le||ce)&&(U(W),ce&&(ee.current=!0))},[m.value]),Dt=p.useCallback(()=>A==null?void 0:A.focus(),[A]),$e=p.useCallback((W,le,Se)=>{const ce=!ee.current&&!Se;(m.value!==void 0&&m.value===le||ce)&&Q(W)},[m.value]),Ct=n==="popper"?Mo:sv,Ze=Ct===Mo?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:v,collisionPadding:b,sticky:C,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(iv,{scope:r,content:A,viewport:N,onViewportChange:D,itemRefCallback:xt,selectedItem:V,onItemLeave:Dt,itemTextRefCallback:$e,focusSelectedItem:ue,selectedItemText:B,position:n,isPositioned:M,searchRef:Ue,children:l.jsx(Zf,{as:Zo,allowPinchZoom:!0,children:l.jsx(Hf,{asChild:!0,trapped:m.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:fe(i,W=>{var le;(le=m.trigger)==null||le.focus({preventScroll:!0}),W.preventDefault()}),children:l.jsx(zf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Ct,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:W=>W.preventDefault(),...I,...Ze,onPlaced:()=>Y(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:fe(I.onKeyDown,W=>{const le=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!le&&W.key.length===1&&ut(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ce=E().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ae=W.target,oe=ce.indexOf(ae);ce=ce.slice(oe+1)}setTimeout(()=>ie(ce)),W.preventDefault()}})})})})})})});av.displayName=JC;var XC="SelectItemAlignedPosition",sv=p.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Nt(Ut,r),s=Et(Ut,r),[o,c]=p.useState(null),[u,d]=p.useState(null),f=Ne(e,R=>d(R)),v=oi(r),b=p.useRef(!1),C=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:I,focusSelectedItem:m}=s,A=p.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&g&&x&&I){const R=a.trigger.getBoundingClientRect(),V=u.getBoundingClientRect(),U=a.valueNode.getBoundingClientRect(),B=I.getBoundingClientRect();if(a.dir!=="rtl"){const ae=B.left-V.left,oe=U.left-ae,Qe=R.left-oe,Me=R.width+Qe,ne=Math.max(Me,V.width),dt=window.innerWidth-He,J=Af(oe,[He,Math.max(He,dt-ne)]);o.style.minWidth=Me+"px",o.style.left=J+"px"}else{const ae=V.right-B.right,oe=window.innerWidth-U.right-ae,Qe=window.innerWidth-R.right-oe,Me=R.width+Qe,ne=Math.max(Me,V.width),dt=window.innerWidth-He,J=Af(oe,[He,Math.max(He,dt-ne)]);o.style.minWidth=Me+"px",o.style.right=J+"px"}const Q=v(),E=window.innerHeight-He*2,M=g.scrollHeight,Y=window.getComputedStyle(u),ee=parseInt(Y.borderTopWidth,10),ie=parseInt(Y.paddingTop,10),ue=parseInt(Y.borderBottomWidth,10),Ce=parseInt(Y.paddingBottom,10),Ae=ee+ie+M+Ce+ue,Ue=Math.min(x.offsetHeight*5,Ae),ut=window.getComputedStyle(g),xt=parseInt(ut.paddingTop,10),Dt=parseInt(ut.paddingBottom,10),$e=R.top+R.height/2-He,Ct=E-$e,Ze=x.offsetHeight/2,W=x.offsetTop+Ze,le=ee+ie+W,Se=Ae-le;if(le<=$e){const ae=Q.length>0&&x===Q[Q.length-1].ref.current;o.style.bottom="0px";const oe=u.clientHeight-g.offsetTop-g.offsetHeight,Qe=Math.max(Ct,Ze+(ae?Dt:0)+oe+ue),Me=le+Qe;o.style.height=Me+"px"}else{const ae=Q.length>0&&x===Q[0].ref.current;o.style.top="0px";const Qe=Math.max($e,ee+g.offsetTop+(ae?xt:0)+Ze)+Se;o.style.height=Qe+"px",g.scrollTop=le-$e+g.offsetTop}o.style.margin=`${He}px 0`,o.style.minHeight=Ue+"px",o.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[v,a.trigger,a.valueNode,o,u,g,x,I,a.dir,n]);vt(()=>A(),[A]);const[q,N]=p.useState();vt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const D=p.useCallback(R=>{R&&C.current===!0&&(A(),m==null||m(),C.current=!1)},[A,m]);return l.jsx(tS,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:l.jsx(ge.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sv.displayName=XC;var eS="SelectPopperPosition",Mo=p.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=He,...a}=t,s=li(r);return l.jsx(Kf,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mo.displayName=eS;var[tS,Ml]=gr(Ut,{}),Vo="SelectViewport",ov=p.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Et(Vo,r),s=Ml(Vo,r),o=Ne(e,a.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(si.Slot,{scope:r,children:l.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:v}=s;if(v!=null&&v.current&&f){const b=Math.abs(c.current-d.scrollTop);if(b>0){const C=window.innerHeight-He*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),I=Math.max(g,x);if(I<C){const m=I+b,A=Math.min(C,m),q=m-A;f.style.height=A+"px",f.style.bottom==="0px"&&(d.scrollTop=q>0?q:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ov.displayName=Vo;var lv="SelectGroup",[rS,nS]=gr(lv),iS=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=or();return l.jsx(rS,{scope:r,id:i,children:l.jsx(ge.div,{role:"group","aria-labelledby":i,...n,ref:e})})});iS.displayName=lv;var cv="SelectLabel",uv=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=nS(cv,r);return l.jsx(ge.div,{id:i.id,...n,ref:e})});uv.displayName=cv;var kn="SelectItem",[aS,dv]=gr(kn),fv=p.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=Nt(kn,r),c=Et(kn,r),u=o.value===n,[d,f]=p.useState(a??""),[v,b]=p.useState(!1),C=Ne(e,m=>{var A;return(A=c.itemRefCallback)==null?void 0:A.call(c,m,n,i)}),g=or(),x=p.useRef("touch"),I=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(aS,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:p.useCallback(m=>{f(A=>A||((m==null?void 0:m.textContent)??"").trim())},[]),children:l.jsx(si.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":v?"":void 0,"aria-selected":u&&v,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:C,onFocus:fe(s.onFocus,()=>b(!0)),onBlur:fe(s.onBlur,()=>b(!1)),onClick:fe(s.onClick,()=>{x.current!=="mouse"&&I()}),onPointerUp:fe(s.onPointerUp,()=>{x.current==="mouse"&&I()}),onPointerDown:fe(s.onPointerDown,m=>{x.current=m.pointerType}),onPointerMove:fe(s.onPointerMove,m=>{var A;x.current=m.pointerType,i?(A=c.onItemLeave)==null||A.call(c):x.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(s.onPointerLeave,m=>{var A;m.currentTarget===document.activeElement&&((A=c.onItemLeave)==null||A.call(c))}),onKeyDown:fe(s.onKeyDown,m=>{var q;((q=c.searchRef)==null?void 0:q.current)!==""&&m.key===" "||($C.includes(m.key)&&I(),m.key===" "&&m.preventDefault())})})})})});fv.displayName=kn;var jr="SelectItemText",hv=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Nt(jr,r),o=Et(jr,r),c=dv(jr,r),u=zC(jr,r),[d,f]=p.useState(null),v=Ne(e,I=>f(I),c.onItemTextChange,I=>{var m;return(m=o.itemTextRefCallback)==null?void 0:m.call(o,I,c.value,c.disabled)}),b=d==null?void 0:d.textContent,C=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return vt(()=>(g(C),()=>x(C)),[g,x,C]),l.jsxs(l.Fragment,{children:[l.jsx(ge.span,{id:c.textId,...a,ref:v}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ih.createPortal(a.children,s.valueNode):null]})});hv.displayName=jr;var pv="SelectItemIndicator",mv=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return dv(pv,r).isSelected?l.jsx(ge.span,{"aria-hidden":!0,...n,ref:e}):null});mv.displayName=pv;var Lo="SelectScrollUpButton",vv=p.forwardRef((t,e)=>{const r=Et(Lo,t.__scopeSelect),n=Ml(Lo,t.__scopeSelect),[i,a]=p.useState(!1),s=Ne(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(gv,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});vv.displayName=Lo;var Bo="SelectScrollDownButton",yv=p.forwardRef((t,e)=>{const r=Et(Bo,t.__scopeSelect),n=Ml(Bo,t.__scopeSelect),[i,a]=p.useState(!1),s=Ne(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(gv,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});yv.displayName=Bo;var gv=p.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Et("SelectScrollButton",r),s=p.useRef(null),o=oi(r),c=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),vt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ge.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:fe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{c()})})}),sS="SelectSeparator",_v=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(ge.div,{"aria-hidden":!0,...n,ref:e})});_v.displayName=sS;var Uo="SelectArrow",oS=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=li(r),a=Nt(Uo,r),s=Et(Uo,r);return a.open&&s.position==="popper"?l.jsx(Gf,{...i,...n,ref:e}):null});oS.displayName=Uo;function bv(t){return t===""||t===void 0}var xv=p.forwardRef((t,e)=>{const{value:r,...n}=t,i=p.useRef(null),a=Ne(e,i),s=my(r);return p.useEffect(()=>{const o=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==r&&d){const f=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(f)}},[s,r]),l.jsx(ny,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});xv.displayName="BubbleSelect";function Cv(t){const e=zv(t),r=p.useRef(""),n=p.useRef(0),i=p.useCallback(s=>{const o=r.current+s;e(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function Sv(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=lS(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function lS(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var cS=Ym,wv=Xm,uS=tv,dS=rv,Av=nv,fS=ov,Iv=uv,Pv=fv,hS=hv,pS=mv,Tv=vv,jv=yv,kv=_v;const mS=cS,Vl=p.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(wv,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(uS,{asChild:!0,children:l.jsx(Go,{className:"h-4 w-4 opacity-50"})})]}));Vl.displayName=wv.displayName;const Ll=p.forwardRef(({className:t,...e},r)=>l.jsx(Tv,{ref:r,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(yy,{className:"h-4 w-4"})}));Ll.displayName=Tv.displayName;const Bl=p.forwardRef(({className:t,...e},r)=>l.jsx(jv,{ref:r,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Go,{className:"h-4 w-4"})}));Bl.displayName=jv.displayName;const Ul=p.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(dS,{children:l.jsxs(Av,{ref:i,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(Ll,{}),l.jsx(fS,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Bl,{})]})}));Ul.displayName=Av.displayName;const qv=p.forwardRef(({className:t,...e},r)=>l.jsx(Iv,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qv.displayName=Iv.displayName;const $l=p.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Pv,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(pS,{children:l.jsx(Yv,{className:"h-4 w-4"})})}),l.jsx(hS,{children:e})]}));$l.displayName=Pv.displayName;const Zl=p.forwardRef(({className:t,...e},r)=>l.jsx(kv,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));Zl.displayName=kv.displayName;Vl.__docgenInfo={description:"",methods:[]};Ul.__docgenInfo={description:"",methods:[],props:{position:{defaultValue:{value:'"popper"',computed:!1},required:!1}}};qv.__docgenInfo={description:"",methods:[]};$l.__docgenInfo={description:"",methods:[]};Zl.__docgenInfo={description:"",methods:[]};Ll.__docgenInfo={description:"",methods:[]};Bl.__docgenInfo={description:"",methods:[]};const vS=jn.object({title:jn.string().min(2,"Min 2 characters").max(50,"Max 50 characters")});function Wl({open:t,onOpenChange:e,savedFilter:r}){const n=de(),{queryBuilder:i}=he(),a=zp({resolver:Gp(vS),values:{title:(r==null?void 0:r.raw().title)||""}});function s(o){r?r.save(Wt.Filter,{title:o.title}):i.saveNewFilter({title:o.title}),e(!1)}return l.jsx(zn,{open:t,onOpenChange:e,children:l.jsxs(hr,{children:[l.jsx(pr,{children:l.jsx(vr,{children:n.savedFilter.editDialog.title})}),l.jsx(cm,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-8",children:[l.jsx(Ol,{control:a.control,name:"title",render:({field:o})=>l.jsxs(ei,{children:[l.jsx(ti,{children:n.savedFilter.editDialog.fields.title.label}),l.jsx(ri,{children:l.jsx(zo,{placeholder:n.savedFilter.editDialog.fields.title.placeholder,...o})}),l.jsx(ni,{})]})}),l.jsxs(mr,{children:[l.jsx(Kn,{asChild:!0,children:l.jsx(Ie,{variant:"outline",children:n.savedFilter.editDialog.cancel})}),l.jsx(Ie,{type:"submit",variant:"primary",children:n.savedFilter.editDialog.ok})]})]})})]})})}Wl.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to duplicate the SavedFilter
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    }
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the SavedFilter"},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const yS={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},gS=(t,e,r)=>{let n;const i=yS[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},_S={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},bS=(t,e,r,n)=>_S[t];function et(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const xS={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},CS={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},SS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},wS={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},AS={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},IS=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},PS=["MMM","MMMM"],TS={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&PS.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:IS,era:et({values:xS,defaultWidth:"wide"}),quarter:et({values:CS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:et({values:SS,defaultWidth:"wide"}),day:et({values:wS,defaultWidth:"wide"}),dayPeriod:et({values:AS,defaultWidth:"wide"})};function tt(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?kS(o,f=>f.test(s)):jS(o,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function jS(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kS(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Rv(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const qS=/^(\d+)(ime|re|me|er|e)?/i,RS=/\d+/i,OS={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},NS={any:[/^av/i,/^ap/i]},ES={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},DS={any:[/1/i,/2/i,/3/i,/4/i]},FS={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},QS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},MS={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},VS={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},LS={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},BS={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},US={ordinalNumber:Rv({matchPattern:qS,parsePattern:RS,valueCallback:t=>parseInt(t)}),era:tt({matchPatterns:OS,defaultMatchWidth:"wide",parsePatterns:NS,defaultParseWidth:"any"}),quarter:tt({matchPatterns:ES,defaultMatchWidth:"wide",parsePatterns:DS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tt({matchPatterns:FS,defaultMatchWidth:"wide",parsePatterns:QS,defaultParseWidth:"any"}),day:tt({matchPatterns:MS,defaultMatchWidth:"wide",parsePatterns:VS,defaultParseWidth:"any"}),dayPeriod:tt({matchPatterns:LS,defaultMatchWidth:"any",parsePatterns:BS,defaultParseWidth:"any"})};function Jt(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const $S={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},ZS={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},WS={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HS={date:Jt({formats:$S,defaultWidth:"full"}),time:Jt({formats:ZS,defaultWidth:"full"}),dateTime:Jt({formats:WS,defaultWidth:"full"})},zS={code:"fr-CA",formatDistance:gS,formatLong:HS,formatRelative:bS,localize:TS,match:US,options:{weekStartsOn:0,firstWeekContainsDate:1}},dn=43200,If=1440,Pf=Symbol.for("constructDateFrom");function Ov(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Pf in t?t[Pf](e):t instanceof Date?new t.constructor(e):new Date(e)}function qt(t,e){return Ov(t,t)}let KS={};function GS(){return KS}function Tf(t){const e=qt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Hl(t,...e){const r=Ov.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function vn(t,e){const r=+qt(t)-+qt(e);return r<0?-1:r>0?1:r}function YS(t,e,r){const[n,i]=Hl(r==null?void 0:r.in,t,e),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function JS(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function XS(t,e){return+qt(t)-+qt(e)}function ew(t,e){const r=qt(t);return r.setHours(23,59,59,999),r}function tw(t,e){const r=qt(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function rw(t,e){const r=qt(t);return+ew(r)==+tw(r)}function nw(t,e,r){const[n,i,a]=Hl(r==null?void 0:r.in,t,t,e),s=vn(i,a),o=Math.abs(YS(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let c=vn(i,a)===-s;rw(n)&&o===1&&vn(n,a)===1&&(c=!1);const u=s*(o-+c);return u===0?0:u}function iw(t,e,r){const n=XS(t,e)/1e3;return JS(r==null?void 0:r.roundingMethod)(n)}const aw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sw=(t,e,r)=>{let n;const i=aw[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},ow={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uw={date:Jt({formats:ow,defaultWidth:"full"}),time:Jt({formats:lw,defaultWidth:"full"}),dateTime:Jt({formats:cw,defaultWidth:"full"})},dw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fw=(t,e,r,n)=>dw[t],hw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_w=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bw={ordinalNumber:_w,era:et({values:hw,defaultWidth:"wide"}),quarter:et({values:pw,defaultWidth:"wide",argumentCallback:t=>t-1}),month:et({values:mw,defaultWidth:"wide"}),day:et({values:vw,defaultWidth:"wide"}),dayPeriod:et({values:yw,defaultWidth:"wide",formattingValues:gw,defaultFormattingWidth:"wide"})},xw=/^(\d+)(th|st|nd|rd)?/i,Cw=/\d+/i,Sw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ww={any:[/^b/i,/^(a|c)/i]},Aw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Iw={any:[/1/i,/2/i,/3/i,/4/i]},Pw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ow={ordinalNumber:Rv({matchPattern:xw,parsePattern:Cw,valueCallback:t=>parseInt(t,10)}),era:tt({matchPatterns:Sw,defaultMatchWidth:"wide",parsePatterns:ww,defaultParseWidth:"any"}),quarter:tt({matchPatterns:Aw,defaultMatchWidth:"wide",parsePatterns:Iw,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tt({matchPatterns:Pw,defaultMatchWidth:"wide",parsePatterns:Tw,defaultParseWidth:"any"}),day:tt({matchPatterns:jw,defaultMatchWidth:"wide",parsePatterns:kw,defaultParseWidth:"any"}),dayPeriod:tt({matchPatterns:qw,defaultMatchWidth:"any",parsePatterns:Rw,defaultParseWidth:"any"})},Nw={code:"en-US",formatDistance:sw,formatLong:uw,formatRelative:fw,localize:bw,match:Ow,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ew(t,e,r){const n=GS(),i=(r==null?void 0:r.locale)??n.locale??Nw,a=2520,s=vn(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[c,u]=Hl(r==null?void 0:r.in,...s>0?[e,t]:[t,e]),d=iw(u,c),f=(Tf(u)-Tf(c))/1e3,v=Math.round((d-f)/60);let b;if(v<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):v===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",v,o);if(v<45)return i.formatDistance("xMinutes",v,o);if(v<90)return i.formatDistance("aboutXHours",1,o);if(v<If){const C=Math.round(v/60);return i.formatDistance("aboutXHours",C,o)}else{if(v<a)return i.formatDistance("xDays",1,o);if(v<dn){const C=Math.round(v/If);return i.formatDistance("xDays",C,o)}else if(v<dn*2)return b=Math.round(v/dn),i.formatDistance("aboutXMonths",b,o)}if(b=nw(u,c),b<12){const C=Math.round(v/dn);return i.formatDistance("xMonths",C,o)}else{const C=b%12,g=Math.trunc(b/12);return C<3?i.formatDistance("aboutXYears",g,o):C<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function Nv({open:t,onOpenChange:e}){const r=de(),{queryBuilder:n}=he(),i=n.getSavedFilters();return p.useEffect(function(){i.length===0&&e(!1)},[i]),l.jsx(l.Fragment,{children:l.jsx(zn,{open:t,onOpenChange:e,children:l.jsxs(hr,{className:"w-full max-w-[550px]",children:[l.jsx(pr,{children:l.jsx(vr,{children:r.savedFilter.manageDialog.title})}),l.jsx(ty,{bordered:!0,className:"max-h-[250px]",children:i.map(function(a){return l.jsx(Dw,{savedFilter:a},a.id)})}),l.jsx(mr,{children:l.jsx(Kn,{asChild:!0,children:l.jsx(Ie,{variant:"primary",children:r.savedFilter.manageDialog.close})})})]})})})}const Dw=({savedFilter:t})=>{const e=de(),[r,n]=p.useState(!1),[i,a]=p.useState(!1),s=p.useCallback(()=>{const o=t.raw();if(!o.updated_date)return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const c=Ew(new Date,new Date(o.updated_date),{locale:zS});return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",c)},[t.raw()]);return l.jsxs(l.Fragment,{children:[l.jsx(ry,{title:t.raw().title,description:s(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>a(!0),onDelete:()=>Rm(t,e)},t.id),l.jsx(Wl,{open:i,onOpenChange:a,savedFilter:t})]})};Nv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function Ev(){const t=de(),{queryBuilder:e}=he(),r=e.getSavedFilters(),[n,i]=p.useState(!1),[a,s]=p.useState(!1),o=e.getSelectedSavedFilter(),c=function(){i(!1),s(!0)},u=p.useMemo(function(){return new Date},[o==null?void 0:o.id]);return l.jsxs(l.Fragment,{children:[l.jsxs(mS,{value:o==null?void 0:o.id,onValueChange:function(d){var f;(f=r.find(v=>v.id===d))==null||f.select()},open:n,onOpenChange:i,disabled:r.length===0,children:[l.jsxs(st,{open:r.length>0?!1:void 0,children:[l.jsx(ot,{asChild:!0,children:l.jsx(Vl,{className:"w-[135px] h-7",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gy,{size:14})," ",t.savedFilter.myFilters]})})}),l.jsx(lt,{children:t.savedFilter.noSavedFilters})]}),l.jsxs(Ul,{children:[r.map(d=>l.jsx($l,{value:d.id,children:d.raw().title},d.id)),l.jsx(Zl,{}),l.jsx(Ie,{size:"sm",className:"w-full pl-2 justify-start",onClick:c,children:t.savedFilter.manageFilters})]})]},+u),l.jsx(Nv,{open:a,onOpenChange:s})]})}Ev.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function Dv({className:t,...e}){return l.jsx(Nn,{children:l.jsx("div",{className:te("flex",t),...e,children:l.jsxs("div",{className:"flex gap-4 items-center",onClick:function(r){r.stopPropagation()},children:[l.jsxs("div",{className:"flex gap-1.5 whitespace-nowrap",children:[l.jsx(Hm,{}),l.jsx(zm,{}),l.jsx(Wm,{}),l.jsx(Km,{}),l.jsx(Gm,{})]}),l.jsx(Ev,{})]})})})}Dv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function Fv(){const{queryBuilder:t}=he(),[e,r]=p.useState(!1),n=t.getSelectedSavedFilter();return l.jsxs(l.Fragment,{children:[l.jsx(Ee,{icon:Yo,onClick:function(){r(!0)}}),l.jsx(Wl,{open:e,onOpenChange:r,savedFilter:n})]})}Fv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Qv(){const t=de(),{queryBuilder:e}=he(),r=e.getSelectedSavedFilter();return r!=null&&r.isDirty()?l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ee,{icon:_y,disabled:!r,onClick:function(){r.discardChanges()}})}),l.jsx(lt,{children:t.savedFilter.discardTooltip})]}):null}Qv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function Mv(){const t=de(),{queryBuilder:e,enableFavorite:r}=he(),n=e.getSelectedSavedFilter();if(!r)return null;const i=function(){n?n.save(Wt.Filter,{favorite:!n.isFavorite()}):e.saveNewFilter({favorite:!0})};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ee,{icon:by,iconClassName:n!=null&&n.isFavorite()?"stroke-[--gold-6] fill-[--gold-6]":"",disabled:!n,onClick:i})}),l.jsx(lt,{children:n!=null&&n.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}Mv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function Vv({className:t,...e}){const{queryBuilder:r}=he(),n=r.getSelectedSavedFilter();return l.jsxs("div",{className:te("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...e,children:[l.jsx("div",{className:"text-ellipsis overflow-hidden",children:n?n.raw().title:r.coreProps.savedFilterDefaultTitle}),l.jsx(Nn,{children:l.jsxs("div",{className:"flex gap-1.5",onClick:i=>i.stopPropagation(),children:[l.jsx(Fv,{}),l.jsx(Mv,{}),l.jsx(Qv,{})]})})]})}Vv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};const $o={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:"You will find your saved queries in the sidebar under the Queries heading.",cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},Lv=["#C31D7E","#328536","#AA00FF","#C2410C","#047ABE","#E5231F","#007D85","#C51162","#7B5A90","#B85C00","#722ED1","#4D7C0F","#9F1239","#2D7D9A","#847545"];function wo(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Bv(t,e){const r={...t},n=e;return wo(t)&&wo(e)&&Object.keys(e).forEach(i=>{wo(n[i])&&i in t?r[i]=Bv(r[i],n[i]):r[i]=n[i]}),r}function on({className:t,enableCombine:e=!0,enableFavorite:r=!1,enableShowHideLabels:n,initialShowHideLabels:i=!0,queryReferenceColors:a=Lv,queryCountIcon:s,fetchQueryCount:o,dictionary:c=$o,customPillConfig:u,queryPillFacetFilterConfig:d,...f}){const v=Yh(f),b=p.useMemo(()=>Bv($o,c),[c]),[C,g]=p.useState(i),x=p.useCallback(function(m){return a[m%a.length]},[a]),I=p.useMemo(()=>({queryBuilder:v,enableCombine:e,enableFavorite:r,enableShowHideLabels:n,showLabels:C,toggleLabels:g,queryCountIcon:s,getQueryReferenceColor:x,fetchQueryCount:o,dictionary:c,customPillConfig:u,queryPillFacetFilterConfig:d}),[v,e,r,n,C,g,s,x,o,c,u,d]);return l.jsx(vp.Provider,{value:b,children:l.jsx(bl.Provider,{value:I,children:l.jsx(Ab,{type:"multiple",defaultValue:["query-builder"],className:t,children:l.jsxs(yl,{value:"query-builder",className:"border-none",children:[l.jsxs(gl,{asChild:!0,className:"border py-0 px-5 rounded-t-sm data-[state=closed]:rounded-sm hover:cursor-pointer",children:[l.jsx(Vv,{className:"py-4 pr-4"}),l.jsx(Dv,{className:"ml-auto py-4"})]}),l.jsxs(_l,{className:"border-l border-b border-r py-4 px-5 space-y-4 rounded-b-sm",children:[l.jsx("div",{className:"flex flex-col gap-2",children:v.getQueries().map(function(m){return l.jsx(Vm,{query:m},m.id)})}),l.jsx(Zm,{})]})]})})})})}on.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1},dictionary:{defaultValue:{value:`{
  queryBar: {
    empty: "Use the search tools & facets on the left to build a query",
    deletePopover: {
      title: "Delete this query?",
      cancel: "Cancel",
      ok: "Delete",
    },
    customPill: {
      createTooltip: "Create a custom query",
      cannotSaveAsCustomPill:
        "Custom queries cannot include other custom queries",
    },
    saveDialog: {
      title: "Save this query",
      fields: {
        title: {
          label: "Query name",
          placeholder: "Untitled query",
        },
      },
      notice:
        "You will find your saved queries in the sidebar under the Queries heading.",
      cancel: "Cancel",
      ok: "Save",
    },
  },
  queryPill: {
    operator: {
      changeOperatorTo: "Change operator to",
      and: "and",
      or: "or",
    },
    facet: (key) => key,
    customPill: {
      editDialog: {
        title: "Edit custom query",
        cancel: "Cancel",
        ok: "Save",
      },
      cantBeEmptyDialog: {
        title: "Query cannot be empty",
        description: "Your custom query must contain at least one criteria.",
        ok: "Close",
      },
      titleExistsDialog: {
        title: "Name already in use",
        description:
          "A custom query with this name already exists. Please assign a unique name.",
        ok: "Close",
      },
      saveDialog: {
        title: "Edit this query?",
        confirmationMessage:
          'You are about to edit the custom query "{title}", which may affect your results.',
        affectedFilters: "Affected saved filters:",
        cancel: "Cancel",
        ok: "Save",
      },
    },
  },
  toolbar: {
    combine: "Combine",
    newQuery: "New query",
    clearAll: "Clear all",
    clearAllDialog: {
      title: "Delete all queries?",
      description:
        "You are about to delete all your queries. They will be lost forever.",
      cancel: "Cancel",
      ok: "Delete",
    },
    labels: "Labels",
  },
  savedFilter: {
    deleteTooltip: "Delete filter",
    deleteDialog: {
      title: "Permanently delete this filter?",
      description:
        "You are about to permanently delete this filter and all of its queries.",
      cancel: "Cancel",
      ok: "Delete filter",
    },
    duplicateTooltip: "Duplicate filter",
    overwriteDialog: {
      title: "Unsaved changes",
      description:
        "You are about to create a new filter; all modifications will be lost.",
      cancel: "Cancel",
      ok: "Create",
    },
    editDialog: {
      title: "Edit filter",
      cancel: "Cancel",
      ok: "Save",
      fields: {
        title: {
          label: "Title",
          placeholder: "Untitled query",
        },
      },
    },
    myFilters: "My Filters",
    manageFilters: "Manage filters",
    manageDialog: {
      title: "Manage filters",
      close: "Close",
      lastSaveAt: "Last saved at: {lastSaveAt} ago",
    },
    newFilter: "New filter",
    saveTooltip: {
      whenEmpty: "Add a query to save",
      whenDirty: "Save changes",
      default: "Save filter",
    },
    shareTooltip: {
      whenNotSaved: "Save filter to share",
      default: "Share (Copy url)",
    },
    favoriteTooltip: {
      set: "Set as default filter",
      unset: "Unset default filter",
    },
    discardTooltip: "Discard unsaved changes",
    noSavedFilters: "You have no saved filters",
  },
}`,computed:!1},required:!1}}};const pA={title:"Feature/Query Builder",component:on,tags:["autodocs"],args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:Lv,dictionary:$o},decorators:[t=>l.jsx(sy,{children:l.jsx(t,{})})]},Ao="query-builder-id",Fw="query-builder-custom-pill-id",Io="query-builder-query-pill-filter-id",jf=t=>t[Math.floor(Math.random()*t.length)],qn=(t=1,e=100)=>Math.floor(Math.random()*(e-t+1))+t,Uv=()=>Math.random().toString(36).substring(7),Qw=[ke[">"],ke["<"],ke.between,ke[">="],ke["<="]],Sr=t=>({id:be(),title:(t==null?void 0:t.title)||`Custom Pill ${qn(1,50)}`,queries:[Ve()],keycloak_id:be(),creation_date:new Date().toISOString(),updated_date:new Date().toISOString(),tag:"tag",favorite:!1}),Mw=t=>Qw.includes(t)?Array.from({length:2},()=>qn()):Array.from({length:qn(2,5)},()=>Uv()),Ve=(t=be())=>{const e=qn(1,3),r=Array.from({length:e},()=>{const n=jf(Object.values(ke));return{op:n,content:{field:`field_${Uv()}`,value:Mw(n)}}});return{id:t,op:jf(["and","or"]),content:r}};function $v({queryBuilderId:t}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{children:"Testing Tools:"}),l.jsxs("div",{className:"flex border p-4 gap-2",children:[l.jsx(Ie,{variant:"primary",size:"sm",onClick:()=>Qt.addQuery(t,Ve()),children:"Add query"}),l.jsx(Ie,{variant:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),l.jsx(Ie,{variant:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const fn={args:{id:Ao,initialState:{...Qt.getLocalQueryBuilderState(Ao),savedFilters:[{id:be(),title:"Olivier's Filter",favorite:!1,queries:[Ve(),Ve(),Ve()]},{id:be(),title:"Francis' Filter",favorite:!1,queries:[Ve(),Ve()]},{id:be(),title:"Luc's Filter",favorite:!1,queries:[Ve(),Ve(),Ve()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:re(),onActiveQueryChange:re(),onQueryCreate:re(),onQueryDelete:re(),onQuerySelectChange:re(),onQueryUpdate:re(),onCustomPillSave:re(),onCustomPillUpdate:re(),onSavedFilterCreate:re(),onSavedFilterDelete:re(),onSavedFilterSave:re(),onSavedFilterUpdate:re()},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(on,{...t}),l.jsx($v,{queryBuilderId:Ao})]})},kf=be(),hn={args:{id:Fw,initialState:{activeQueryId:kf,queries:[Ve(kf),Ve()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:re(),onActiveQueryChange:re(),onQueryCreate:re(),onQueryDelete:re(),onQuerySelectChange:re(),onQueryUpdate:re(),onCustomPillSave:t=>(er("onCustomPillSave")(t),new Promise(e=>setTimeout(()=>e(Sr(t)),750))),onCustomPillUpdate:t=>(er("onCustomPillUpdate")(t),new Promise(e=>setTimeout(()=>e(Sr(t)),750))),onSavedFilterCreate:re(),onSavedFilterDelete:re(),onSavedFilterSave:re(),onSavedFilterUpdate:re(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(Sr()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([Sr(),Sr()]),750))}},render:t=>l.jsx(on,{...t})},pn={args:{id:Io,initialState:{...Qt.getLocalQueryBuilderState(Io),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:re(),onActiveQueryChange:re(),onQueryCreate:re(),onQueryDelete:re(),onQuerySelectChange:re(),onQueryUpdate:re(),onSavedFilterCreate:re(),onSavedFilterDelete:re(),onSavedFilterSave:re(),onSavedFilterUpdate:re(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(er("onFacetClick")(t),l.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(on,{...t}),l.jsx($v,{queryBuilderId:Io})]})};var qf,Rf,Of;fn.parameters={...fn.parameters,docs:{...(qf=fn.parameters)==null?void 0:qf.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(Of=(Rf=fn.parameters)==null?void 0:Rf.docs)==null?void 0:Of.source}}};var Nf,Ef,Df;hn.parameters={...hn.parameters,docs:{...(Nf=hn.parameters)==null?void 0:Nf.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action("onCustomPillSave")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action("onCustomPillUpdate")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: "qb-custom-pill-edit-id",
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(Df=(Ef=hn.parameters)==null?void 0:Ef.docs)==null?void 0:Df.source}}};var Ff,Qf,Mf;pn.parameters={...pn.parameters,docs:{...(Ff=pn.parameters)==null?void 0:Ff.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action("onFacetClick")(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Mf=(Qf=pn.parameters)==null?void 0:Qf.docs)==null?void 0:Mf.source}}};const mA=["Default","CustomPill","QueryPillFilter"];export{hn as CustomPill,fn as Default,pn as QueryPillFilter,mA as __namedExportsOrder,pA as default};
