var Rv=Object.defineProperty;var Ov=(t,e,r)=>e in t?Rv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var vr=(t,e,r)=>Ov(t,typeof e!="symbol"?e+"":e,r);import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{f as te}from"./index-DhvbgntC.js";import{a as Ao}from"./index-B-lxVbXh.js";import{c as an,g as Zt,r as p,R as G}from"./index-DUAV1Q2A.js";import{c as Pn,u as tr,P as xe,b as fe,d as Ee,e as vt,S as Uo,g as Ev}from"./index-aKoabQ1X.js";import{f as Df,u as Ff,d as jn,R as Qf,A as $o,C as Mf,e as Vf,g as Nv}from"./dropdown-menu-BQyRnyXE.js";import{P as Zo}from"./index-5epIGEb9.js";import{u as or,P as Lf,h as Bf,R as Uf,a as $f,F as Zf,D as Wf}from"./Combination-BCojpehm.js";import{c as ue}from"./utils-BNf5BS2b.js";import{C as Wo,S as Dv}from"./separator-BJe2BF5g.js";import{A as Fv}from"./ActionButton-DnbvyTru.js";import{I as Ne,S as Qv}from"./IconButton-BLHdRjzm.js";import"./button.variants-8qSqwKCP.js";import{c as at}from"./createLucideIcon-DirO1-NP.js";import{B as Te}from"./button-C8wDvtMm.js";import{T as Hf,C as Mv,S as Vv,a as Lv,L as Bv}from"./list-item-with-action-CaJFHWA1.js";import{b as st,c as ot,T as lt,V as Uv,a as zf}from"./tooltip-DW4kxM8r.js";import{D as qn,a as kn,b as Rn,c as On,d as En,e as Nn,X as $v}from"./dialog-3ysF2mkX.js";import{c as Gf}from"./index-C66Dxnp2.js";import{I as Ho}from"./input-BvXtte4q.js";import{C as Zv}from"./checkbox-BD_aHgh9.js";import{a as Wv,E as zo,c as Hv,L as zv,b as Gv,G as Kv}from"./less-than-or-equal-operator-icon-Bw5nz3Pd.js";import{a as lr,A as Yv}from"./alert-dialog-provider-D91W8Qcu.js";import{S as Jv}from"./switch-C_CxMkoC.js";import{r as Kf}from"./index-VDvXe9nZ.js";import{u as Xv}from"./index-DeoL25kd.js";import{C as ey}from"./check-D0WsHlur.js";import"./v4-CtRu48qb.js";import"./index-BXOWtdLR.js";import"./index-BiAv9jRD.js";import"./index-CqVsPxxY.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=at("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=at("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=at("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=at("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=at("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=at("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),he={In:"in",And:"and",Or:"or",Not:"not",Between:"between",GreaterThan:">",LessThan:"<",GreaterThanOrEqualTo:">=",LessThanOrEqualTo:"<=",NotIn:"not-in",All:"all"},Wl={GreaterThan:he.GreaterThan,LessThan:he.LessThan,Between:he.Between,GreaterThanOrEqualTo:he.GreaterThanOrEqualTo,LessThanOrEqualTo:he.LessThanOrEqualTo,In:he.In},fn={In:he.In,All:he.All},Le={And:he.And,Or:he.Or,Not:he.Not},oy="set_id:";var rr=(t=>(t.DEFAULT="OVERRIDE_VALUES",t.OVERRIDE_VALUES="OVERRIDE_VALUES",t.APPEND_VALUES="APPEND_VALUES",t))(rr||{}),Dn=(t=>(t.DEFAULT="OVERRIDE_OPERATOR",t.OVERRIDE_OPERATOR="OVERRIDE_OPERATOR",t.KEEP_OPERATOR="KEEP_OPERATOR",t))(Dn||{});const Ae=[];for(let t=0;t<256;++t)Ae.push((t+256).toString(16).slice(1));function ly(t,e=0){return(Ae[t[e+0]]+Ae[t[e+1]]+Ae[t[e+2]]+Ae[t[e+3]]+"-"+Ae[t[e+4]]+Ae[t[e+5]]+"-"+Ae[t[e+6]]+Ae[t[e+7]]+"-"+Ae[t[e+8]]+Ae[t[e+9]]+"-"+Ae[t[e+10]]+Ae[t[e+11]]+Ae[t[e+12]]+Ae[t[e+13]]+Ae[t[e+14]]+Ae[t[e+15]]).toLowerCase()}let oi;const uy=new Uint8Array(16);function cy(){if(!oi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oi=crypto.getRandomValues.bind(crypto)}return oi(uy)}const dy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hl={randomUUID:dy};function be(t,e,r){var i;if(Hl.randomUUID&&!t)return Hl.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??cy();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ly(n)}var li,zl;function Fn(){if(zl)return li;zl=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return li=e,li}var ui,Gl;function eh(){if(Gl)return ui;Gl=1;function t(e,r){return function(n){return e(r(n))}}return ui=t,ui}var ci,Kl;function fy(){if(Kl)return ci;Kl=1;var t=eh(),e=t(Object.keys,Object);return ci=e,ci}var di,Yl;function th(){if(Yl)return di;Yl=1;var t=Fn(),e=fy(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return di=i,di}var fi,Jl;function rh(){if(Jl)return fi;Jl=1;var t=typeof an=="object"&&an&&an.Object===Object&&an;return fi=t,fi}var hi,Xl;function ut(){if(Xl)return hi;Xl=1;var t=rh(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return hi=r,hi}var pi,eu;function ur(){if(eu)return pi;eu=1;var t=ut(),e=t.Symbol;return pi=e,pi}var mi,tu;function hy(){if(tu)return mi;tu=1;var t=ur(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),u=s[i];try{s[i]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(o?s[i]=u:delete s[i]),d}return mi=a,mi}var vi,ru;function py(){if(ru)return vi;ru=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return vi=r,vi}var yi,nu;function cr(){if(nu)return yi;nu=1;var t=ur(),e=hy(),r=py(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return yi=s,yi}var gi,iu;function _t(){if(iu)return gi;iu=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return gi=t,gi}var _i,au;function Ko(){if(au)return _i;au=1;var t=cr(),e=_t(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==i||u==r||u==a}return _i=s,_i}var bi,su;function my(){if(su)return bi;su=1;var t=ut(),e=t["__core-js_shared__"];return bi=e,bi}var xi,ou;function vy(){if(ou)return xi;ou=1;var t=my(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return xi=r,xi}var Ci,lu;function nh(){if(lu)return Ci;lu=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ci=r,Ci}var Si,uu;function yy(){if(uu)return Si;uu=1;var t=Ko(),e=vy(),r=_t(),n=nh(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,c=o.hasOwnProperty,d=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var b=t(m)?d:a;return b.test(n(m))}return Si=h,Si}var wi,cu;function gy(){if(cu)return wi;cu=1;function t(e,r){return e==null?void 0:e[r]}return wi=t,wi}var Ai,du;function Wt(){if(du)return Ai;du=1;var t=yy(),e=gy();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Ai=r,Ai}var Ii,fu;function _y(){if(fu)return Ii;fu=1;var t=Wt(),e=ut(),r=t(e,"DataView");return Ii=r,Ii}var Ti,hu;function Yo(){if(hu)return Ti;hu=1;var t=Wt(),e=ut(),r=t(e,"Map");return Ti=r,Ti}var Pi,pu;function by(){if(pu)return Pi;pu=1;var t=Wt(),e=ut(),r=t(e,"Promise");return Pi=r,Pi}var ji,mu;function ih(){if(mu)return ji;mu=1;var t=Wt(),e=ut(),r=t(e,"Set");return ji=r,ji}var qi,vu;function xy(){if(vu)return qi;vu=1;var t=Wt(),e=ut(),r=t(e,"WeakMap");return qi=r,qi}var ki,yu;function Br(){if(yu)return ki;yu=1;var t=_y(),e=Yo(),r=by(),n=ih(),i=xy(),a=cr(),s=nh(),o="[object Map]",u="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",b=s(t),w=s(e),g=s(r),x=s(n),I=s(i),v=a;return(t&&v(new t(new ArrayBuffer(1)))!=m||e&&v(new e)!=o||r&&v(r.resolve())!=c||n&&v(new n)!=d||i&&v(new i)!=h)&&(v=function(C){var k=a(C),E=k==u?C.constructor:void 0,D=E?s(E):"";if(D)switch(D){case b:return m;case w:return o;case g:return c;case x:return d;case I:return h}return k}),ki=v,ki}var Ri,gu;function bt(){if(gu)return Ri;gu=1;function t(e){return e!=null&&typeof e=="object"}return Ri=t,Ri}var Oi,_u;function Cy(){if(_u)return Oi;_u=1;var t=cr(),e=bt(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Oi=n,Oi}var Ei,bu;function Qn(){if(bu)return Ei;bu=1;var t=Cy(),e=bt(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Ei=a,Ei}var Ni,xu;function Rt(){if(xu)return Ni;xu=1;var t=Array.isArray;return Ni=t,Ni}var Di,Cu;function ah(){if(Cu)return Di;Cu=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Di=e,Di}var Fi,Su;function Ur(){if(Su)return Fi;Su=1;var t=Ko(),e=ah();function r(n){return n!=null&&e(n.length)&&!t(n)}return Fi=r,Fi}var br={exports:{}},Qi,wu;function Sy(){if(wu)return Qi;wu=1;function t(){return!1}return Qi=t,Qi}br.exports;var Au;function $r(){return Au||(Au=1,function(t,e){var r=ut(),n=Sy(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||n;t.exports=c}(br,br.exports)),br.exports}var Mi,Iu;function wy(){if(Iu)return Mi;Iu=1;var t=cr(),e=ah(),r=bt(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",b="[object Set]",w="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",I="[object DataView]",v="[object Float32Array]",C="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",Q={};Q[v]=Q[C]=Q[k]=Q[E]=Q[D]=Q[R]=Q[V]=Q[U]=Q[B]=!0,Q[n]=Q[i]=Q[x]=Q[a]=Q[I]=Q[s]=Q[o]=Q[u]=Q[c]=Q[d]=Q[h]=Q[m]=Q[b]=Q[w]=Q[g]=!1;function N(M){return r(M)&&e(M.length)&&!!Q[t(M)]}return Mi=N,Mi}var Vi,Tu;function Jo(){if(Tu)return Vi;Tu=1;function t(e){return function(r){return e(r)}}return Vi=t,Vi}var xr={exports:{}};xr.exports;var Pu;function Xo(){return Pu||(Pu=1,function(t,e){var r=rh(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(xr,xr.exports)),xr.exports}var Li,ju;function Mn(){if(ju)return Li;ju=1;var t=wy(),e=Jo(),r=Xo(),n=r&&r.isTypedArray,i=n?e(n):t;return Li=i,Li}var Bi,qu;function Ay(){if(qu)return Bi;qu=1;var t=th(),e=Br(),r=Qn(),n=Rt(),i=Ur(),a=$r(),s=Fn(),o=Mn(),u="[object Map]",c="[object Set]",d=Object.prototype,h=d.hasOwnProperty;function m(b){if(b==null)return!0;if(i(b)&&(n(b)||typeof b=="string"||typeof b.splice=="function"||a(b)||o(b)||r(b)))return!b.length;var w=e(b);if(w==u||w==c)return!b.size;if(s(b))return!t(b).length;for(var g in b)if(h.call(b,g))return!1;return!0}return Bi=m,Bi}var Iy=Ay();const At=Zt(Iy);var Ui,ku;function Ty(){if(ku)return Ui;ku=1;function t(){this.__data__=[],this.size=0}return Ui=t,Ui}var $i,Ru;function Zr(){if(Ru)return $i;Ru=1;function t(e,r){return e===r||e!==e&&r!==r}return $i=t,$i}var Zi,Ou;function Vn(){if(Ou)return Zi;Ou=1;var t=Zr();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Zi=e,Zi}var Wi,Eu;function Py(){if(Eu)return Wi;Eu=1;var t=Vn(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Wi=n,Wi}var Hi,Nu;function jy(){if(Nu)return Hi;Nu=1;var t=Vn();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Hi=e,Hi}var zi,Du;function qy(){if(Du)return zi;Du=1;var t=Vn();function e(r){return t(this.__data__,r)>-1}return zi=e,zi}var Gi,Fu;function ky(){if(Fu)return Gi;Fu=1;var t=Vn();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Gi=e,Gi}var Ki,Qu;function Ln(){if(Qu)return Ki;Qu=1;var t=Ty(),e=Py(),r=jy(),n=qy(),i=ky();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ki=a,Ki}var Yi,Mu;function Ry(){if(Mu)return Yi;Mu=1;var t=Ln();function e(){this.__data__=new t,this.size=0}return Yi=e,Yi}var Ji,Vu;function Oy(){if(Vu)return Ji;Vu=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ji=t,Ji}var Xi,Lu;function Ey(){if(Lu)return Xi;Lu=1;function t(e){return this.__data__.get(e)}return Xi=t,Xi}var ea,Bu;function Ny(){if(Bu)return ea;Bu=1;function t(e){return this.__data__.has(e)}return ea=t,ea}var ta,Uu;function Bn(){if(Uu)return ta;Uu=1;var t=Wt(),e=t(Object,"create");return ta=e,ta}var ra,$u;function Dy(){if($u)return ra;$u=1;var t=Bn();function e(){this.__data__=t?t(null):{},this.size=0}return ra=e,ra}var na,Zu;function Fy(){if(Zu)return na;Zu=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return na=t,na}var ia,Wu;function Qy(){if(Wu)return ia;Wu=1;var t=Bn(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return ia=i,ia}var aa,Hu;function My(){if(Hu)return aa;Hu=1;var t=Bn(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return aa=n,aa}var sa,zu;function Vy(){if(zu)return sa;zu=1;var t=Bn(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return sa=r,sa}var oa,Gu;function Ly(){if(Gu)return oa;Gu=1;var t=Dy(),e=Fy(),r=Qy(),n=My(),i=Vy();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,oa=a,oa}var la,Ku;function By(){if(Ku)return la;Ku=1;var t=Ly(),e=Ln(),r=Yo();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return la=n,la}var ua,Yu;function Uy(){if(Yu)return ua;Yu=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ua=t,ua}var ca,Ju;function Un(){if(Ju)return ca;Ju=1;var t=Uy();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ca=e,ca}var da,Xu;function $y(){if(Xu)return da;Xu=1;var t=Un();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return da=e,da}var fa,ec;function Zy(){if(ec)return fa;ec=1;var t=Un();function e(r){return t(this,r).get(r)}return fa=e,fa}var ha,tc;function Wy(){if(tc)return ha;tc=1;var t=Un();function e(r){return t(this,r).has(r)}return ha=e,ha}var pa,rc;function Hy(){if(rc)return pa;rc=1;var t=Un();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return pa=e,pa}var ma,nc;function sh(){if(nc)return ma;nc=1;var t=By(),e=$y(),r=Zy(),n=Wy(),i=Hy();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ma=a,ma}var va,ic;function zy(){if(ic)return va;ic=1;var t=Ln(),e=Yo(),r=sh(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<n-1)return u.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(a,s),this.size=o.size,this}return va=i,va}var ya,ac;function el(){if(ac)return ya;ac=1;var t=Ln(),e=Ry(),r=Oy(),n=Ey(),i=Ny(),a=zy();function s(o){var u=this.__data__=new t(o);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,ya=s,ya}var ga,sc;function Gy(){if(sc)return ga;sc=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return ga=t,ga}var _a,oc;function oh(){if(oc)return _a;oc=1;var t=Wt(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return _a=e,_a}var ba,lc;function tl(){if(lc)return ba;lc=1;var t=oh();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return ba=e,ba}var xa,uc;function lh(){if(uc)return xa;uc=1;var t=tl(),e=Zr(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var u=a[s];(!(n.call(a,s)&&e(u,o))||o===void 0&&!(s in a))&&t(a,s,o)}return xa=i,xa}var Ca,cc;function Wr(){if(cc)return Ca;cc=1;var t=lh(),e=tl();function r(n,i,a,s){var o=!a;a||(a={});for(var u=-1,c=i.length;++u<c;){var d=i[u],h=s?s(a[d],n[d],d,a,n):void 0;h===void 0&&(h=n[d]),o?e(a,d,h):t(a,d,h)}return a}return Ca=r,Ca}var Sa,dc;function Ky(){if(dc)return Sa;dc=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Sa=t,Sa}var wa,fc;function uh(){if(fc)return wa;fc=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return wa=r,wa}var Aa,hc;function ch(){if(hc)return Aa;hc=1;var t=Ky(),e=Qn(),r=Rt(),n=$r(),i=uh(),a=Mn(),s=Object.prototype,o=s.hasOwnProperty;function u(c,d){var h=r(c),m=!h&&e(c),b=!h&&!m&&n(c),w=!h&&!m&&!b&&a(c),g=h||m||b||w,x=g?t(c.length,String):[],I=x.length;for(var v in c)(d||o.call(c,v))&&!(g&&(v=="length"||b&&(v=="offset"||v=="parent")||w&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,I)))&&x.push(v);return x}return Aa=u,Aa}var Ia,pc;function rl(){if(pc)return Ia;pc=1;var t=ch(),e=th(),r=Ur();function n(i){return r(i)?t(i):e(i)}return Ia=n,Ia}var Ta,mc;function Yy(){if(mc)return Ta;mc=1;var t=Wr(),e=rl();function r(n,i){return n&&t(i,e(i),n)}return Ta=r,Ta}var Pa,vc;function Jy(){if(vc)return Pa;vc=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return Pa=t,Pa}var ja,yc;function Xy(){if(yc)return ja;yc=1;var t=_t(),e=Fn(),r=Jy(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!t(s))return r(s);var o=e(s),u=[];for(var c in s)c=="constructor"&&(o||!i.call(s,c))||u.push(c);return u}return ja=a,ja}var qa,gc;function Hr(){if(gc)return qa;gc=1;var t=ch(),e=Xy(),r=Ur();function n(i){return r(i)?t(i,!0):e(i)}return qa=n,qa}var ka,_c;function eg(){if(_c)return ka;_c=1;var t=Wr(),e=Hr();function r(n,i){return n&&t(i,e(i),n)}return ka=r,ka}var Cr={exports:{}};Cr.exports;var bc;function dh(){return bc||(bc=1,function(t,e){var r=ut(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(c,d){if(d)return c.slice();var h=c.length,m=o?o(h):new c.constructor(h);return c.copy(m),m}t.exports=u}(Cr,Cr.exports)),Cr.exports}var Ra,xc;function fh(){if(xc)return Ra;xc=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Ra=t,Ra}var Oa,Cc;function tg(){if(Cc)return Oa;Cc=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return Oa=t,Oa}var Ea,Sc;function hh(){if(Sc)return Ea;Sc=1;function t(){return[]}return Ea=t,Ea}var Na,wc;function nl(){if(wc)return Na;wc=1;var t=tg(),e=hh(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return Na=a,Na}var Da,Ac;function rg(){if(Ac)return Da;Ac=1;var t=Wr(),e=nl();function r(n,i){return t(n,e(n),i)}return Da=r,Da}var Fa,Ic;function il(){if(Ic)return Fa;Ic=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Fa=t,Fa}var Qa,Tc;function al(){if(Tc)return Qa;Tc=1;var t=eh(),e=t(Object.getPrototypeOf,Object);return Qa=e,Qa}var Ma,Pc;function ph(){if(Pc)return Ma;Pc=1;var t=il(),e=al(),r=nl(),n=hh(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return Ma=a,Ma}var Va,jc;function ng(){if(jc)return Va;jc=1;var t=Wr(),e=ph();function r(n,i){return t(n,e(n),i)}return Va=r,Va}var La,qc;function mh(){if(qc)return La;qc=1;var t=il(),e=Rt();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return La=r,La}var Ba,kc;function vh(){if(kc)return Ba;kc=1;var t=mh(),e=nl(),r=rl();function n(i){return t(i,r,e)}return Ba=n,Ba}var Ua,Rc;function ig(){if(Rc)return Ua;Rc=1;var t=mh(),e=ph(),r=Hr();function n(i){return t(i,r,e)}return Ua=n,Ua}var $a,Oc;function ag(){if(Oc)return $a;Oc=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return $a=r,$a}var Za,Ec;function yh(){if(Ec)return Za;Ec=1;var t=ut(),e=t.Uint8Array;return Za=e,Za}var Wa,Nc;function sl(){if(Nc)return Wa;Nc=1;var t=yh();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Wa=e,Wa}var Ha,Dc;function sg(){if(Dc)return Ha;Dc=1;var t=sl();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Ha=e,Ha}var za,Fc;function og(){if(Fc)return za;Fc=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return za=e,za}var Ga,Qc;function lg(){if(Qc)return Ga;Qc=1;var t=ur(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return Ga=n,Ga}var Ka,Mc;function gh(){if(Mc)return Ka;Mc=1;var t=sl();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Ka=e,Ka}var Ya,Vc;function ug(){if(Vc)return Ya;Vc=1;var t=sl(),e=sg(),r=og(),n=lg(),i=gh(),a="[object Boolean]",s="[object Date]",o="[object Map]",u="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",I="[object Int8Array]",v="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function V(U,B,Q){var N=U.constructor;switch(B){case b:return t(U);case a:case s:return new N(+U);case w:return e(U,Q);case g:case x:case I:case v:case C:case k:case E:case D:case R:return i(U,Q);case o:return new N;case u:case h:return new N(U);case c:return r(U);case d:return new N;case m:return n(U)}}return Ya=V,Ya}var Ja,Lc;function cg(){if(Lc)return Ja;Lc=1;var t=_t(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return Ja=r,Ja}var Xa,Bc;function _h(){if(Bc)return Xa;Bc=1;var t=cg(),e=al(),r=Fn();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return Xa=n,Xa}var es,Uc;function dg(){if(Uc)return es;Uc=1;var t=Br(),e=bt(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return es=n,es}var ts,$c;function fg(){if($c)return ts;$c=1;var t=dg(),e=Jo(),r=Xo(),n=r&&r.isMap,i=n?e(n):t;return ts=i,ts}var rs,Zc;function hg(){if(Zc)return rs;Zc=1;var t=Br(),e=bt(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return rs=n,rs}var ns,Wc;function pg(){if(Wc)return ns;Wc=1;var t=hg(),e=Jo(),r=Xo(),n=r&&r.isSet,i=n?e(n):t;return ns=i,ns}var is,Hc;function mg(){if(Hc)return is;Hc=1;var t=el(),e=Gy(),r=lh(),n=Yy(),i=eg(),a=dh(),s=fh(),o=rg(),u=ng(),c=vh(),d=ig(),h=Br(),m=ag(),b=ug(),w=_h(),g=Rt(),x=$r(),I=fg(),v=_t(),C=pg(),k=rl(),E=Hr(),D=1,R=2,V=4,U="[object Arguments]",B="[object Array]",Q="[object Boolean]",N="[object Date]",M="[object Error]",Y="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",ce="[object Number]",Se="[object Object]",Ie="[object RegExp]",Ue="[object Set]",ct="[object String]",Ct="[object Symbol]",Dt="[object WeakMap]",$e="[object ArrayBuffer]",St="[object DataView]",Ze="[object Float32Array]",W="[object Float64Array]",oe="[object Int8Array]",we="[object Int16Array]",le="[object Int32Array]",ie="[object Uint8Array]",se="[object Uint8ClampedArray]",Fe="[object Uint16Array]",Qe="[object Uint32Array]",re={};re[U]=re[B]=re[$e]=re[St]=re[Q]=re[N]=re[Ze]=re[W]=re[oe]=re[we]=re[le]=re[ne]=re[ce]=re[Se]=re[Ie]=re[Ue]=re[ct]=re[Ct]=re[ie]=re[se]=re[Fe]=re[Qe]=!0,re[M]=re[Y]=re[Dt]=!1;function dt(J,f,y,_,j,T){var S,L=f&D,H=f&R,_e=f&V;if(y&&(S=j?y(J,_,j,T):y(J)),S!==void 0)return S;if(!v(J))return J;var ve=g(J);if(ve){if(S=m(J),!L)return s(J,S)}else{var je=h(J),rn=je==Y||je==ee;if(x(J))return a(J,L);if(je==Se||je==U||rn&&!j){if(S=H||rn?{}:w(J),!L)return H?u(J,i(S,J)):o(J,n(S,J))}else{if(!re[je])return j?J:{};S=b(J,je,L)}}T||(T=new t);var Gt=T.get(J);if(Gt)return Gt;T.set(J,S),C(J)?J.forEach(function(We){S.add(dt(We,f,y,We,J,T))}):I(J)&&J.forEach(function(We,ft){S.set(ft,dt(We,f,y,ft,J,T))});var mr=_e?H?d:c:H?E:k,nn=ve?void 0:mr(J);return e(nn||J,function(We,ft){nn&&(ft=We,We=J[ft]),r(S,ft,dt(We,f,y,ft,J,T))}),S}return is=dt,is}var as,zc;function vg(){if(zc)return as;zc=1;var t=mg(),e=1,r=4;function n(i){return t(i,e|r)}return as=n,as}var yg=vg();const yt=Zt(yg);var ss,Gc;function bh(){if(Gc)return ss;Gc=1;var t=tl(),e=Zr();function r(n,i,a){(a!==void 0&&!e(n[i],a)||a===void 0&&!(i in n))&&t(n,i,a)}return ss=r,ss}var os,Kc;function gg(){if(Kc)return os;Kc=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),u=o.length;u--;){var c=o[e?u:++a];if(n(s[c],c,s)===!1)break}return r}}return os=t,os}var ls,Yc;function _g(){if(Yc)return ls;Yc=1;var t=gg(),e=t();return ls=e,ls}var us,Jc;function xh(){if(Jc)return us;Jc=1;var t=Ur(),e=bt();function r(n){return e(n)&&t(n)}return us=r,us}var cs,Xc;function bg(){if(Xc)return cs;Xc=1;var t=cr(),e=al(),r=bt(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,u=s.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var h=e(d);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==u}return cs=c,cs}var ds,ed;function Ch(){if(ed)return ds;ed=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return ds=t,ds}var fs,td;function xg(){if(td)return fs;td=1;var t=Wr(),e=Hr();function r(n){return t(n,e(n))}return fs=r,fs}var hs,rd;function Cg(){if(rd)return hs;rd=1;var t=bh(),e=dh(),r=gh(),n=fh(),i=_h(),a=Qn(),s=Rt(),o=xh(),u=$r(),c=Ko(),d=_t(),h=bg(),m=Mn(),b=Ch(),w=xg();function g(x,I,v,C,k,E,D){var R=b(x,v),V=b(I,v),U=D.get(V);if(U){t(x,v,U);return}var B=E?E(R,V,v+"",x,I,D):void 0,Q=B===void 0;if(Q){var N=s(V),M=!N&&u(V),Y=!N&&!M&&m(V);B=V,N||M||Y?s(R)?B=R:o(R)?B=n(R):M?(Q=!1,B=e(V,!0)):Y?(Q=!1,B=r(V,!0)):B=[]:h(V)||a(V)?(B=R,a(R)?B=w(R):(!d(R)||c(R))&&(B=i(V))):Q=!1}Q&&(D.set(V,B),k(B,V,C,E,D),D.delete(V)),t(x,v,B)}return hs=g,hs}var ps,nd;function Sg(){if(nd)return ps;nd=1;var t=el(),e=bh(),r=_g(),n=Cg(),i=_t(),a=Hr(),s=Ch();function o(u,c,d,h,m){u!==c&&r(c,function(b,w){if(m||(m=new t),i(b))n(u,c,w,d,o,h,m);else{var g=h?h(s(u,w),b,w+"",u,c,m):void 0;g===void 0&&(g=b),e(u,w,g)}},a)}return ps=o,ps}var ms,id;function Sh(){if(id)return ms;id=1;function t(e){return e}return ms=t,ms}var vs,ad;function wg(){if(ad)return vs;ad=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return vs=t,vs}var ys,sd;function Ag(){if(sd)return ys;sd=1;var t=wg(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,u=e(s.length-i,0),c=Array(u);++o<u;)c[o]=s[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=s[o];return d[i]=a(c),t(n,this,d)}}return ys=r,ys}var gs,od;function Ig(){if(od)return gs;od=1;function t(e){return function(){return e}}return gs=t,gs}var _s,ld;function Tg(){if(ld)return _s;ld=1;var t=Ig(),e=oh(),r=Sh(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return _s=n,_s}var bs,ud;function Pg(){if(ud)return bs;ud=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),u=e-(o-s);if(s=o,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return bs=n,bs}var xs,cd;function jg(){if(cd)return xs;cd=1;var t=Tg(),e=Pg(),r=e(t);return xs=r,xs}var Cs,dd;function wh(){if(dd)return Cs;dd=1;var t=Sh(),e=Ag(),r=jg();function n(i,a){return r(e(i,a,t),i+"")}return Cs=n,Cs}var Ss,fd;function qg(){if(fd)return Ss;fd=1;var t=Zr(),e=Ur(),r=uh(),n=_t();function i(a,s,o){if(!n(o))return!1;var u=typeof s;return(u=="number"?e(o)&&r(s,o.length):u=="string"&&s in o)?t(o[s],a):!1}return Ss=i,Ss}var ws,hd;function kg(){if(hd)return ws;hd=1;var t=wh(),e=qg();function r(n){return t(function(i,a){var s=-1,o=a.length,u=o>1?a[o-1]:void 0,c=o>2?a[2]:void 0;for(u=n.length>3&&typeof u=="function"?(o--,u):void 0,c&&e(a[0],a[1],c)&&(u=o<3?void 0:u,o=1),i=Object(i);++s<o;){var d=a[s];d&&n(i,d,s,u)}return i})}return ws=r,ws}var As,pd;function Rg(){if(pd)return As;pd=1;var t=Sg(),e=kg(),r=e(function(n,i,a){t(n,i,a)});return As=r,As}var Og=Rg();const Eg=Zt(Og);var Is,md;function Ng(){if(md)return Is;md=1;var t=ur(),e=Qn(),r=Rt(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Is=i,Is}var Ts,vd;function Dg(){if(vd)return Ts;vd=1;var t=il(),e=Ng();function r(n,i,a,s,o){var u=-1,c=n.length;for(a||(a=e),o||(o=[]);++u<c;){var d=n[u];i>0&&a(d)?i>1?r(d,i-1,a,s,o):t(o,d):s||(o[o.length]=d)}return o}return Ts=r,Ts}var Ps,yd;function Fg(){if(yd)return Ps;yd=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Ps=e,Ps}var js,gd;function Qg(){if(gd)return js;gd=1;function t(e){return this.__data__.has(e)}return js=t,js}var qs,_d;function Ah(){if(_d)return qs;_d=1;var t=sh(),e=Fg(),r=Qg();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,qs=n,qs}var ks,bd;function Mg(){if(bd)return ks;bd=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return ks=t,ks}var Rs,xd;function Vg(){if(xd)return Rs;xd=1;function t(e){return e!==e}return Rs=t,Rs}var Os,Cd;function Lg(){if(Cd)return Os;Cd=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Os=t,Os}var Es,Sd;function Bg(){if(Sd)return Es;Sd=1;var t=Mg(),e=Vg(),r=Lg();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Es=n,Es}var Ns,wd;function Ug(){if(wd)return Ns;wd=1;var t=Bg();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Ns=e,Ns}var Ds,Ad;function $g(){if(Ad)return Ds;Ad=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Ds=t,Ds}var Fs,Id;function Ih(){if(Id)return Fs;Id=1;function t(e,r){return e.has(r)}return Fs=t,Fs}var Qs,Td;function Zg(){if(Td)return Qs;Td=1;function t(){}return Qs=t,Qs}var Ms,Pd;function ol(){if(Pd)return Ms;Pd=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Ms=t,Ms}var Vs,jd;function Wg(){if(jd)return Vs;jd=1;var t=ih(),e=Zg(),r=ol(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Vs=i,Vs}var Ls,qd;function Hg(){if(qd)return Ls;qd=1;var t=Ah(),e=Ug(),r=$g(),n=Ih(),i=Wg(),a=ol(),s=200;function o(u,c,d){var h=-1,m=e,b=u.length,w=!0,g=[],x=g;if(d)w=!1,m=r;else if(b>=s){var I=c?null:i(u);if(I)return a(I);w=!1,m=n,x=new t}else x=c?[]:g;e:for(;++h<b;){var v=u[h],C=c?c(v):v;if(v=d||v!==0?v:0,w&&C===C){for(var k=x.length;k--;)if(x[k]===C)continue e;c&&x.push(C),g.push(v)}else m(x,C,d)||(x!==g&&x.push(C),g.push(v))}return g}return Ls=o,Ls}var Bs,kd;function zg(){if(kd)return Bs;kd=1;var t=Dg(),e=wh(),r=Hg(),n=xh(),i=e(function(a){return r(t(a,1,n,!0))});return Bs=i,Bs}var Gg=zg();const Kg=Zt(Gg),It=t=>!Object.keys(t).length||At(t==null?void 0:t.content),Th=t=>!It(t),dr=t=>!Yg(t),Yg=t=>isNaN(t),Jg=t=>t.content.value&&t.content.value.some(e=>e==null?void 0:e.toString().startsWith(oy)),Xg=t=>!!t.content.isUploadedList,e_=t=>!!t.content.remoteComponent,Ht=t=>typeof t=="object"&&Th(t)&&"op"in t&&Object.values(Le).includes(t.op),t_=t=>t.content.value.every(e=>["false","true"].includes(e.toString().toLowerCase())),r_=t=>t.op===Wl.In?!1:t.op in Wl,n_=t=>!!t.title,Vt=(t=be())=>({id:t,content:[],op:Le.And}),i_=(t,e=[])=>{const r=yt(t),n=[];return r.map(i=>{n.push(a_(i,e))}),n},a_=(t,e)=>({content:t.content.filter(n=>{let i=!1;if(!Array.isArray(n.content))n.content&&e!=null&&e.includes(n.content.field)||(i=!0);else if(n.content.length!==0&&(e!=null&&e.includes(n.content.field)||(i=!0),Array.isArray(n.content))){const{field:a}=n.content[0].content;e!=null&&e.includes(a)&&(i=!1)}return i}),id:t.id,op:t.op}),Pr=t=>{let e=t;const r=t.filter(i=>It(i)),n=t.filter(i=>Th(i));if(r.length){const i=r[0];e=[...n,i]}return yt(e)},Ph=(t,e)=>{const r=(a,s)=>s.filter(o=>o!==a).map(o=>dr(o)&&typeof o=="number"&&o>a?o-1:o),n=e.filter((a,s)=>s!==t).map(a=>It(a)?a:{...a,content:r(t,a.content)}),i=n.filter(a=>At(a.content));return i.length?Ph(n.findIndex(a=>a.id==i[0].id),n):n},Rd=(t,e)=>{var i,a,s,o;const r=e.getRawQueries(),n=e.getState().activeQueryId;if(r.length===1)e.resetQueries(t);else{const u=e.getQueryIndex(t),c=Pr(Ph(u,r));if(c.length){const d=s_(c,u),h=c[d];let m=e.getSelectedQueryIndexes();m.includes(u)&&(m=m.filter(g=>g!==u).map(g=>g>u?g-1:g),(a=(i=e.coreProps).onQuerySelectChange)==null||a.call(i,m));const b=c.find(g=>g.id===n),w={activeQueryId:b?n:h.id,queries:c,selectedQueryIndexes:m};b||(o=(s=e.coreProps).onActiveQueryChange)==null||o.call(s,h),e.setState(g=>({...g,...w}))}else e.resetQueries(t)}},s_=(t,e)=>t.length-1>=e?e:e+1>t.length-1?e-1<t.length&&e-1>=0?e-1:t.length-1:e+1,jh=(t,e)=>({...e,content:e.content.map(r=>Ht(r)&&!r.skipBooleanOperatorCheck?jh(t,r):r),op:t}),qh=(t,e)=>({...e,content:e.content.filter(function r(n){return dr(n)?!0:Ht(n)?n.content.filter(r).length>0:n.content.field!==t})}),o_=({sqon:t,field:e,index:r,isUploadedList:n,merge_strategy:i=rr.APPEND_VALUES,operator:a=fn.In,overrideValuesName:s,remoteComponent:o,value:u})=>{let c;const d={content:{field:e,index:r,isUploadedList:n,overrideValuesName:s,remoteComponent:o,value:u},op:a};return At(t)?(c=Vt(),c.content=[d]):c=l_(t,d,{operator:Dn.OVERRIDE_OPERATOR,values:i}),c},l_=(t,e,r)=>{const n=yt(t);return r=Eg({},{operator:Dn.DEFAULT,values:rr.DEFAULT},r),kh(n,e,r)?n:{...n,content:[...n.content,e]}},kh=(t,e,r)=>{let n=!1;return t.content.forEach(i=>{if(dr(i)||i.title)return;const a=i;if(Ht(a)){n=kh(a,e,r);return}const s=a;s.content.field===e.content.field&&(n=!0,e.content.overrideValuesName&&(s.content.overrideValuesName=e.content.overrideValuesName),e.op&&r.operator!==Dn.KEEP_OPERATOR&&(s.op=e.op),r.values===rr.APPEND_VALUES&&(s.content.value=Kg([],s.content.value,e.content.value)),r.values===rr.OVERRIDE_VALUES&&(s.content.value=e.content.value))}),n},u_=(t,e)=>{const r=e.content,n=typeof t=="number"?r.filter(i=>i!==t):r.filter(i=>{if(typeof i=="number")return!0;const a=i,{skipBooleanOperatorCheck:s}=a,o=s&&a.content[0].content.field!==t,u=i.content.field!==t;return s?o:u});return{...e,content:n,op:e.op}},c_=(t,e)=>{const n=e.content.filter(i=>i.id!==t);return{...e,content:n,op:e.op}},Rh=(t,e)=>Ht(e)?e.content.reduce((r,n)=>r||Rh(t,n),!1):typeof e=="number"&&e===t,d_=(t,e)=>yt(t).map(n=>{const i=n.content.map(a=>a.id===e.id?{id:e.id,content:e.queries[0].content,op:a.op,title:e.title}:a);return{...n,content:i}}),Oh=t=>yt(t).map(n=>{const i=n.content.map(a=>a.hasOwnProperty("title")&&a.id?{filterID:a.id}:a);return{...n,content:i}}),f_=(t,e)=>{let r=-1;const n=t.content.filter((i,a)=>{if(dr(i))return!0;const s=i,{skipBooleanOperatorCheck:o}=s,u=o&&s.content.find(c=>c.content.field===e);return(u||i.content.field==e)&&(r=a),o?!u:i.content.field!==e});return[r,{...t,content:n}]},h_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]),p_=(t,e,r)=>(console.error("createSQONFromFilters is not implemented"),[]),ll=(t,e)=>{const r=n=>n.content.map(i=>dr(i)?e[i]:i).map(i=>ll(i,e));return Ht(t)?{content:r(t),op:t.op}:{content:t.content,op:t.op}};function Eh(t="New Filter"){const e=be(),r={id:be(),queries:[Vt(e)],title:t,favorite:!1,isDirty:!1,isNew:!0};return{newActiveQueryId:e,newSavedFilter:r}}var zt=(t=>(t.Filter="filter",t.Query="query",t))(zt||{});const Nh=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,index:()=>e.getState().queries.findIndex(a=>a.id===n),isActive:()=>e.getState().activeQueryId===n,isEmpty:()=>It(t),isNotEmpty:()=>!It(t),toggleSelect:a=>{var u,c;const s=e.getQueryIndex(n);let o=[];a?o=[...e.getState().selectedQueryIndexes,s]:o=e.getState().selectedQueryIndexes.filter(d=>d!==s),e.setState(d=>({...d,selectedQueryIndexes:o})),(c=(u=e.coreProps).onQuerySelectChange)==null||c.call(u,o)},isSelected:()=>e.getState().selectedQueryIndexes.includes(e.getQueryIndex(n)),isSelectable:()=>{const a=e.getState().queries;return a.length===2&&e.hasEmptyQuery()?!1:a.length>1&&r.isNotEmpty()},saveAsCustomPill:async a=>{var o,u;const s={favorite:!1,id:be(),queries:[r.raw()],title:a,type:zt.Query};return Promise.resolve((u=(o=e.coreProps).onCustomPillSave)==null?void 0:u.call(o,s)).then(()=>r.update({...r.raw(),content:[{id:s.id,op:s.queries[0].op,content:s.queries[0].content,title:s.title}]}))},delete:()=>{var a,s;Rd(n,e),(s=(a=e.coreProps).onQueryDelete)==null||s.call(a,n)},update:a=>{var s,o;if(At(a.content))Rd(n,e);else{const u=e.getQueryIndex(n),c=yt(e.getRawQueries()),d={...a,id:n,content:a.content,op:a.op};c[u]=d,e.setState(h=>({...h,queries:Pr(c)})),(o=(s=e.coreProps).onQueryUpdate)==null||o.call(s,d)}},duplicate:()=>{const a=e.getQuery(n);a&&e.createQuery({op:a.raw().op,content:a.raw().content})},setAsActive:()=>{var a,s;e.setState(o=>({...o,activeQueryId:n})),(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,r.raw())},changeCombineOperator:a=>{var d,h;const s=yt(e.getRawQueries()),o=e.getQueryIndex(n),u=s[o],c=jh(a,u);s[o]={...u,content:c.content,op:c.op},e.setState(m=>({...m,queries:Pr(s)})),(h=(d=e.coreProps).onActiveQueryChange)==null||h.call(d,s[o])},addPill:a=>{r.update({...t,content:[...t.content,a]})},removePillById:a=>{r.update(c_(a,t))},removePillByFieldOrIndex:a=>{r.update(u_(a,t))},isReferencedInActiveQuery:()=>{const a=e.getActiveQuery();return a?Rh(r.index(),a.raw()):!1},hasCustomPill:()=>r.raw().content.some(a=>a.title||!a.content)}),r};var Us,Od;function m_(){if(Od)return Us;Od=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Us=t,Us}var $s,Ed;function Dh(){if(Ed)return $s;Ed=1;var t=Ah(),e=m_(),r=Ih(),n=1,i=2;function a(s,o,u,c,d,h){var m=u&n,b=s.length,w=o.length;if(b!=w&&!(m&&w>b))return!1;var g=h.get(s),x=h.get(o);if(g&&x)return g==o&&x==s;var I=-1,v=!0,C=u&i?new t:void 0;for(h.set(s,o),h.set(o,s);++I<b;){var k=s[I],E=o[I];if(c)var D=m?c(E,k,I,o,s,h):c(k,E,I,s,o,h);if(D!==void 0){if(D)continue;v=!1;break}if(C){if(!e(o,function(R,V){if(!r(C,V)&&(k===R||d(k,R,u,c,h)))return C.push(V)})){v=!1;break}}else if(!(k===E||d(k,E,u,c,h))){v=!1;break}}return h.delete(s),h.delete(o),v}return $s=a,$s}var Zs,Nd;function v_(){if(Nd)return Zs;Nd=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return Zs=t,Zs}var Ws,Dd;function y_(){if(Dd)return Ws;Dd=1;var t=ur(),e=yh(),r=Zr(),n=Dh(),i=v_(),a=ol(),s=1,o=2,u="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",b="[object RegExp]",w="[object Set]",g="[object String]",x="[object Symbol]",I="[object ArrayBuffer]",v="[object DataView]",C=t?t.prototype:void 0,k=C?C.valueOf:void 0;function E(D,R,V,U,B,Q,N){switch(V){case v:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case I:return!(D.byteLength!=R.byteLength||!Q(new e(D),new e(R)));case u:case c:case m:return r(+D,+R);case d:return D.name==R.name&&D.message==R.message;case b:case g:return D==R+"";case h:var M=i;case w:var Y=U&s;if(M||(M=a),D.size!=R.size&&!Y)return!1;var ee=N.get(D);if(ee)return ee==R;U|=o,N.set(D,R);var ne=n(M(D),M(R),U,B,Q,N);return N.delete(D),ne;case x:if(k)return k.call(D)==k.call(R)}return!1}return Ws=E,Ws}var Hs,Fd;function g_(){if(Fd)return Hs;Fd=1;var t=vh(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,u,c,d){var h=o&e,m=t(a),b=m.length,w=t(s),g=w.length;if(b!=g&&!h)return!1;for(var x=b;x--;){var I=m[x];if(!(h?I in s:n.call(s,I)))return!1}var v=d.get(a),C=d.get(s);if(v&&C)return v==s&&C==a;var k=!0;d.set(a,s),d.set(s,a);for(var E=h;++x<b;){I=m[x];var D=a[I],R=s[I];if(u)var V=h?u(R,D,I,s,a,d):u(D,R,I,a,s,d);if(!(V===void 0?D===R||c(D,R,o,u,d):V)){k=!1;break}E||(E=I=="constructor")}if(k&&!E){var U=a.constructor,B=s.constructor;U!=B&&"constructor"in a&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof B=="function"&&B instanceof B)&&(k=!1)}return d.delete(a),d.delete(s),k}return Hs=i,Hs}var zs,Qd;function __(){if(Qd)return zs;Qd=1;var t=el(),e=Dh(),r=y_(),n=g_(),i=Br(),a=Rt(),s=$r(),o=Mn(),u=1,c="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,b=m.hasOwnProperty;function w(g,x,I,v,C,k){var E=a(g),D=a(x),R=E?d:i(g),V=D?d:i(x);R=R==c?h:R,V=V==c?h:V;var U=R==h,B=V==h,Q=R==V;if(Q&&s(g)){if(!s(x))return!1;E=!0,U=!1}if(Q&&!U)return k||(k=new t),E||o(g)?e(g,x,I,v,C,k):r(g,x,R,I,v,C,k);if(!(I&u)){var N=U&&b.call(g,"__wrapped__"),M=B&&b.call(x,"__wrapped__");if(N||M){var Y=N?g.value():g,ee=M?x.value():x;return k||(k=new t),C(Y,ee,I,v,k)}}return Q?(k||(k=new t),n(g,x,I,v,C,k)):!1}return zs=w,zs}var Gs,Md;function b_(){if(Md)return Gs;Md=1;var t=__(),e=bt();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return Gs=r,Gs}var Ks,Vd;function x_(){if(Vd)return Ks;Vd=1;var t=b_();function e(r,n){return t(r,n)}return Ks=e,Ks}var C_=x_();const Fh=Zt(C_),S_=(t,e)=>{const r={},n=t.id;return Object.assign(r,{id:n,raw:()=>t,getQueries:()=>t.queries&&t.queries.length>0?t.queries.map(a=>Nh(a,e)):[],getRawQueries:()=>t.queries,getQueryById:a=>r.getQueries().find(s=>s.id===a)||null,duplicate:()=>{var a,s;if(r.isSelected()){const o=r.getRawQueries().map(c=>({...c,id:be()})),u={favorite:!1,id:be(),queries:o,title:`${r.raw().title||""} COPY`,isDirty:!1,isNew:!0};e.setState(c=>({...c,activeQueryId:u.queries[0].id,queries:o,savedFilters:[...c.savedFilters,u]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,u)}else console.error("Can only duplicate the selected saved filter")},delete:async()=>{var a,s;return Promise.resolve((s=(a=e.coreProps).onSavedFilterDelete)==null?void 0:s.call(a,n)).then(()=>{var c,d;const{newActiveQueryId:o,newSavedFilter:u}=Eh();e.setState(h=>({...h,activeQueryId:o,queries:u.queries,savedFilters:[...h.savedFilters.filter(m=>m.id!==n),u]})),(d=(c=e.coreProps).onSavedFilterCreate)==null||d.call(c,u)})},save:async(a,s)=>{var c,d,h,m;const o={...r.raw(),title:(s==null?void 0:s.title)||r.raw().title,favorite:(s==null?void 0:s.favorite)!==void 0?s.favorite:r.raw().favorite,type:a,queries:e.getRawQueries()};return a===zt.Query?Promise.resolve((d=(c=e.coreProps).onCustomPillUpdate)==null?void 0:d.call(c,o)).then(()=>{}):Promise.resolve((m=(h=e.coreProps).onSavedFilterUpdate)==null?void 0:m.call(h,{...o,queries:Oh(o.queries)})).then(()=>e.setState(b=>({...b,savedFilters:b.savedFilters.map(w=>w.id===n?{...o,isNew:!1,isDirty:!1}:w)})))},select:()=>{e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries}))},discardChanges:()=>{r.isSelected()?e.setState(a=>({...a,activeQueryId:t.queries[0].id,queries:t.queries})):console.error("Can only discard changes to the selected saved filter")},hasQueries:()=>r.getQueries().length>0,isSelected:()=>{const a=e.getState().queries.map(s=>s.id);return t.queries.find(s=>a.includes(s.id))!==void 0},isFavorite:()=>t.favorite||!1,isNew:()=>t.isNew||!1,isDirty:()=>!r.isSelected()||t.isNew?!1:t.isDirty||e.getRawQueries().length!==t.queries.length?!0:!t.queries.every(a=>{const s=e.getRawQueries().find(o=>o.id==a.id);return s?Fh({content:s.content,id:s.id,op:s.op},{content:a.content,id:a.id,op:a.op}):!1})}),r},Qh=()=>{const t=be();return{activeQueryId:t,queries:[Vt(t)],savedFilters:[],selectedQueryIndexes:[]}},w_=t=>{const e={};return Object.assign(e,{coreProps:t,setCoreProps:n=>{e.coreProps=n(e.coreProps)},setState:n=>{var i,a;(a=(i=e.coreProps).onStateChange)==null||a.call(i,n(e.coreProps.state))},getState:()=>e.coreProps.state,reset:()=>{e.setState(()=>e.coreProps.initialState)},clearQueries:()=>{var a,s;const n=be(),i=Vt(n);e.setState(o=>({...o,activeQueryId:n,queries:[i]})),(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,i)},saveNewFilter:async n=>{var a,s;const i={id:be(),title:(n==null?void 0:n.title)||e.coreProps.savedFilterDefaultTitle||"New Filter",favorite:(n==null?void 0:n.favorite)===void 0?!1:n.favorite,queries:e.getRawQueries()};return Promise.resolve((s=(a=e.coreProps).onSavedFilterSave)==null?void 0:s.call(a,{...i,queries:Oh(i.queries)})).then(()=>e.setState(o=>({...o,savedFilters:[...o.savedFilters,{...i,isNew:!1,isDirty:!1}]})))},createSavedFilter:()=>{var a,s;const{newActiveQueryId:n,newSavedFilter:i}=Eh();e.setState(o=>({...o,activeQueryId:n,queries:i.queries,savedFilters:[...o.savedFilters,i]})),(s=(a=e.coreProps).onSavedFilterCreate)==null||s.call(a,i)},getSelectedSavedFilter:()=>e.getActiveQuery()&&e.getSavedFilters().find(i=>i.isSelected()&&!i.isNew())||null,getSavedFilters:()=>e.coreProps.state.savedFilters&&e.coreProps.state.savedFilters.length>0?e.coreProps.state.savedFilters.map(n=>S_(n,e)).filter(n=>!n.isNew()):[],getQueries:()=>e.coreProps.state.queries&&e.coreProps.state.queries.length>0?e.coreProps.state.queries.map(n=>Nh(n,e)):[],getRawQueries:()=>e.coreProps.state.queries||[],getSelectedQueryIndexes:()=>e.getState().selectedQueryIndexes,toggleQuerySelect:(n,i)=>{var a;(a=e.getQuery(n))==null||a.toggleSelect(i)},resetQuerySelection:()=>{var n,i;e.setState(a=>({...a,selectedQueryIndexes:[]})),(i=(n=e.coreProps).onQuerySelectChange)==null||i.call(n,[])},createQuery:({id:n=be(),op:i=Le.And,content:a})=>{var o,u,c,d;const s={id:n,op:i,content:a};return e.setState(h=>({...h,activeQueryId:s.id,queries:Pr([...e.getRawQueries(),s])})),(u=(o=e.coreProps).onActiveQueryChange)==null||u.call(o,s),(d=(c=e.coreProps).onQueryCreate)==null||d.call(c,s),s.id},getQuery:n=>e.getQueries().find(i=>i.id===n)||null,setActiveQuery:n=>{var i;(i=e.getQuery(n))==null||i.setAsActive()},getActiveQuery:()=>e.coreProps.state.activeQueryId?e.getQuery(e.coreProps.state.activeQueryId):null,getQueryIndex:n=>{const i=e.getQuery(n);return i?i.index():-1},updateQuery:(n,i)=>{var a;(a=e.getQuery(n))==null||a.update(i)},duplicateQuery:n=>{var i;(i=e.getQuery(n))==null||i.duplicate()},deleteQuery:n=>{var i;(i=e.getQuery(n))==null||i.delete()},changeQueryCombineOperator:(n,i)=>{var a;(a=e.getQuery(n))==null||a.changeCombineOperator(i)},hasEmptyQuery:()=>e.getQueries().some(n=>n.isEmpty()),hasQueries:()=>e.getQueries().length>0,canCombine:()=>e.getQueries().length>1&&e.getSelectedQueryIndexes().length>1,resetQueries:n=>{var a,s;const i=Vt(n);(s=(a=e.coreProps).onActiveQueryChange)==null||s.call(a,i),e.setState(o=>({...o,activeQueryId:n,queries:[i]}))},combineSelectedQueries:n=>{var s,o,u,c,d,h;if(!e.canCombine()){console.error("Cannot combine queries. There must be at least 2 queries selected.");return}const i={id:be(),op:n,content:e.getSelectedQueryIndexes().sort()},a=[];e.setState(m=>({...m,activeQueryId:i.id,queries:Pr([...m.queries,i]),selectedQueryIndexes:a})),(o=(s=e.coreProps).onActiveQueryChange)==null||o.call(s,i),(c=(u=e.coreProps).onQueryCreate)==null||c.call(u,i),(h=(d=e.coreProps).onQuerySelectChange)==null||h.call(d,a)},isEmpty:()=>e.getQueries().length===1&&e.getQueries()[0].isEmpty()}),e},Io="QBCacheUpdate",Mh="query-builder-cache";var To=(t=>(t.ADD_QUERY="ADD_QUERY",t.UPDATE_QUERY="UPDATE_QUERY",t.SET_STATE="SET_STATE",t))(To||{});class A_ extends Event{constructor(r){super(Io);vr(this,"eventData");vr(this,"eventType");vr(this,"value");vr(this,"queryBuilderId");this.eventType=r.eventType,this.queryBuilderId=r.queryBuilderId,this.value=r.value,this.eventData=r.eventData}}const $n=(t,{eventType:e,eventData:r,value:n,skipEvent:i})=>{if(window.localStorage.setItem(`${Mh}-${t}`,JSON.stringify(n)),!i){const a=new A_({queryBuilderId:t,value:n,eventType:e,eventData:r});window.dispatchEvent(a)}},Po=t=>{const e=Qh();return $n(t,{value:e,eventType:"SET_STATE",eventData:e}),e},zr=t=>{if(typeof window<"u"){const e=window.localStorage.getItem(`${Mh}-${t}`);if(!e)return Po(t);try{return JSON.parse(e)}catch{return Po(t)}}else return{}},I_=(t,e,r=!1)=>{const n=zr(t),i=(n==null?void 0:n.queries)??[],a=i.find(o=>It(o)),s=i.find(o=>o.id===n.activeQueryId&&It(o));$n(t,{eventType:"ADD_QUERY",eventData:e,value:{activeQueryId:r||s?e.id:(n==null?void 0:n.activeQueryId)??e.id,queries:a?i.map(o=>It(o)?e:o):[...i,e]}})},T_=(t,e=ll)=>{var n;const r=zr(t);return e(((n=r==null?void 0:r.queries)==null?void 0:n.find(({id:i})=>i===r.activeQueryId))??Vt(),r.queries)},Gr=t=>{var r;const e=zr(t);return((r=e==null?void 0:e.queries)==null?void 0:r.find(({id:n})=>n===e.activeQueryId))??Vt()},fr=(t,e)=>{var i;const r=zr(t),n=(i=r==null?void 0:r.queries)==null?void 0:i.find(({id:a})=>a===e.id);if(n)n.content=e.content,n.op=e.op;else throw new Error(`Query with id ${e.id} not found`);$n(t,{eventType:"UPDATE_QUERY",eventData:n,value:r})},P_=(t,{field:e,index:r,isUploadedList:n,merge_strategy:i=rr.APPEND_VALUES,operator:a=fn.In,overrideValuesName:s,remoteComponent:o,value:u})=>{const c=Qt.getActiveQuery(t);fr(t,At(u)?qh(e,c):o_({sqon:c,field:e,index:r,isUploadedList:n,merge_strategy:i,operator:a,overrideValuesName:s,remoteComponent:o,value:u}))},j_=(t,e)=>fr(t,Vh(t,{field:e.filterGroup.field,operator:e.operator,sqonContent:p_(e.filterGroup,e.selectedFilters,e.index)})),Vh=(t,{field:e,operator:r=Le.And,sqonContent:n})=>{const i=Gr(t);let a={id:be(),content:n,op:r};if(!At(i)){const s=f_(i,e),o=s[0],u=s[1],c={...u};At(c.content)&&At(i)?a={id:be(),content:[],op:r}:(o>=0?c.content.splice(o,0,...n):c.content=[...c.content,...n],a={...c,content:[...c.content]},u.content.length===0&&(a.op=r))}return a},q_=(t,e)=>fr(t,e.selectedFilters.length>0?Vh(t,{field:e.field,sqonContent:h_(e.field,e.selectedFilters)}):qh(e.field,Gr(t))),k_=(t,e)=>{const r=Gr(t);fr(t,{...r,content:[...r.content,e]})},R_=(t,e)=>{const r=Gr(t);r.content=r.content.filter(n=>n.id!==e).filter(n=>n!==void 0),fr(t,r)},Qt={addQuery:I_,updateQuery:fr,getActiveQuery:Gr,getResolvedActiveQuery:T_,updateActiveQueryField:P_,updateActiveQueryFilters:j_,updateQueryByTableFilter:q_,addPillToActiveQuery:k_,removePillFromActiveQuery:R_,setLocalQueryBuilderState:$n,getLocalQueryBuilderState:zr,setDefaultLocalQueryBuilderState:Po};function Lh(t){const e={state:{...Qh(),savedFilters:[],selectedQueryIndexes:[]},onStateChange:()=>{},...t},[r]=p.useState(()=>({current:w_(e)})),[n,i]=p.useState(()=>e.initialState||e.state);p.useEffect(()=>{var s;n&&((s=t.onStateChange)==null||s.call(t,n))},[n]),p.useEffect(()=>{const s=o=>{var u,c,d,h;if(o.queryBuilderId===t.id){if(o.eventType===To.ADD_QUERY){const m=o.eventData;(u=t.onQueryCreate)==null||u.call(t,m),m.id===o.value.activeQueryId&&((c=t.onActiveQueryChange)==null||c.call(t,m))}else if(o.eventType===To.UPDATE_QUERY){const m=o.eventData;(d=t.onQueryUpdate)==null||d.call(t,m),m.id===o.value.activeQueryId&&((h=t.onActiveQueryChange)==null||h.call(t,m))}i(m=>({...m,...t.state,...o.value}))}};return window.addEventListener(Io,s),()=>{window.removeEventListener(Io,s)}},[t.state]),t.fieldsToIgnore;const a={...n,...t.state};return r.current.setCoreProps(s=>({savedFilterDefaultTitle:"Untitled filter",...s,...t,state:{...a,queries:t.fieldsToIgnore&&a.queries?i_(a.queries,t.fieldsToIgnore):a.queries},onStateChange:o=>{i(o),Qt.setLocalQueryBuilderState(t.id,{value:o,skipEvent:!0})}})),r.current}var ul="Collapsible",[O_,Bh]=Pn(ul),[E_,cl]=O_(ul),Uh=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[u=!1,c]=tr({prop:n,defaultProp:i,onChange:s});return l.jsx(E_,{scope:r,disabled:a,contentId:or(),open:u,onOpenToggle:p.useCallback(()=>c(d=>!d),[c]),children:l.jsx(xe.div,{"data-state":fl(u),"data-disabled":a?"":void 0,...o,ref:e})})});Uh.displayName=ul;var $h="CollapsibleTrigger",Zh=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=cl($h,r);return l.jsx(xe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":fl(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:fe(t.onClick,i.onOpenToggle)})});Zh.displayName=$h;var dl="CollapsibleContent",Wh=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=cl(dl,t.__scopeCollapsible);return l.jsx(Zo,{present:r||i.open,children:({present:a})=>l.jsx(N_,{...n,ref:e,present:a})})});Wh.displayName=dl;var N_=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=cl(dl,r),[o,u]=p.useState(n),c=p.useRef(null),d=Ee(e,c),h=p.useRef(0),m=h.current,b=p.useRef(0),w=b.current,g=s.open||o,x=p.useRef(g),I=p.useRef(void 0);return p.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),vt(()=>{const v=c.current;if(v){I.current=I.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const C=v.getBoundingClientRect();h.current=C.height,b.current=C.width,x.current||(v.style.transitionDuration=I.current.transitionDuration,v.style.animationName=I.current.animationName),u(n)}},[s.open,n]),l.jsx(xe.div,{"data-state":fl(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:g&&i})});function fl(t){return t?"open":"closed"}var D_=Uh,F_=Zh,Q_=Wh,xt="Accordion",M_=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hl,V_,L_]=Df(xt),[Zn,$w]=Pn(xt,[L_,Bh]),pl=Bh(),Hh=G.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return l.jsx(hl.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(Z_,{...a,ref:e}):l.jsx($_,{...i,ref:e})})});Hh.displayName=xt;var[zh,B_]=Zn(xt),[Gh,U_]=Zn(xt,{collapsible:!1}),$_=G.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,u]=tr({prop:r,defaultProp:n,onChange:i});return l.jsx(zh,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:u,onItemClose:G.useCallback(()=>a&&u(""),[a,u]),children:l.jsx(Gh,{scope:t.__scopeAccordion,collapsible:a,children:l.jsx(Kh,{...s,ref:e})})})}),Z_=G.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s=[],o]=tr({prop:r,defaultProp:n,onChange:i}),u=G.useCallback(d=>o((h=[])=>[...h,d]),[o]),c=G.useCallback(d=>o((h=[])=>h.filter(m=>m!==d)),[o]);return l.jsx(zh,{scope:t.__scopeAccordion,value:s,onItemOpen:u,onItemClose:c,children:l.jsx(Gh,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(Kh,{...a,ref:e})})})}),[W_,Wn]=Zn(xt),Kh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=G.useRef(null),u=Ee(o,e),c=V_(r),h=Ff(i)==="ltr",m=fe(t.onKeyDown,b=>{var V;if(!M_.includes(b.key))return;const w=b.target,g=c().filter(U=>{var B;return!((B=U.ref.current)!=null&&B.disabled)}),x=g.findIndex(U=>U.ref.current===w),I=g.length;if(x===-1)return;b.preventDefault();let v=x;const C=0,k=I-1,E=()=>{v=x+1,v>k&&(v=C)},D=()=>{v=x-1,v<C&&(v=k)};switch(b.key){case"Home":v=C;break;case"End":v=k;break;case"ArrowRight":a==="horizontal"&&(h?E():D());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(h?D():E());break;case"ArrowUp":a==="vertical"&&D();break}const R=v%I;(V=g[R].ref.current)==null||V.focus()});return l.jsx(W_,{scope:r,disabled:n,direction:i,orientation:a,children:l.jsx(hl.Slot,{scope:r,children:l.jsx(xe.div,{...s,"data-orientation":a,ref:u,onKeyDown:n?void 0:m})})})}),hn="AccordionItem",[H_,ml]=Zn(hn),Yh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=Wn(hn,r),s=B_(hn,r),o=pl(r),u=or(),c=n&&s.value.includes(n)||!1,d=a.disabled||t.disabled;return l.jsx(H_,{scope:r,open:c,disabled:d,triggerId:u,children:l.jsx(D_,{"data-orientation":a.orientation,"data-state":np(c),...o,...i,ref:e,disabled:d,open:c,onOpenChange:h=>{h?s.onItemOpen(n):s.onItemClose(n)}})})});Yh.displayName=hn;var Jh="AccordionHeader",Xh=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(xt,r),a=ml(Jh,r);return l.jsx(xe.h3,{"data-orientation":i.orientation,"data-state":np(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});Xh.displayName=Jh;var jo="AccordionTrigger",ep=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(xt,r),a=ml(jo,r),s=U_(jo,r),o=pl(r);return l.jsx(hl.ItemSlot,{scope:r,children:l.jsx(F_,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});ep.displayName=jo;var tp="AccordionContent",rp=G.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Wn(xt,r),a=ml(tp,r),s=pl(r);return l.jsx(Q_,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});rp.displayName=tp;function np(t){return t?"open":"closed"}var z_=Hh,G_=Yh,K_=Xh,ip=ep,ap=rp;const Y_=z_,vl=p.forwardRef(({className:t,...e},r)=>l.jsx(G_,{ref:r,className:ue("border-b",t),...e}));vl.displayName="AccordionItem";const yl=p.forwardRef(({className:t,children:e,...r},n)=>l.jsx(K_,{className:"flex justify-between items-center",children:l.jsx(ip,{ref:n,className:ue("py-2 transition-all [&[data-state=open]>svg]:rotate-180 w-full",t),...r,children:l.jsxs("div",{className:"flex flex-1 items-center",children:[l.jsx("div",{children:l.jsx(Wo,{className:"h-4 w-4 shrink-0 transition-transform duration-200 mr-2"})}),e]})})}));yl.displayName=ip.displayName;const gl=p.forwardRef(({className:t,children:e,...r},n)=>l.jsx(ap,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:ue("pb-2 pt-0",t),children:e})}));gl.displayName=ap.displayName;vl.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};yl.__docgenInfo={description:"",methods:[]};gl.__docgenInfo={description:"",methods:[]};const _l=p.createContext(null);function pe(){const t=p.useContext(_l);if(!t)throw new Error("useQueryBuilderContext must be used within a QueryBuilderContextProvider");return t}const sp=p.createContext(null);function de(){const t=p.useContext(sp);if(!t)throw new Error("useQueryBuilderDictContext must be used within a QueryBuilderDictContextProvider");return t}const bl=p.createContext(null);function Be(){const t=p.useContext(bl);if(!t)throw new Error("useQueryBarContext must be used within a QueryBarContextProvider");return t}function op(){const{query:t}=Be(),{getQueryReferenceColor:e}=pe(),r=t.isReferencedInActiveQuery()?e(t.index()):null;return l.jsx("div",{className:"w-1 rounded-s-sm bg-gray-500 group-data-[query-active=true]/query:bg-[--query-bar-identifier-active]",style:r?{backgroundColor:r}:{}})}op.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function lp(){const{query:t}=Be();return l.jsx(Ne,{icon:Yf,onClick:()=>t.duplicate()})}lp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};var xl="Popover",[up,Zw]=Pn(xl,[jn]),Kr=jn(),[J_,Ot]=up(xl),cp=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=Kr(e),u=p.useRef(null),[c,d]=p.useState(!1),[h=!1,m]=tr({prop:n,defaultProp:i,onChange:a});return l.jsx(Qf,{...o,children:l.jsx(J_,{scope:e,contentId:or(),triggerRef:u,open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(b=>!b),[m]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:s,children:r})})};cp.displayName=xl;var dp="PopoverAnchor",X_=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(dp,r),a=Kr(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return p.useEffect(()=>(s(),()=>o()),[s,o]),l.jsx($o,{...a,...n,ref:e})});X_.displayName=dp;var fp="PopoverTrigger",Cl=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(fp,r),a=Kr(r),s=Ee(e,i.triggerRef),o=l.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":yp(i.open),...n,ref:s,onClick:fe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx($o,{asChild:!0,...a,children:o})});Cl.displayName=fp;var Sl="PopoverPortal",[eb,tb]=up(Sl,{forceMount:void 0}),hp=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Ot(Sl,e);return l.jsx(eb,{scope:e,forceMount:r,children:l.jsx(Zo,{present:r||a.open,children:l.jsx(Lf,{asChild:!0,container:i,children:n})})})};hp.displayName=Sl;var nr="PopoverContent",pp=p.forwardRef((t,e)=>{const r=tb(nr,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Ot(nr,t.__scopePopover);return l.jsx(Zo,{present:n||a.open,children:a.modal?l.jsx(rb,{...i,ref:e}):l.jsx(nb,{...i,ref:e})})});pp.displayName=nr;var rb=p.forwardRef((t,e)=>{const r=Ot(nr,t.__scopePopover),n=p.useRef(null),i=Ee(e,n),a=p.useRef(!1);return p.useEffect(()=>{const s=n.current;if(s)return Bf(s)},[]),l.jsx(Uf,{as:Uo,allowPinchZoom:!0,children:l.jsx(mp,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0,c=o.button===2||u;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),nb=p.forwardRef((t,e)=>{const r=Ot(nr,t.__scopePopover),n=p.useRef(!1),i=p.useRef(!1);return l.jsx(mp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),mp=p.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...h}=t,m=Ot(nr,r),b=Kr(r);return $f(),l.jsx(Zf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Mf,{"data-state":yp(m.open),role:"dialog",id:m.contentId,...b,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vp="PopoverClose",qo=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ot(vp,r);return l.jsx(xe.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});qo.displayName=vp;var ib="PopoverArrow",ab=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kr(r);return l.jsx(Vf,{...i,...n,ref:e})});ab.displayName=ib;function yp(t){return t?"open":"closed"}var sb=cp,ob=Cl,lb=hp,gp=pp;const _p=sb,ub=ob,Hn=p.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>l.jsx(lb,{children:l.jsx(gp,{ref:i,align:e,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Hn.displayName=gp.displayName;Hn.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};function bp(){const{query:t}=Be(),e=de();return l.jsxs(_p,{children:[l.jsx(ub,{asChild:!0,children:l.jsx(Ne,{icon:Hf})}),l.jsxs(Hn,{side:"left",className:"w-[200px] space-y-3",children:[l.jsx("span",{className:"text-sm",children:e.queryBar.deletePopover.title}),l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx(qo,{asChild:!0,children:l.jsx(Te,{size:"xs",children:e.queryBar.deletePopover.cancel})}),l.jsx(qo,{asChild:!0,children:l.jsx(Te,{size:"xs",color:"destructive",onClick:()=>t.delete(),children:e.queryBar.deletePopover.ok})})]})]})]})}bp.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};var Yr=t=>t.type==="checkbox",Ft=t=>t instanceof Date,qe=t=>t==null;const xp=t=>typeof t=="object";var ge=t=>!qe(t)&&!Array.isArray(t)&&xp(t)&&!Ft(t),Cp=t=>ge(t)&&t.target?Yr(t.target)?t.target.checked:t.target.value:t,cb=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Sp=(t,e)=>t.has(cb(e)),db=t=>{const e=t.constructor&&t.constructor.prototype;return ge(e)&&e.hasOwnProperty("isPrototypeOf")},wl=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Re(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(wl&&(t instanceof Blob||n))&&(r||ge(t)))if(e=r?[]:{},!r&&!db(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Re(t[i]));else return t;return e}var zn=t=>Array.isArray(t)?t.filter(Boolean):[],ye=t=>t===void 0,P=(t,e,r)=>{if(!e||!ge(t))return r;const n=zn(e.split(/[,[\].]+?/)).reduce((i,a)=>qe(i)?i:i[a],t);return ye(n)||n===t?ye(t[e])?r:t[e]:n},Ve=t=>typeof t=="boolean",Al=t=>/^\w*$/.test(t),wp=t=>zn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{let n=-1;const i=Al(e)?[e]:wp(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let u=r;if(n!==s){const c=t[o];u=ge(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}return t};const pn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ze={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ht={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ap=G.createContext(null),Gn=()=>G.useContext(Ap),fb=t=>{const{children:e,...r}=t;return G.createElement(Ap.Provider,{value:r},e)};var Ip=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ze.all&&(e._proxyFormState[s]=!n||ze.all),r&&(r[s]=!0),t[s]}});return i},Oe=t=>ge(t)&&!Object.keys(t).length,Tp=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Oe(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||ze.all))},Ir=t=>Array.isArray(t)?t:[t],Pp=(t,e,r)=>!t||!e||t===e||Ir(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Il(t){const e=G.useRef(t);e.current=t,G.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function hb(t){const e=Gn(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[s,o]=G.useState(r._formState),u=G.useRef(!0),c=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=G.useRef(i);return d.current=i,Il({disabled:n,next:h=>u.current&&Pp(d.current,h.name,a)&&Tp(h,c.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),G.useEffect(()=>(u.current=!0,c.current.isValid&&r._updateValid(!0),()=>{u.current=!1}),[r]),G.useMemo(()=>Ip(s,r,c.current,!1),[s,r])}var tt=t=>typeof t=="string",jp=(t,e,r,n,i)=>tt(t)?(n&&e.watch.add(t),P(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),P(r,a))):(n&&(e.watchAll=!0),r);function pb(t){const e=Gn(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=G.useRef(n);o.current=n,Il({disabled:a,subject:r._subjects.values,next:d=>{Pp(o.current,d.name,s)&&c(Re(jp(o.current,r._names,d.values||r._formValues,!1,i)))}});const[u,c]=G.useState(r._getWatch(n,i));return G.useEffect(()=>r._removeUnmounted()),u}function mb(t){const e=Gn(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a}=t,s=Sp(i._names.array,r),o=pb({control:i,name:r,defaultValue:P(i._formValues,r,P(i._defaultValues,r,t.defaultValue)),exact:!0}),u=hb({control:i,name:r,exact:!0}),c=G.useRef(i.register(r,{...t.rules,value:o,...Ve(t.disabled)?{disabled:t.disabled}:{}})),d=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!P(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!P(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!P(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!P(u.validatingFields,r)},error:{enumerable:!0,get:()=>P(u.errors,r)}}),[u,r]),h=G.useMemo(()=>({name:r,value:o,...Ve(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:m=>c.current.onChange({target:{value:Cp(m),name:r},type:pn.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:P(i._formValues,r),name:r},type:pn.BLUR}),ref:m=>{const b=P(i._fields,r);b&&m&&(b._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:w=>m.setCustomValidity(w),reportValidity:()=>m.reportValidity()})}}),[r,i._formValues,n,u.disabled,o,i._fields]);return G.useEffect(()=>{const m=i._options.shouldUnregister||a,b=(w,g)=>{const x=P(i._fields,w);x&&x._f&&(x._f.mount=g)};if(b(r,!0),m){const w=Re(P(i._options.defaultValues,r));ae(i._defaultValues,r,w),ye(P(i._formValues,r))&&ae(i._formValues,r,w)}return!s&&i.register(r),()=>{(s?m&&!i._state.action:m)?i.unregister(r):b(r,!1)}},[r,i,s,a]),G.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),G.useMemo(()=>({field:h,formState:u,fieldState:d}),[h,u,d])}const vb=t=>t.render(mb(t));var qp=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Ld=t=>({isOnSubmit:!t||t===ze.onSubmit,isOnBlur:t===ze.onBlur,isOnChange:t===ze.onChange,isOnAll:t===ze.all,isOnTouch:t===ze.onTouched}),Bd=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Tr=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=P(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Tr(o,e))break}else if(ge(o)&&Tr(o,e))break}}};var yb=(t,e,r)=>{const n=Ir(P(t,r));return ae(n,"root",e[r]),ae(t,r,n),t},Tl=t=>t.type==="file",Je=t=>typeof t=="function",mn=t=>{if(!wl)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cn=t=>tt(t),Pl=t=>t.type==="radio",vn=t=>t instanceof RegExp;const Ud={value:!1,isValid:!1},$d={value:!0,isValid:!0};var kp=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ye(t[0].attributes.value)?ye(t[0].value)||t[0].value===""?$d:{value:t[0].value,isValid:!0}:$d:Ud}return Ud};const Zd={isValid:!1,value:null};var Rp=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Zd):Zd;function Wd(t,e,r="validate"){if(cn(t)||Array.isArray(t)&&t.every(cn)||Ve(t)&&!t)return{type:r,message:cn(t)?t:"",ref:e}}var Kt=t=>ge(t)&&!vn(t)?t:{value:t,message:""},Hd=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:u,maxLength:c,minLength:d,min:h,max:m,pattern:b,validate:w,name:g,valueAsNumber:x,mount:I}=t._f,v=P(r,g);if(!I||e.has(g))return{};const C=o?o[0]:s,k=N=>{i&&C.reportValidity&&(C.setCustomValidity(Ve(N)?"":N||""),C.reportValidity())},E={},D=Pl(s),R=Yr(s),V=D||R,U=(x||Tl(s))&&ye(s.value)&&ye(v)||mn(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,B=qp.bind(null,g,n,E),Q=(N,M,Y,ee=ht.maxLength,ne=ht.minLength)=>{const ce=N?M:Y;E[g]={type:N?ee:ne,message:ce,ref:s,...B(N?ee:ne,ce)}};if(a?!Array.isArray(v)||!v.length:u&&(!V&&(U||qe(v))||Ve(v)&&!v||R&&!kp(o).isValid||D&&!Rp(o).isValid)){const{value:N,message:M}=cn(u)?{value:!!u,message:u}:Kt(u);if(N&&(E[g]={type:ht.required,message:M,ref:C,...B(ht.required,M)},!n))return k(M),E}if(!U&&(!qe(h)||!qe(m))){let N,M;const Y=Kt(m),ee=Kt(h);if(!qe(v)&&!isNaN(v)){const ne=s.valueAsNumber||v&&+v;qe(Y.value)||(N=ne>Y.value),qe(ee.value)||(M=ne<ee.value)}else{const ne=s.valueAsDate||new Date(v),ce=Ue=>new Date(new Date().toDateString()+" "+Ue),Se=s.type=="time",Ie=s.type=="week";tt(Y.value)&&v&&(N=Se?ce(v)>ce(Y.value):Ie?v>Y.value:ne>new Date(Y.value)),tt(ee.value)&&v&&(M=Se?ce(v)<ce(ee.value):Ie?v<ee.value:ne<new Date(ee.value))}if((N||M)&&(Q(!!N,Y.message,ee.message,ht.max,ht.min),!n))return k(E[g].message),E}if((c||d)&&!U&&(tt(v)||a&&Array.isArray(v))){const N=Kt(c),M=Kt(d),Y=!qe(N.value)&&v.length>+N.value,ee=!qe(M.value)&&v.length<+M.value;if((Y||ee)&&(Q(Y,N.message,M.message),!n))return k(E[g].message),E}if(b&&!U&&tt(v)){const{value:N,message:M}=Kt(b);if(vn(N)&&!v.match(N)&&(E[g]={type:ht.pattern,message:M,ref:s,...B(ht.pattern,M)},!n))return k(M),E}if(w){if(Je(w)){const N=await w(v,r),M=Wd(N,C);if(M&&(E[g]={...M,...B(ht.validate,M.message)},!n))return k(M.message),E}else if(ge(w)){let N={};for(const M in w){if(!Oe(N)&&!n)break;const Y=Wd(await w[M](v,r),C,M);Y&&(N={...Y,...B(M,Y.message)},k(Y.message),n&&(E[g]=N))}if(!Oe(N)&&(E[g]={ref:C,...N},!n))return E}}return k(!0),E};function gb(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ye(t)?n++:t[e[n++]];return t}function _b(t){for(const e in t)if(t.hasOwnProperty(e)&&!ye(t[e]))return!1;return!0}function Ce(t,e){const r=Array.isArray(e)?e:Al(e)?[e]:wp(e),n=r.length===1?t:gb(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(ge(n)&&Oe(n)||Array.isArray(n)&&_b(n))&&Ce(t,r.slice(0,-1)),t}var Ys=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},ko=t=>qe(t)||!xp(t);function wt(t,e){if(ko(t)||ko(e))return t===e;if(Ft(t)&&Ft(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Ft(a)&&Ft(s)||ge(a)&&ge(s)||Array.isArray(a)&&Array.isArray(s)?!wt(a,s):a!==s)return!1}}return!0}var Op=t=>t.type==="select-multiple",bb=t=>Pl(t)||Yr(t),Js=t=>mn(t)&&t.isConnected,Ep=t=>{for(const e in t)if(Je(t[e]))return!0;return!1};function yn(t,e={}){const r=Array.isArray(t);if(ge(t)||r)for(const n in t)Array.isArray(t[n])||ge(t[n])&&!Ep(t[n])?(e[n]=Array.isArray(t[n])?[]:{},yn(t[n],e[n])):qe(t[n])||(e[n]=!0);return e}function Np(t,e,r){const n=Array.isArray(t);if(ge(t)||n)for(const i in t)Array.isArray(t[i])||ge(t[i])&&!Ep(t[i])?ye(e)||ko(r[i])?r[i]=Array.isArray(t[i])?yn(t[i],[]):{...yn(t[i])}:Np(t[i],qe(e)?{}:e[i],r[i]):r[i]=!wt(t[i],e[i]);return r}var yr=(t,e)=>Np(t,e,yn(e)),Dp=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ye(t)?t:e?t===""?NaN:t&&+t:r&&tt(t)?new Date(t):n?n(t):t;function Xs(t){const e=t.ref;return Tl(e)?e.files:Pl(e)?Rp(t.refs).value:Op(e)?[...e.selectedOptions].map(({value:r})=>r):Yr(e)?kp(t.refs).value:Dp(ye(e.value)?t.ref.value:e.value,t)}var xb=(t,e,r,n)=>{const i={};for(const a of t){const s=P(e,a);s&&ae(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},gr=t=>ye(t)?t:vn(t)?t.source:ge(t)?vn(t.value)?t.value.source:t.value:t;const zd="AsyncFunction";var Cb=t=>!!t&&!!t.validate&&!!(Je(t.validate)&&t.validate.constructor.name===zd||ge(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zd)),Sb=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Gd(t,e,r){const n=P(t,r);if(n||Al(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=P(e,a),o=P(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var wb=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Ab=(t,e)=>!zn(P(t,e)).length&&Ce(t,e);const Ib={mode:ze.onSubmit,reValidateMode:ze.onChange,shouldFocusError:!0};function Tb(t={}){let e={...Ib,...t},r={submitCount:0,isDirty:!1,isLoading:Je(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ge(e.defaultValues)||ge(e.values)?Re(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Re(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ys(),array:Ys(),state:Ys()},m=Ld(e.mode),b=Ld(e.reValidateMode),w=e.criteriaMode===ze.all,g=f=>y=>{clearTimeout(c),c=setTimeout(f,y)},x=async f=>{if(!e.disabled&&(d.isValid||f)){const y=e.resolver?Oe((await V()).errors):await B(n,!0);y!==r.isValid&&h.state.next({isValid:y})}},I=(f,y)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((f||Array.from(o.mount)).forEach(_=>{_&&(y?ae(r.validatingFields,_,y):Ce(r.validatingFields,_))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Oe(r.validatingFields)}))},v=(f,y=[],_,j,T=!0,S=!0)=>{if(j&&_&&!e.disabled){if(s.action=!0,S&&Array.isArray(P(n,f))){const L=_(P(n,f),j.argA,j.argB);T&&ae(n,f,L)}if(S&&Array.isArray(P(r.errors,f))){const L=_(P(r.errors,f),j.argA,j.argB);T&&ae(r.errors,f,L),Ab(r.errors,f)}if(d.touchedFields&&S&&Array.isArray(P(r.touchedFields,f))){const L=_(P(r.touchedFields,f),j.argA,j.argB);T&&ae(r.touchedFields,f,L)}d.dirtyFields&&(r.dirtyFields=yr(i,a)),h.state.next({name:f,isDirty:N(f,y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ae(a,f,y)},C=(f,y)=>{ae(r.errors,f,y),h.state.next({errors:r.errors})},k=f=>{r.errors=f,h.state.next({errors:r.errors,isValid:!1})},E=(f,y,_,j)=>{const T=P(n,f);if(T){const S=P(a,f,ye(_)?P(i,f):_);ye(S)||j&&j.defaultChecked||y?ae(a,f,y?S:Xs(T._f)):ee(f,S),s.mount&&x()}},D=(f,y,_,j,T)=>{let S=!1,L=!1;const H={name:f};if(!e.disabled){const _e=!!(P(n,f)&&P(n,f)._f&&P(n,f)._f.disabled);if(!_||j){d.isDirty&&(L=r.isDirty,r.isDirty=H.isDirty=N(),S=L!==H.isDirty);const ve=_e||wt(P(i,f),y);L=!!(!_e&&P(r.dirtyFields,f)),ve||_e?Ce(r.dirtyFields,f):ae(r.dirtyFields,f,!0),H.dirtyFields=r.dirtyFields,S=S||d.dirtyFields&&L!==!ve}if(_){const ve=P(r.touchedFields,f);ve||(ae(r.touchedFields,f,_),H.touchedFields=r.touchedFields,S=S||d.touchedFields&&ve!==_)}S&&T&&h.state.next(H)}return S?H:{}},R=(f,y,_,j)=>{const T=P(r.errors,f),S=d.isValid&&Ve(y)&&r.isValid!==y;if(e.delayError&&_?(u=g(()=>C(f,_)),u(e.delayError)):(clearTimeout(c),u=null,_?ae(r.errors,f,_):Ce(r.errors,f)),(_?!wt(T,_):T)||!Oe(j)||S){const L={...j,...S&&Ve(y)?{isValid:y}:{},errors:r.errors,name:f};r={...r,...L},h.state.next(L)}},V=async f=>{I(f,!0);const y=await e.resolver(a,e.context,xb(f||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return I(f),y},U=async f=>{const{errors:y}=await V(f);if(f)for(const _ of f){const j=P(y,_);j?ae(r.errors,_,j):Ce(r.errors,_)}else r.errors=y;return y},B=async(f,y,_={valid:!0})=>{for(const j in f){const T=f[j];if(T){const{_f:S,...L}=T;if(S){const H=o.array.has(S.name),_e=T._f&&Cb(T._f);_e&&d.validatingFields&&I([j],!0);const ve=await Hd(T,o.disabled,a,w,e.shouldUseNativeValidation&&!y,H);if(_e&&d.validatingFields&&I([j]),ve[S.name]&&(_.valid=!1,y))break;!y&&(P(ve,S.name)?H?yb(r.errors,ve,S.name):ae(r.errors,S.name,ve[S.name]):Ce(r.errors,S.name))}!Oe(L)&&await B(L,y,_)}}return _.valid},Q=()=>{for(const f of o.unMount){const y=P(n,f);y&&(y._f.refs?y._f.refs.every(_=>!Js(_)):!Js(y._f.ref))&&Ze(f)}o.unMount=new Set},N=(f,y)=>!e.disabled&&(f&&y&&ae(a,f,y),!wt(ct(),i)),M=(f,y,_)=>jp(f,o,{...s.mount?a:ye(y)?i:tt(f)?{[f]:y}:y},_,y),Y=f=>zn(P(s.mount?a:i,f,e.shouldUnregister?P(i,f,[]):[])),ee=(f,y,_={})=>{const j=P(n,f);let T=y;if(j){const S=j._f;S&&(!S.disabled&&ae(a,f,Dp(y,S)),T=mn(S.ref)&&qe(y)?"":y,Op(S.ref)?[...S.ref.options].forEach(L=>L.selected=T.includes(L.value)):S.refs?Yr(S.ref)?S.refs.length>1?S.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(T)?!!T.find(H=>H===L.value):T===L.value)):S.refs[0]&&(S.refs[0].checked=!!T):S.refs.forEach(L=>L.checked=L.value===T):Tl(S.ref)?S.ref.value="":(S.ref.value=T,S.ref.type||h.values.next({name:f,values:{...a}})))}(_.shouldDirty||_.shouldTouch)&&D(f,T,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Ue(f)},ne=(f,y,_)=>{for(const j in y){const T=y[j],S=`${f}.${j}`,L=P(n,S);(o.array.has(f)||ge(T)||L&&!L._f)&&!Ft(T)?ne(S,T,_):ee(S,T,_)}},ce=(f,y,_={})=>{const j=P(n,f),T=o.array.has(f),S=Re(y);ae(a,f,S),T?(h.array.next({name:f,values:{...a}}),(d.isDirty||d.dirtyFields)&&_.shouldDirty&&h.state.next({name:f,dirtyFields:yr(i,a),isDirty:N(f,S)})):j&&!j._f&&!qe(S)?ne(f,S,_):ee(f,S,_),Bd(f,o)&&h.state.next({...r}),h.values.next({name:s.mount?f:void 0,values:{...a}})},Se=async f=>{s.mount=!0;const y=f.target;let _=y.name,j=!0;const T=P(n,_),S=()=>y.type?Xs(T._f):Cp(f),L=H=>{j=Number.isNaN(H)||Ft(H)&&isNaN(H.getTime())||wt(H,P(a,_,H))};if(T){let H,_e;const ve=S(),je=f.type===pn.BLUR||f.type===pn.FOCUS_OUT,rn=!Sb(T._f)&&!e.resolver&&!P(r.errors,_)&&!T._f.deps||wb(je,P(r.touchedFields,_),r.isSubmitted,b,m),Gt=Bd(_,o,je);ae(a,_,ve),je?(T._f.onBlur&&T._f.onBlur(f),u&&u(0)):T._f.onChange&&T._f.onChange(f);const mr=D(_,ve,je,!1),nn=!Oe(mr)||Gt;if(!je&&h.values.next({name:_,type:f.type,values:{...a}}),rn)return d.isValid&&(e.mode==="onBlur"&&je?x():je||x()),nn&&h.state.next({name:_,...Gt?{}:mr});if(!je&&Gt&&h.state.next({...r}),e.resolver){const{errors:We}=await V([_]);if(L(ve),j){const ft=Gd(r.errors,n,_),Zl=Gd(We,n,ft.name||_);H=Zl.error,_=Zl.name,_e=Oe(We)}}else I([_],!0),H=(await Hd(T,o.disabled,a,w,e.shouldUseNativeValidation))[_],I([_]),L(ve),j&&(H?_e=!1:d.isValid&&(_e=await B(n,!0)));j&&(T._f.deps&&Ue(T._f.deps),R(_,_e,H,mr))}},Ie=(f,y)=>{if(P(r.errors,y)&&f.focus)return f.focus(),1},Ue=async(f,y={})=>{let _,j;const T=Ir(f);if(e.resolver){const S=await U(ye(f)?f:T);_=Oe(S),j=f?!T.some(L=>P(S,L)):_}else f?(j=(await Promise.all(T.map(async S=>{const L=P(n,S);return await B(L&&L._f?{[S]:L}:L)}))).every(Boolean),!(!j&&!r.isValid)&&x()):j=_=await B(n);return h.state.next({...!tt(f)||d.isValid&&_!==r.isValid?{}:{name:f},...e.resolver||!f?{isValid:_}:{},errors:r.errors}),y.shouldFocus&&!j&&Tr(n,Ie,f?T:o.mount),j},ct=f=>{const y={...s.mount?a:i};return ye(f)?y:tt(f)?P(y,f):f.map(_=>P(y,_))},Ct=(f,y)=>({invalid:!!P((y||r).errors,f),isDirty:!!P((y||r).dirtyFields,f),error:P((y||r).errors,f),isValidating:!!P(r.validatingFields,f),isTouched:!!P((y||r).touchedFields,f)}),Dt=f=>{f&&Ir(f).forEach(y=>Ce(r.errors,y)),h.state.next({errors:f?r.errors:{}})},$e=(f,y,_)=>{const j=(P(n,f,{_f:{}})._f||{}).ref,T=P(r.errors,f)||{},{ref:S,message:L,type:H,..._e}=T;ae(r.errors,f,{..._e,...y,ref:j}),h.state.next({name:f,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&j&&j.focus&&j.focus()},St=(f,y)=>Je(f)?h.values.subscribe({next:_=>f(M(void 0,y),_)}):M(f,y,!0),Ze=(f,y={})=>{for(const _ of f?Ir(f):o.mount)o.mount.delete(_),o.array.delete(_),y.keepValue||(Ce(n,_),Ce(a,_)),!y.keepError&&Ce(r.errors,_),!y.keepDirty&&Ce(r.dirtyFields,_),!y.keepTouched&&Ce(r.touchedFields,_),!y.keepIsValidating&&Ce(r.validatingFields,_),!e.shouldUnregister&&!y.keepDefaultValue&&Ce(i,_);h.values.next({values:{...a}}),h.state.next({...r,...y.keepDirty?{isDirty:N()}:{}}),!y.keepIsValid&&x()},W=({disabled:f,name:y,field:_,fields:j})=>{(Ve(f)&&s.mount||f||o.disabled.has(y))&&(f?o.disabled.add(y):o.disabled.delete(y),D(y,Xs(_?_._f:P(j,y)._f),!1,!1,!0))},oe=(f,y={})=>{let _=P(n,f);const j=Ve(y.disabled)||Ve(e.disabled);return ae(n,f,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:f}},name:f,mount:!0,...y}}),o.mount.add(f),_?W({field:_,disabled:Ve(y.disabled)?y.disabled:e.disabled,name:f}):E(f,!0,y.value),{...j?{disabled:y.disabled||e.disabled}:{},...e.progressive?{required:!!y.required,min:gr(y.min),max:gr(y.max),minLength:gr(y.minLength),maxLength:gr(y.maxLength),pattern:gr(y.pattern)}:{},name:f,onChange:Se,onBlur:Se,ref:T=>{if(T){oe(f,y),_=P(n,f);const S=ye(T.value)&&T.querySelectorAll&&T.querySelectorAll("input,select,textarea")[0]||T,L=bb(S),H=_._f.refs||[];if(L?H.find(_e=>_e===S):S===_._f.ref)return;ae(n,f,{_f:{..._._f,...L?{refs:[...H.filter(Js),S,...Array.isArray(P(i,f))?[{}]:[]],ref:{type:S.type,name:f}}:{ref:S}}}),E(f,!1,void 0,S)}else _=P(n,f,{}),_._f&&(_._f.mount=!1),(e.shouldUnregister||y.shouldUnregister)&&!(Sp(o.array,f)&&s.action)&&o.unMount.add(f)}}},we=()=>e.shouldFocusError&&Tr(n,Ie,o.mount),le=f=>{Ve(f)&&(h.state.next({disabled:f}),Tr(n,(y,_)=>{const j=P(n,_);j&&(y.disabled=j._f.disabled||f,Array.isArray(j._f.refs)&&j._f.refs.forEach(T=>{T.disabled=j._f.disabled||f}))},0,!1))},ie=(f,y)=>async _=>{let j;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let T=Re(a);if(o.disabled.size)for(const S of o.disabled)ae(T,S,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:S,values:L}=await V();r.errors=S,T=L}else await B(n);if(Ce(r.errors,"root"),Oe(r.errors)){h.state.next({errors:{}});try{await f(T,_)}catch(S){j=S}}else y&&await y({...r.errors},_),we(),setTimeout(we);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oe(r.errors)&&!j,submitCount:r.submitCount+1,errors:r.errors}),j)throw j},se=(f,y={})=>{P(n,f)&&(ye(y.defaultValue)?ce(f,Re(P(i,f))):(ce(f,y.defaultValue),ae(i,f,Re(y.defaultValue))),y.keepTouched||Ce(r.touchedFields,f),y.keepDirty||(Ce(r.dirtyFields,f),r.isDirty=y.defaultValue?N(f,Re(P(i,f))):N()),y.keepError||(Ce(r.errors,f),d.isValid&&x()),h.state.next({...r}))},Fe=(f,y={})=>{const _=f?Re(f):i,j=Re(_),T=Oe(f),S=T?i:j;if(y.keepDefaultValues||(i=_),!y.keepValues){if(y.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(yr(i,a))]);for(const H of Array.from(L))P(r.dirtyFields,H)?ae(S,H,P(a,H)):ce(H,P(S,H))}else{if(wl&&ye(f))for(const L of o.mount){const H=P(n,L);if(H&&H._f){const _e=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(mn(_e)){const ve=_e.closest("form");if(ve){ve.reset();break}}}}n={}}a=e.shouldUnregister?y.keepDefaultValues?Re(i):{}:Re(S),h.array.next({values:{...S}}),h.values.next({values:{...S}})}o={mount:y.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!y.keepIsValid||!!y.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:y.keepSubmitCount?r.submitCount:0,isDirty:T?!1:y.keepDirty?r.isDirty:!!(y.keepDefaultValues&&!wt(f,i)),isSubmitted:y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:T?{}:y.keepDirtyValues?y.keepDefaultValues&&a?yr(i,a):r.dirtyFields:y.keepDefaultValues&&f?yr(i,f):y.keepDirty?r.dirtyFields:{},touchedFields:y.keepTouched?r.touchedFields:{},errors:y.keepErrors?r.errors:{},isSubmitSuccessful:y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(f,y)=>Fe(Je(f)?f(a):f,y);return{control:{register:oe,unregister:Ze,getFieldState:Ct,handleSubmit:ie,setError:$e,_executeSchema:V,_getWatch:M,_getDirty:N,_updateValid:x,_removeUnmounted:Q,_updateFieldArray:v,_updateDisabledField:W,_getFieldArray:Y,_reset:Fe,_resetDefaultValues:()=>Je(e.defaultValues)&&e.defaultValues().then(f=>{Qe(f,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:f=>{r={...r,...f}},_disableForm:le,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(f){s=f},get _defaultValues(){return i},get _names(){return o},set _names(f){o=f},get _formState(){return r},set _formState(f){r=f},get _options(){return e},set _options(f){e={...e,...f}}},trigger:Ue,register:oe,handleSubmit:ie,watch:St,setValue:ce,getValues:ct,reset:Qe,resetField:se,clearErrors:Dt,unregister:Ze,setError:$e,setFocus:(f,y={})=>{const _=P(n,f),j=_&&_._f;if(j){const T=j.refs?j.refs[0]:j.ref;T.focus&&(T.focus(),y.shouldSelect&&Je(T.select)&&T.select())}},getFieldState:Ct}}function Fp(t={}){const e=G.useRef(void 0),r=G.useRef(void 0),[n,i]=G.useState({isDirty:!1,isValidating:!1,isLoading:Je(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Je(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Tb(t),formState:n});const a=e.current.control;return a._options=t,Il({subject:a._subjects.state,next:s=>{Tp(s,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),G.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),G.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),G.useEffect(()=>{t.values&&!wt(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),G.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),G.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),G.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=Ip(n,a),e.current}const Kd=(t,e,r)=>{if(t&&"reportValidity"in t){const n=P(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Qp=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Kd(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>Kd(i,r,t))}},Pb=(t,e)=>{e.shouldUseNativeValidation&&Qp(t,e);const r={};for(const n in t){const i=P(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(jb(e.names||Object.keys(t),n)){const s=Object.assign({},P(r,n));ae(s,"root",a),ae(r,n,s)}else ae(r,n,a)}return r},jb=(t,e)=>{const r=Yd(e);return t.some(n=>Yd(n).match(`^${r}\\.\\d+`))};function Yd(t){return t.replace(/\]|\[/g,"")}function qb(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var u=r[s].types,c=u&&u[n.code];r[s]=qp(s,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r}function Mp(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return a.shouldUseNativeValidation&&Qp({},a),{errors:{},values:r.raw?Object.assign({},n):c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:Pb(qb(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}}var X;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(X||(X={}));var Ro;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ro||(Ro={}));const O=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mt=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},A=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kb=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class De extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const c=s.path[u];u===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}static assert(e){if(!(e instanceof De))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}De.create=t=>new De(t);const ir=(t,e)=>{let r;switch(t.code){case A.invalid_type:t.received===O.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case A.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:r=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case A.invalid_union:r="Invalid input";break;case A.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case A.invalid_enum_value:r=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case A.invalid_arguments:r="Invalid function arguments";break;case A.invalid_return_type:r="Invalid function return type";break;case A.invalid_date:r="Invalid date";break;case A.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case A.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case A.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case A.custom:r="Invalid input";break;case A.invalid_intersection_types:r="Intersection results could not be merged";break;case A.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case A.not_finite:r="Number must be finite";break;default:r=e.defaultError,X.assertNever(t)}return{message:r}};let Vp=ir;function Rb(t){Vp=t}function gn(){return Vp}const _n=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},Ob=[];function q(t,e){const r=gn(),n=_n({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ir?void 0:ir].filter(i=>!!i)});t.common.issues.push(n)}class Pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Z;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Pe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Z;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Z=Object.freeze({status:"aborted"}),Jt=t=>({status:"dirty",value:t}),ke=t=>({status:"valid",value:t}),Oo=t=>t.status==="aborted",Eo=t=>t.status==="dirty",Lt=t=>t.status==="valid",jr=t=>typeof Promise<"u"&&t instanceof Promise;function bn(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Lp(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(F||(F={}));var Sr,wr;class nt{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Jd=(t,e)=>{if(Lt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new De(t.common.issues);return this._error=r,this._error}}};function z(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var u,c;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(u=d??n)!==null&&u!==void 0?u:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:o.defaultError}},description:i}}class K{get description(){return this._def.description}_getType(e){return mt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pe,ctx:{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(jr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Jd(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Lt(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Lt(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(jr(i)?i:Promise.resolve(i));return Jd(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:A.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ye({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rt.create(this,this._def)}nullable(){return qt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ke.create(this)}promise(){return sr.create(this,this._def)}or(e){return Or.create([this,e],this._def)}and(e){return Er.create(this,e,this._def)}transform(e){return new Ye({...z(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Mr({...z(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new jl({typeName:$.ZodBranded,type:this,...z(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Vr({...z(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Jr.create(this,e)}readonly(){return Lr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Eb=/^c[^\s-]{8,}$/i,Nb=/^[0-9a-z]+$/,Db=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qb=/^[a-z0-9_-]{21}$/i,Mb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Lb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eo;const Ub=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$b=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gb=new RegExp(`^${Bp}$`);function Up(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Kb(t){return new RegExp(`^${Up(t)}$`)}function $p(t){let e=`${Bp}T${Up(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Yb(t,e){return!!((e==="v4"||!e)&&Ub.test(t)||(e==="v6"||!e)&&Zb.test(t))}function Jb(t,e){if(!Mb.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Xb(t,e){return!!((e==="v4"||!e)&&$b.test(t)||(e==="v6"||!e)&&Wb.test(t))}class Ge extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){const a=this._getOrReturnCtx(e);return q(a,{code:A.invalid_type,expected:O.string,received:a.parsedType}),Z}const n=new Pe;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:A.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:A.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?q(i,{code:A.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&q(i,{code:A.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Lb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")eo||(eo=new RegExp(Bb,"u")),eo.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Fb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Qb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"nanoid",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Eb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Nb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Db.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:A.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:A.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:A.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:A.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:A.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:A.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?$p(a).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:A.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Gb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:A.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Kb(a).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:A.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Vb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"duration",code:A.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Yb(e.data,a.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:A.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Jb(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"jwt",code:A.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Xb(e.data,a.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cidr",code:A.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Hb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64",code:A.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?zb.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64url",code:A.invalid_string,message:a.message}),n.dirty()):X.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:A.invalid_string,...F.errToObj(n)})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...F.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...F.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...F.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...F.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...F.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...F.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...F.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...F.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...F.errToObj(r)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ge.create=t=>{var e;return new Ge({checks:[],typeName:$.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};function ex(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class Tt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){const a=this._getOrReturnCtx(e);return q(a,{code:A.invalid_type,expected:O.number,received:a.parsedType}),Z}let n;const i=new Pe;for(const a of this._def.checks)a.kind==="int"?X.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:A.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:A.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:A.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?ex(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),q(n,{code:A.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:A.not_finite,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Tt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Tt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Tt.create=t=>new Tt({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Pt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==O.bigint)return this._getInvalidInput(e);let n;const i=new Pe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:A.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:A.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),q(n,{code:A.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):X.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return q(r,{code:A.invalid_type,expected:O.bigint,received:r.parsedType}),Z}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Pt.create=t=>{var e;return new Pt({checks:[],typeName:$.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};class qr extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){const n=this._getOrReturnCtx(e);return q(n,{code:A.invalid_type,expected:O.boolean,received:n.parsedType}),Z}return ke(e.data)}}qr.create=t=>new qr({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Bt extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){const a=this._getOrReturnCtx(e);return q(a,{code:A.invalid_type,expected:O.date,received:a.parsedType}),Z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return q(a,{code:A.invalid_date}),Z}const n=new Pe;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:A.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:A.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):X.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Bt.create=t=>new Bt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate,...z(t)});class xn extends K{_parse(e){if(this._getType(e)!==O.symbol){const n=this._getOrReturnCtx(e);return q(n,{code:A.invalid_type,expected:O.symbol,received:n.parsedType}),Z}return ke(e.data)}}xn.create=t=>new xn({typeName:$.ZodSymbol,...z(t)});class kr extends K{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return q(n,{code:A.invalid_type,expected:O.undefined,received:n.parsedType}),Z}return ke(e.data)}}kr.create=t=>new kr({typeName:$.ZodUndefined,...z(t)});class Rr extends K{_parse(e){if(this._getType(e)!==O.null){const n=this._getOrReturnCtx(e);return q(n,{code:A.invalid_type,expected:O.null,received:n.parsedType}),Z}return ke(e.data)}}Rr.create=t=>new Rr({typeName:$.ZodNull,...z(t)});class ar extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return ke(e.data)}}ar.create=t=>new ar({typeName:$.ZodAny,...z(t)});class Mt extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ke(e.data)}}Mt.create=t=>new Mt({typeName:$.ZodUnknown,...z(t)});class gt extends K{_parse(e){const r=this._getOrReturnCtx(e);return q(r,{code:A.invalid_type,expected:O.never,received:r.parsedType}),Z}}gt.create=t=>new gt({typeName:$.ZodNever,...z(t)});class Cn extends K{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return q(n,{code:A.invalid_type,expected:O.void,received:n.parsedType}),Z}return ke(e.data)}}Cn.create=t=>new Cn({typeName:$.ZodVoid,...z(t)});class Ke extends K{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==O.array)return q(r,{code:A.invalid_type,expected:O.array,received:r.parsedType}),Z;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(q(r,{code:s?A.too_big:A.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(q(r,{code:A.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(q(r,{code:A.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new nt(r,s,r.path,o)))).then(s=>Pe.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new nt(r,s,r.path,o)));return Pe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ke({...this._def,minLength:{value:e,message:F.toString(r)}})}max(e,r){return new Ke({...this._def,maxLength:{value:e,message:F.toString(r)}})}length(e,r){return new Ke({...this._def,exactLength:{value:e,message:F.toString(r)}})}nonempty(e){return this.min(1,e)}}Ke.create=(t,e)=>new Ke({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...z(e)});function Yt(t){if(t instanceof me){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=rt.create(Yt(n))}return new me({...t._def,shape:()=>e})}else return t instanceof Ke?new Ke({...t._def,type:Yt(t.element)}):t instanceof rt?rt.create(Yt(t.unwrap())):t instanceof qt?qt.create(Yt(t.unwrap())):t instanceof it?it.create(t.items.map(e=>Yt(e))):t}class me extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=X.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==O.object){const c=this._getOrReturnCtx(e);return q(c,{code:A.invalid_type,expected:O.object,received:c.parsedType}),Z}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof gt&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const u=[];for(const c of s){const d=a[c],h=i.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new nt(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof gt){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(q(i,{code:A.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=i.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new nt(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const h=await d.key,m=await d.value;c.push({key:h,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>Pe.mergeObjectSync(n,c)):Pe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const u=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=F.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new me({...this._def,unknownKeys:"strip"})}passthrough(){return new me({...this._def,unknownKeys:"passthrough"})}extend(e){return new me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new me({...this._def,catchall:e})}pick(e){const r={};return X.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new me({...this._def,shape:()=>r})}omit(e){const r={};return X.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new me({...this._def,shape:()=>r})}deepPartial(){return Yt(this)}partial(e){const r={};return X.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new me({...this._def,shape:()=>r})}required(e){const r={};return X.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof rt;)a=a._def.innerType;r[n]=a}}),new me({...this._def,shape:()=>r})}keyof(){return Zp(X.objectKeys(this.shape))}}me.create=(t,e)=>new me({shape:()=>t,unknownKeys:"strip",catchall:gt.create(),typeName:$.ZodObject,...z(e)});me.strictCreate=(t,e)=>new me({shape:()=>t,unknownKeys:"strict",catchall:gt.create(),typeName:$.ZodObject,...z(e)});me.lazycreate=(t,e)=>new me({shape:t,unknownKeys:"strip",catchall:gt.create(),typeName:$.ZodObject,...z(e)});class Or extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new De(o.ctx.common.issues));return q(r,{code:A.invalid_union,unionErrors:s}),Z}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(u=>new De(u));return q(r,{code:A.invalid_union,unionErrors:o}),Z}}get options(){return this._def.options}}Or.create=(t,e)=>new Or({options:t,typeName:$.ZodUnion,...z(e)});const pt=t=>t instanceof Dr?pt(t.schema):t instanceof Ye?pt(t.innerType()):t instanceof Fr?[t.value]:t instanceof jt?t.options:t instanceof Qr?X.objectValues(t.enum):t instanceof Mr?pt(t._def.innerType):t instanceof kr?[void 0]:t instanceof Rr?[null]:t instanceof rt?[void 0,...pt(t.unwrap())]:t instanceof qt?[null,...pt(t.unwrap())]:t instanceof jl||t instanceof Lr?pt(t.unwrap()):t instanceof Vr?pt(t._def.innerType):[];class Kn extends K{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.object)return q(r,{code:A.invalid_type,expected:O.object,received:r.parsedType}),Z;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=pt(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Kn({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...z(n)})}}function No(t,e){const r=mt(t),n=mt(e);if(t===e)return{valid:!0,data:t};if(r===O.object&&n===O.object){const i=X.objectKeys(e),a=X.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const u=No(t[o],e[o]);if(!u.valid)return{valid:!1};s[o]=u.data}return{valid:!0,data:s}}else if(r===O.array&&n===O.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],u=No(s,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===O.date&&n===O.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Er extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(Oo(a)||Oo(s))return Z;const o=No(a.value,s.value);return o.valid?((Eo(a)||Eo(s))&&r.dirty(),{status:r.value,value:o.data}):(q(n,{code:A.invalid_intersection_types}),Z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Er.create=(t,e,r)=>new Er({left:t,right:e,typeName:$.ZodIntersection,...z(r)});class it extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.array)return q(n,{code:A.invalid_type,expected:O.array,received:n.parsedType}),Z;if(n.data.length<this._def.items.length)return q(n,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new nt(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Pe.mergeArray(r,s)):Pe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new it({...this._def,rest:e})}}it.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new it({items:t,typeName:$.ZodTuple,rest:null,...z(e)})};class Nr extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return q(n,{code:A.invalid_type,expected:O.object,received:n.parsedType}),Z;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new nt(n,o,n.path,o)),value:s._parse(new nt(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Pe.mergeObjectAsync(r,i):Pe.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof K?new Nr({keyType:e,valueType:r,typeName:$.ZodRecord,...z(n)}):new Nr({keyType:Ge.create(),valueType:e,typeName:$.ZodRecord,...z(r)})}}class Sn extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.map)return q(n,{code:A.invalid_type,expected:O.map,received:n.parsedType}),Z;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,u],c)=>({key:i._parse(new nt(n,o,n.path,[c,"key"])),value:a._parse(new nt(n,u,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of s){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return Z;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of s){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return Z;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}Sn.create=(t,e,r)=>new Sn({valueType:e,keyType:t,typeName:$.ZodMap,...z(r)});class Ut extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.set)return q(n,{code:A.invalid_type,expected:O.set,received:n.parsedType}),Z;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(q(n,{code:A.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(q(n,{code:A.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(u){const c=new Set;for(const d of u){if(d.status==="aborted")return Z;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((u,c)=>a._parse(new nt(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>s(u)):s(o)}min(e,r){return new Ut({...this._def,minSize:{value:e,message:F.toString(r)}})}max(e,r){return new Ut({...this._def,maxSize:{value:e,message:F.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ut.create=(t,e)=>new Ut({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...z(e)});class Xt extends K{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.function)return q(r,{code:A.invalid_type,expected:O.function,received:r.parsedType}),Z;function n(o,u){return _n({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gn(),ir].filter(c=>!!c),issueData:{code:A.invalid_arguments,argumentsError:u}})}function i(o,u){return _n({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gn(),ir].filter(c=>!!c),issueData:{code:A.invalid_return_type,returnTypeError:u}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof sr){const o=this;return ke(async function(...u){const c=new De([]),d=await o._def.args.parseAsync(u,a).catch(b=>{throw c.addIssue(n(u,b)),c}),h=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(h,a).catch(b=>{throw c.addIssue(i(h,b)),c})})}else{const o=this;return ke(function(...u){const c=o._def.args.safeParse(u,a);if(!c.success)throw new De([n(u,c.error)]);const d=Reflect.apply(s,this,c.data),h=o._def.returns.safeParse(d,a);if(!h.success)throw new De([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xt({...this._def,args:it.create(e).rest(Mt.create())})}returns(e){return new Xt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Xt({args:e||it.create([]).rest(Mt.create()),returns:r||Mt.create(),typeName:$.ZodFunction,...z(n)})}}class Dr extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dr.create=(t,e)=>new Dr({getter:t,typeName:$.ZodLazy,...z(e)});class Fr extends K{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return q(r,{received:r.data,code:A.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fr.create=(t,e)=>new Fr({value:t,typeName:$.ZodLiteral,...z(e)});function Zp(t,e){return new jt({values:t,typeName:$.ZodEnum,...z(e)})}class jt extends K{constructor(){super(...arguments),Sr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return q(r,{expected:X.joinValues(n),received:r.parsedType,code:A.invalid_type}),Z}if(bn(this,Sr)||Lp(this,Sr,new Set(this._def.values)),!bn(this,Sr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return q(r,{received:r.data,code:A.invalid_enum_value,options:n}),Z}return ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return jt.create(e,{...this._def,...r})}exclude(e,r=this._def){return jt.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Sr=new WeakMap;jt.create=Zp;class Qr extends K{constructor(){super(...arguments),wr.set(this,void 0)}_parse(e){const r=X.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==O.string&&n.parsedType!==O.number){const i=X.objectValues(r);return q(n,{expected:X.joinValues(i),received:n.parsedType,code:A.invalid_type}),Z}if(bn(this,wr)||Lp(this,wr,new Set(X.getValidEnumValues(this._def.values))),!bn(this,wr).has(e.data)){const i=X.objectValues(r);return q(n,{received:n.data,code:A.invalid_enum_value,options:i}),Z}return ke(e.data)}get enum(){return this._def.values}}wr=new WeakMap;Qr.create=(t,e)=>new Qr({values:t,typeName:$.ZodNativeEnum,...z(e)});class sr extends K{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.promise&&r.common.async===!1)return q(r,{code:A.invalid_type,expected:O.promise,received:r.parsedType}),Z;const n=r.parsedType===O.promise?r.data:Promise.resolve(r.data);return ke(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sr.create=(t,e)=>new sr({type:t,typeName:$.ZodPromise,...z(e)});class Ye extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{q(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Z;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?Z:u.status==="dirty"||r.value==="dirty"?Jt(u.value):u});{if(r.value==="aborted")return Z;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Z:o.status==="dirty"||r.value==="dirty"?Jt(o.value):o}}if(i.type==="refinement"){const s=o=>{const u=i.refinement(o,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Z:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Lt(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Lt(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);X.assertNever(i)}}Ye.create=(t,e,r)=>new Ye({schema:t,typeName:$.ZodEffects,effect:e,...z(r)});Ye.createWithPreprocess=(t,e,r)=>new Ye({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...z(r)});class rt extends K{_parse(e){return this._getType(e)===O.undefined?ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rt.create=(t,e)=>new rt({innerType:t,typeName:$.ZodOptional,...z(e)});class qt extends K{_parse(e){return this._getType(e)===O.null?ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qt.create=(t,e)=>new qt({innerType:t,typeName:$.ZodNullable,...z(e)});class Mr extends K{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===O.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});class Vr extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return jr(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new De(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new De(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Vr.create=(t,e)=>new Vr({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});class wn extends K{_parse(e){if(this._getType(e)!==O.nan){const n=this._getOrReturnCtx(e);return q(n,{code:A.invalid_type,expected:O.nan,received:n.parsedType}),Z}return{status:"valid",value:e.data}}}wn.create=t=>new wn({typeName:$.ZodNaN,...z(t)});const tx=Symbol("zod_brand");class jl extends K{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Jr extends K{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Z:a.status==="dirty"?(r.dirty(),Jt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Z:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Jr({in:e,out:r,typeName:$.ZodPipeline})}}class Lr extends K{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Lt(i)&&(i.value=Object.freeze(i.value)),i);return jr(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Lr.create=(t,e)=>new Lr({innerType:t,typeName:$.ZodReadonly,...z(e)});function Xd(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Wp(t,e={},r){return t?ar.create().superRefine((n,i)=>{var a,s;const o=t(n);if(o instanceof Promise)return o.then(u=>{var c,d;if(!u){const h=Xd(e,n),m=(d=(c=h.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...h,fatal:m})}});if(!o){const u=Xd(e,n),c=(s=(a=u.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...u,fatal:c})}}):ar.create()}const rx={object:me.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const nx=(t,e={message:`Input not instance of ${t.name}`})=>Wp(r=>r instanceof t,e),Hp=Ge.create,zp=Tt.create,ix=wn.create,ax=Pt.create,Gp=qr.create,sx=Bt.create,ox=xn.create,lx=kr.create,ux=Rr.create,cx=ar.create,dx=Mt.create,fx=gt.create,hx=Cn.create,px=Ke.create,mx=me.create,vx=me.strictCreate,yx=Or.create,gx=Kn.create,_x=Er.create,bx=it.create,xx=Nr.create,Cx=Sn.create,Sx=Ut.create,wx=Xt.create,Ax=Dr.create,Ix=Fr.create,Tx=jt.create,Px=Qr.create,jx=sr.create,ef=Ye.create,qx=rt.create,kx=qt.create,Rx=Ye.createWithPreprocess,Ox=Jr.create,Ex=()=>Hp().optional(),Nx=()=>zp().optional(),Dx=()=>Gp().optional(),Fx={string:t=>Ge.create({...t,coerce:!0}),number:t=>Tt.create({...t,coerce:!0}),boolean:t=>qr.create({...t,coerce:!0}),bigint:t=>Pt.create({...t,coerce:!0}),date:t=>Bt.create({...t,coerce:!0})},Qx=Z;var An=Object.freeze({__proto__:null,defaultErrorMap:ir,setErrorMap:Rb,getErrorMap:gn,makeIssue:_n,EMPTY_PATH:Ob,addIssueToContext:q,ParseStatus:Pe,INVALID:Z,DIRTY:Jt,OK:ke,isAborted:Oo,isDirty:Eo,isValid:Lt,isAsync:jr,get util(){return X},get objectUtil(){return Ro},ZodParsedType:O,getParsedType:mt,ZodType:K,datetimeRegex:$p,ZodString:Ge,ZodNumber:Tt,ZodBigInt:Pt,ZodBoolean:qr,ZodDate:Bt,ZodSymbol:xn,ZodUndefined:kr,ZodNull:Rr,ZodAny:ar,ZodUnknown:Mt,ZodNever:gt,ZodVoid:Cn,ZodArray:Ke,ZodObject:me,ZodUnion:Or,ZodDiscriminatedUnion:Kn,ZodIntersection:Er,ZodTuple:it,ZodRecord:Nr,ZodMap:Sn,ZodSet:Ut,ZodFunction:Xt,ZodLazy:Dr,ZodLiteral:Fr,ZodEnum:jt,ZodNativeEnum:Qr,ZodPromise:sr,ZodEffects:Ye,ZodTransformer:Ye,ZodOptional:rt,ZodNullable:qt,ZodDefault:Mr,ZodCatch:Vr,ZodNaN:wn,BRAND:tx,ZodBranded:jl,ZodPipeline:Jr,ZodReadonly:Lr,custom:Wp,Schema:K,ZodSchema:K,late:rx,get ZodFirstPartyTypeKind(){return $},coerce:Fx,any:cx,array:px,bigint:ax,boolean:Gp,date:sx,discriminatedUnion:gx,effect:ef,enum:Tx,function:wx,instanceof:nx,intersection:_x,lazy:Ax,literal:Ix,map:Cx,nan:ix,nativeEnum:Px,never:fx,null:ux,nullable:kx,number:zp,object:mx,oboolean:Dx,onumber:Nx,optional:qx,ostring:Ex,pipeline:Ox,preprocess:Rx,promise:jx,record:xx,set:Sx,strictObject:vx,string:Hp,symbol:ox,transformer:ef,tuple:bx,undefined:lx,union:yx,unknown:dx,void:hx,NEVER:Qx,ZodIssueCode:A,quotelessJson:kb,ZodError:De}),Mx="Label",Kp=p.forwardRef((t,e)=>l.jsx(xe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Kp.displayName=Mx;var Yp=Kp;const Vx=Gf({base:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}),ql=p.forwardRef(({className:t,...e},r)=>l.jsx(Yp,{ref:r,className:ue(Vx(),t),...e}));ql.displayName=Yp.displayName;ql.__docgenInfo={description:"",methods:[]};const Jp=fb,Xp=p.createContext({}),kl=({...t})=>l.jsx(Xp.Provider,{value:{name:t.name},children:l.jsx(vb,{...t})}),Yn=()=>{const t=p.useContext(Xp),e=p.useContext(em),{getFieldState:r,formState:n}=Gn(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},em=p.createContext({}),Jn=p.forwardRef(({className:t,...e},r)=>{const n=p.useId();return l.jsx(em.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:ue("space-y-1",t),...e})})});Jn.displayName="FormItem";const Xn=p.forwardRef(({className:t,...e},r)=>{const{formItemId:n}=Yn();return l.jsx(ql,{ref:r,className:t,htmlFor:n,...e})});Xn.displayName="FormLabel";const ei=p.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=Yn();return l.jsx(Uo,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});ei.displayName="FormControl";const tm=p.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Yn();return l.jsx("p",{ref:r,id:n,className:ue("text-sm text-muted-foreground",t),...e})});tm.displayName="FormDescription";const ti=p.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=Yn(),s=i?String(i==null?void 0:i.message):e;return s?l.jsx("p",{ref:n,id:a,className:ue("text-sm font-medium text-destructive",t),...r,children:s}):null});ti.displayName="FormMessage";Jn.__docgenInfo={description:"",methods:[],displayName:"FormItem"};Xn.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};ei.__docgenInfo={description:"",methods:[],displayName:"FormControl"};tm.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};ti.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};kl.__docgenInfo={description:"",methods:[],displayName:"FormField"};const Lx=An.object({title:An.string()});function rm({open:t,onOpenChange:e,query:r}){const[n,i]=p.useState(!1),a=de(),s=Fp({resolver:Mp(Lx),values:{title:""}}),o=async u=>(i(!0),Promise.resolve(r.saveAsCustomPill(u.title)).then(()=>e(!1)).finally(()=>i(!1)));return l.jsx(qn,{open:t,onOpenChange:e,children:l.jsxs(kn,{children:[l.jsx(Rn,{children:l.jsx(On,{children:a.queryBar.saveDialog.title})}),l.jsx(Jp,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6",children:[l.jsx(kl,{control:s.control,name:"title",render:({field:u})=>l.jsxs(Jn,{children:[l.jsx(Xn,{children:a.queryBar.saveDialog.fields.title.label}),l.jsx(ei,{children:l.jsx(Ho,{placeholder:a.queryBar.saveDialog.fields.title.placeholder,...u})}),l.jsx(ti,{})]})}),l.jsx("div",{className:"text-sm",children:a.queryBar.saveDialog.notice}),l.jsxs(En,{children:[l.jsx(Nn,{asChild:!0,children:l.jsx(Te,{variant:"outlined",children:a.queryBar.saveDialog.cancel})}),l.jsx(Te,{type:"submit",color:"primary",loading:n,children:a.queryBar.saveDialog.ok})]})]})})]})})}rm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function nm(){const{query:t}=Be(),e=de(),[r,n]=p.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ne,{icon:Xf,onClick:()=>n(!0),disabled:t.hasCustomPill()})}),l.jsx(lt,{className:"max-w-[200px]",children:t.hasCustomPill()?e.queryBar.customPill.cannotSaveAsCustomPill:e.queryBar.customPill.createTooltip})]}),l.jsx(rm,{open:r,onOpenChange:n,query:t})]})}nm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function im(){const{customPillConfig:t}=pe();return l.jsxs("div",{className:`
flex gap-2 items-center py-2 px-4 border-r border-t border-b 
border-gray-400 bg-gray-100
group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
`,onClick:e=>e.stopPropagation(),children:[(t==null?void 0:t.enable)&&l.jsx(nm,{}),l.jsx(lp,{}),l.jsx(bp,{})]})}im.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};const to=[{symbol:"K",value:1e3},{symbol:"M",value:1e6},{symbol:"G",value:1e9},{symbol:"T",value:1e12},{symbol:"P",value:1e15},{symbol:"E",value:1e18}],Bx=[1,2,3,4],Ux=/\.0+$|(\.[0-9]*[1-9])0+$/;function $x(t){switch(t.toString().length){case 5:case 7:return 1;default:return 0}}function Zx(t,e=0){if(!t)return 0;const r=localStorage.getItem("locale")==="fr"?"fr-CA":"en-US";let n;return e=e||$x(t),Bx.includes(t.toString().length)?t.toLocaleString(r):(to.forEach((i,a)=>{if(t>=i.value)return n=a,!1}),(t/to[n].value).toFixed(e).replace(Ux,"$1")+to[n].symbol)}function am(){const{queryBuilder:t,queryCountIcon:e,fetchQueryCount:r}=pe(),{query:n}=Be(),i=p.useRef(null),[a,s]=p.useState(0),[o,u]=p.useState(!0);return p.useEffect(()=>{if(t.getRawQueries().find(c=>c.id===n.id)){const c=i.current,d=ll(n.raw(),t.getRawQueries());(!i.current||!Fh(c,d))&&(i.current=d,u(!0),r(d).then(s).finally(()=>{u(!1)}))}},[r,n.raw(),t.getRawQueries()]),l.jsx("div",{className:"flex items-center gap-1",children:o?l.jsx(Qv,{}):l.jsxs(l.Fragment,{children:[e,l.jsx("span",{className:"font-medium",children:Zx(a)})]})})}am.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function sm(){const{query:t}=Be();return t.isSelectable()?l.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-gray-400 bg-gray-100
      group-data-[query-active=true]/query:border-[--query-bar-border-color-active]
      group-data-[query-active=true]/query:bg-[--query-bar-bg-active]
      `,children:[l.jsx(Zv,{size:"sm",checked:t.isSelected(),onClick:e=>{e.stopPropagation(),t.toggleSelect(!t.isSelected())}}),l.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}sm.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};function om({type:t,size:e,className:r}){switch(t){case he.GreaterThan:return l.jsx(Kv,{size:e,className:r});case he.GreaterThanOrEqualTo:return l.jsx(Gv,{size:e,className:r});case he.LessThan:return l.jsx(zv,{size:e,className:r});case he.LessThanOrEqualTo:return l.jsx(Hv,{size:e,className:r});case he.Between:return l.jsx(zo,{size:e,className:r});case he.NotIn:default:return l.jsx(Wv,{size:e,className:r})}}om.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperator",props:{size:{required:!1,tsType:{name:"number"},description:""},type:{required:!0,tsType:{name:"union",raw:"SqonOpEnum | (string & {})",elements:[{name:"SqonOpEnum"},{name:"unknown"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var ro,tf;function lm(){if(tf)return ro;tf=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return ro=t,ro}var no,rf;function Wx(){if(rf)return no;rf=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return no=e,no}var io,nf;function Hx(){if(nf)return io;nf=1;var t=Wx(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return io=r,io}var ao,af;function um(){if(af)return ao;af=1;var t=cr(),e=bt(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return ao=n,ao}var so,sf;function zx(){if(sf)return so;sf=1;var t=Hx(),e=_t(),r=um(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=a.test(c);return h||s.test(c)?o(c.slice(2),h?2:8):i.test(c)?n:+c}return so=u,so}var oo,of;function Gx(){if(of)return oo;of=1;var t=zx(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return oo=n,oo}var lo,lf;function Kx(){if(lf)return lo;lf=1;var t=Gx();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return lo=e,lo}var uo,uf;function Yx(){if(uf)return uo;uf=1;var t=lm(),e=Kx();function r(n,i,a){return n&&n.length?(i=a||i===void 0?1:e(i),t(n,0,i<0?0:i)):[]}return uo=r,uo}var Jx=Yx();const Xx=Zt(Jx);function cm({className:t,...e}){return l.jsx("span",{className:t,...e,children:"&"})}cm.__docgenInfo={description:"",methods:[],displayName:"IntersectionOperator"};function dm({className:t,...e}){return l.jsx("span",{className:t,...e,children:","})}dm.__docgenInfo={description:"",methods:[],displayName:"UnionOperator"};function Xr({canExpand:t,className:e,classNameContent:r,children:n,onClick:i,...a}){return l.jsx("div",{className:ue("bg-white rounded-sm pl-2 text-xs font-medium leading-5 relative",t?"pr-[22px]":"pr-2",e),...a,children:l.jsx("div",{onClick:i,className:ue("flex flex-wrap items-center",i?"hover:shadow-[inset_0_-4px_0_-2.5px_black] hover:cursor-pointer":"",r),children:n})})}Xr.__docgenInfo={description:"",methods:[],displayName:"QueryPillValuesContainer",props:{canExpand:{required:!1,tsType:{name:"boolean"},description:""},classNameContent:{required:!1,tsType:{name:"string"},description:""}}};function ri({valueFilter:t,...e}){const[r,n]=p.useState(!1),i=t.content.value.length>3,a=r?t.content.value:Xx(t.content.value,3);return l.jsxs(Xr,{canExpand:i,...e,children:[t.content.overrideValuesName?l.jsx("div",{children:l.jsx("span",{children:t.content.overrideValuesName})}):a.map((s,o)=>l.jsxs("div",{children:[l.jsx("span",{children:s}),a.length-1>o&&(t.op===he.All?l.jsx(cm,{className:"px-1"}):l.jsx(dm,{className:"px-1"}))]},`${s}-${o}`)),i&&l.jsx("div",{className:"absolute right-1 hover:cursor-pointer",children:r?l.jsx(ty,{size:16,onClick:s=>{s.preventDefault(),n(!1)}}):l.jsx(Nv,{size:16,onClick:s=>{s.preventDefault(),n(!0)}})})]})}ri.__docgenInfo={description:"",methods:[],displayName:"QueryPillValues",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function hr({children:t,className:e,onRemovePill:r,...n}){return l.jsxs("div",{className:ue("flex items-center rounded-sm p-[2px] bg-gray-300 group-data-[query-active=true]/query:bg-[--query-pill-bg-active]",e),...n,children:[t,l.jsx(Ne,{icon:$v,variant:"link",className:"pr-[2px] pl-[4px] py-[2px] size-auto",onClick:i=>{i.stopPropagation(),r()}})]})}hr.__docgenInfo={description:"",methods:[],displayName:"QueryPillContainer",props:{onRemovePill:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function Rl({valueFilter:t,operator:e,className:r,...n}){const i=de(),{showLabels:a}=pe();return l.jsx("div",{className:ue("flex items-center",r),...n,children:(a||t_(t)||r_(t))&&l.jsxs(l.Fragment,{children:[l.jsx(El,{children:i.queryPill.facet(t.content.field)}),l.jsx(Ol,{children:e})]})})}const Ol=({className:t,children:e,...r})=>l.jsx("span",{className:ue("ml-[2px] mr-[4px]",t),...r,children:e});function El({className:t,children:e,...r}){return l.jsx("span",{className:ue("ml-[4px] mr-[2px] text-xs font-medium",t),...r,children:e})}Ol.__docgenInfo={description:"",methods:[],displayName:"QueryPillOperatorContainer"};El.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelContainer"};Rl.__docgenInfo={description:"",methods:[],displayName:"QueryPillLabelOperator",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},operator:{required:!0,tsType:{name:"ReactNode"},description:""}}};function Nl({valueFilter:t,customPillEditEnabled:e}){var u;const{query:r}=Be(),{queryPillFacetFilterConfig:n}=pe(),[i,a]=p.useState(),s=!!(!e&&(n!=null&&n.enable)&&!((u=n==null?void 0:n.blacklistedFacets)!=null&&u.includes(t.content.field))),o=p.useCallback(()=>{n!=null&&n.onFacetClick&&!i&&a(n.onFacetClick(t))},[i,n==null?void 0:n.onFacetClick]);return l.jsxs(hr,{onRemovePill:()=>r.removePillByFieldOrIndex(t.content.field),children:[l.jsx(Rl,{valueFilter:t,operator:l.jsx(om,{size:14,type:t.op})}),l.jsx(Mv,{condition:s,wrapper:c=>l.jsxs(_p,{children:[l.jsx(Cl,{asChild:!0,onClick:o,children:c}),l.jsx(Hn,{align:"start",children:i})]}),children:l.jsx(ri,{valueFilter:t})})]})}Nl.__docgenInfo={description:"",methods:[],displayName:"QueryPillField",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};function fm(){return l.jsx("div",{children:"QueryPillRemoteComponent"})}fm.__docgenInfo={description:"",methods:[],displayName:"QueryPillRemoteComponent"};function hm({valueFilter:t}){const{query:e}=Be();return l.jsxs(hr,{onRemovePill:()=>e.removePillByFieldOrIndex(t.content.field),children:[l.jsx(Rl,{valueFilter:t,operator:l.jsx(zo,{size:14,type:t.op})}),l.jsx(ri,{valueFilter:t})]})}hm.__docgenInfo={description:"",methods:[],displayName:"QueryPillUploadList",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};var co,cf;function eC(){if(cf)return co;cf=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return co=t,co}var fo,df;function tC(){if(df)return fo;df=1;var t=ur(),e=eC(),r=Rt(),n=um(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return fo=s,fo}var ho,ff;function pm(){if(ff)return ho;ff=1;var t=tC();function e(r){return r==null?"":t(r)}return ho=e,ho}var po,hf;function rC(){if(hf)return po;hf=1;var t=lm();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return po=e,po}var mo,pf;function mm(){if(pf)return mo;pf=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function u(c){return o.test(c)}return mo=u,mo}var vo,mf;function nC(){if(mf)return vo;mf=1;function t(e){return e.split("")}return vo=t,vo}var yo,vf;function iC(){if(vf)return yo;vf=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+u+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=c+"?",g="["+a+"]?",x="(?:"+b+"(?:"+[d,h,m].join("|")+")"+g+w+")*",I=g+w+x,v="(?:"+[d+o+"?",o,h,m,s].join("|")+")",C=RegExp(u+"(?="+u+")|"+v+I,"g");function k(E){return E.match(C)||[]}return yo=k,yo}var go,yf;function aC(){if(yf)return go;yf=1;var t=nC(),e=mm(),r=iC();function n(i){return e(i)?r(i):t(i)}return go=n,go}var _o,gf;function sC(){if(gf)return _o;gf=1;var t=rC(),e=mm(),r=aC(),n=pm();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,u=o?o[0]:s.charAt(0),c=o?t(o,1).join(""):s.slice(1);return u[a]()+c}}return _o=i,_o}var bo,_f;function oC(){if(_f)return bo;_f=1;var t=sC(),e=t("toUpperCase");return bo=e,bo}var xo,bf;function lC(){if(bf)return xo;bf=1;var t=pm(),e=oC();function r(n){return e(t(n).toLowerCase())}return xo=r,xo}var uC=lC();const Do=Zt(uC);function vm({valueFilter:t}){const{query:e}=Be(),r=de();return l.jsxs(hr,{onRemovePill:()=>e.removePillByFieldOrIndex(t.content.field),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(El,{children:t.content.index?Do(t.content.index):r.queryPill.facet(t.content.field)}),l.jsx(Ol,{children:l.jsx(zo,{size:14})})]}),l.jsx(Xr,{children:l.jsx(ri,{valueFilter:t})})]})}vm.__docgenInfo={description:"",methods:[],displayName:"QueryPillSet",props:{valueFilter:{required:!0,tsType:{name:"IValueFilter"},description:""}}};function ym({refIndex:t}){const{query:e}=Be(),{getQueryReferenceColor:r}=pe(),n=r(t);return l.jsx(hr,{onRemovePill:()=>e.removePillByFieldOrIndex(t),children:l.jsx(Xr,{children:l.jsx("span",{style:{color:n},children:`Q${t+1}`})})})}ym.__docgenInfo={description:"",methods:[],displayName:"QueryPillReference",props:{refIndex:{required:!0,tsType:{name:"number"},description:""}}};const gm=({children:t,icon:e=Go,onChangeText:r,...n})=>{const[i,a]=p.useState(!1);return l.jsx("div",{...n,children:i?l.jsx(Ho,{defaultValue:t,autoFocus:!0,onBlur:s=>{a(!1),r==null||r(s.currentTarget.value)},className:"max-w-96 w-full",onKeyUp:s=>{s.key==="Enter"&&(a(!1),r==null||r(s.currentTarget.value))}}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:t}),l.jsx(Ne,{icon:e,onClick:()=>a(!0)})]})})};gm.__docgenInfo={description:"",methods:[],displayName:"EditableText",props:{icon:{required:!1,tsType:{name:"ReactForwardRefExoticComponent",raw:`React.ForwardRefExoticComponent<
  Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>
>`,elements:[{name:"intersection",raw:'Omit<LucideProps, "ref"> & React.RefAttributes<SVGSVGElement>',elements:[{name:"Omit",elements:[{name:"LucideProps"},{name:"literal",value:'"ref"'}],raw:'Omit<LucideProps, "ref">'},{name:"ReactRefAttributes",raw:"React.RefAttributes<SVGSVGElement>",elements:[{name:"SVGSVGElement"}]}]}]},description:"",defaultValue:{value:"PencilLineIcon",computed:!0}},children:{required:!0,tsType:{name:"string"},description:""},onChangeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""}}};function _m(t,e){lr.open({type:"warning",title:e.savedFilter.deleteDialog.title,description:e.savedFilter.deleteDialog.description,cancelProps:{children:e.savedFilter.deleteDialog.cancel},actionProps:{color:"destructive",onClick:()=>t.delete(),children:e.savedFilter.deleteDialog.ok}})}function bm(t,e){lr.open({type:"warning",title:e.savedFilter.overwriteDialog.title,description:e.savedFilter.overwriteDialog.description,cancelProps:{children:e.savedFilter.overwriteDialog.cancel},actionProps:{onClick:()=>t.createSavedFilter(),children:e.savedFilter.overwriteDialog.ok}})}function cC(t){lr.open({type:"error",title:t.queryPill.customPill.cantBeEmptyDialog.title,description:t.queryPill.customPill.cantBeEmptyDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.cantBeEmptyDialog.ok}})}function dC(t){lr.open({type:"error",title:t.queryPill.customPill.titleExistsDialog.title,description:t.queryPill.customPill.titleExistsDialog.description,hideCancel:!0,actionProps:{children:t.queryPill.customPill.titleExistsDialog.ok}})}function fC(t,e,r,n){lr.open({type:"warning",title:t.queryPill.customPill.saveDialog.title,description:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:t.queryPill.customPill.saveDialog.confirmationMessage.replace("{title}",e)}),(r==null?void 0:r.length)&&l.jsxs("div",{className:"border rounded p-4 space-y-2",children:[l.jsx("div",{className:"font-medium text-black",children:t.queryPill.customPill.saveDialog.affectedFilters}),l.jsx("ul",{className:"list-disc list-inside",children:r.map(i=>l.jsx("li",{className:"list-item",children:i.title}))})]})]}),cancelProps:{children:t.queryPill.customPill.saveDialog.cancel},actionProps:{children:t.queryPill.customPill.saveDialog.ok,onClick:async i=>(i.preventDefault(),n())}})}function xm({open:t,onOpenChange:e,queryPill:r}){const n=de(),{queryBuilder:i,customPillConfig:a}=pe(),s=Lh({id:a==null?void 0:a.queryBuilderEditId,initialState:{activeQueryId:r.queries[0].id,queries:r.queries,savedFilters:[r],selectedQueryIndexes:[]},onCustomPillUpdate:async I=>{var C,k;return await Promise.resolve((k=(C=i.coreProps).onCustomPillUpdate)==null?void 0:k.call(C,I)).then(E=>(i.setState(D=>({...D,queries:d_(D.queries,I)})),e(!1),E))}}),[o,u]=p.useState(r.title),[c,d]=p.useState(!1),h=s.getQueries()[0],m=s.getSelectedSavedFilter(),b=o!==r.title,w=b||(m==null?void 0:m.isDirty()),g=p.useCallback(I=>{I?e(!0):(s.reset(),e(!1))},[e,s]),x=p.useCallback(async()=>{if(h.isEmpty()){cC(n);return}if(d(!0),b){const v=await(a==null?void 0:a.validateCustomPillTitle(o));if(v!==void 0&&v===!1){d(!1),dC(n);return}}const I=await(a==null?void 0:a.fetchSavedFiltersByCustomPillId(r.id).finally(()=>d(!1)));fC(n,o,I,async()=>m==null?void 0:m.save(zt.Query,{title:o}))},[h,m,n,o,r.id,a]);return l.jsx(qn,{open:t,onOpenChange:g,children:l.jsx(_l.Provider,{value:{queryBuilder:s,fetchQueryCount:async()=>0,getQueryReferenceColor:()=>"",showLabels:!0},children:l.jsxs(kn,{className:"flex flex-row gap-0 h-screen w-screen max-w-screen rounded-none border-none sm:rounded-none p-0",children:[l.jsx("aside",{className:"flex flex-col min-w-48 bg-primary",children:l.jsx("span",{className:"italic",children:"TODO Insert filters"})}),l.jsx("div",{className:"w-full bg-gray-100",children:l.jsxs("div",{className:"flex flex-col bg-white gap-6 p-6",children:[l.jsx(Rn,{children:l.jsx(On,{children:n.queryPill.customPill.editDialog.title})}),l.jsx(Dv,{}),l.jsx("div",{children:l.jsx(gm,{onChangeText:u,children:o})}),l.jsx("div",{"data-query-active":!0,className:"flex flex-wrap group/query",children:l.jsx(bl.Provider,{value:{query:h},children:l.jsx(ni,{sqon:h.raw(),customPillEditEnabled:!0})})}),l.jsxs(En,{className:"mt-5",children:[l.jsx(Nn,{asChild:!0,children:l.jsx(Te,{variant:"outlined",children:n.queryPill.customPill.editDialog.cancel})}),l.jsx(Te,{type:"submit",color:"primary",loading:c,disabled:!w,onClick:x,children:n.queryPill.customPill.editDialog.ok})]})]})})]})})})}xm.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustomEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},queryPill:{required:!0,tsType:{name:"ISavedFilter"},description:""}}};function Cm({valueQuery:t}){const{query:e}=Be(),[r,n]=p.useState(!1),{title:i,...a}=t,s={id:t.id,title:t.title,queries:[a],favorite:!1};return l.jsxs(l.Fragment,{children:[l.jsx(hr,{onRemovePill:()=>e.removePillById(t.id),children:l.jsxs(Xr,{className:"pr-1",classNameContent:"space-x-1",children:[l.jsx("span",{children:t.title}),l.jsx(Ne,{icon:Go,size:"xs",className:"size-auto p-[2px]",onClick:()=>n(!0)})]})}),r&&l.jsx(xm,{open:r,onOpenChange:n,queryPill:s})]})}Cm.__docgenInfo={description:"",methods:[],displayName:"QueryPillCustom",props:{valueQuery:{required:!0,tsType:{name:"IValueQuery"},description:""}}};function Sm({groupFilter:t}){const e={},r=p.useMemo(()=>(t.content.forEach(n=>{e.hasOwnProperty(n.content.field)?(e[n.content.field]=yt(e[n.content.field]),e[n.content.field].content.value=e[n.content.field].content.value.concat(n.content.value),n.op===fn.In&&t.op===Le.And&&t.skipBooleanOperatorCheck&&(e[n.content.field].op=fn.All)):e[n.content.field]=yt(n)}),{...t,content:Object.entries(e).map(n=>n[1])}),[t]);return l.jsx(Nl,{valueFilter:r.content[0]})}Sm.__docgenInfo={description:"",methods:[],displayName:"QueryPillIsolatedBoolean",props:{groupFilter:{required:!0,tsType:{name:"ISqonGroupFilter"},description:""}}};function wm({className:t,...e}){const r=de();return l.jsx("span",{className:ue("",t),...e,children:r.queryPill.operator.and})}wm.__docgenInfo={description:"",methods:[],displayName:"AndOperator"};function Am({className:t,...e}){const r=de();return l.jsx("span",{className:ue("",t),...e,children:r.queryPill.operator.or})}Am.__docgenInfo={description:"",methods:[],displayName:"OrOperator"};function Im(){const{query:t}=Be(),e=de(),r=t.raw().op===Le.And;return l.jsx("div",{className:"px-2",onClick:n=>n.stopPropagation(),children:l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Te,{variant:"link",className:"text-sm p-0 h-auto font-normal",onClick:()=>t.changeCombineOperator(r?Le.Or:Le.And),children:r?l.jsx(wm,{}):l.jsx(Am,{})})}),l.jsxs(lt,{children:[e.queryPill.operator.changeOperatorTo,' "',r?e.queryPill.operator.or:e.queryPill.operator.and,'"']})]})})}Im.__docgenInfo={description:"",methods:[],displayName:"QueryCombiner"};function ni({sqon:t,customPillEditEnabled:e}){return l.jsx(l.Fragment,{children:t.content.map((r,n)=>l.jsxs("div",{className:"flex items-center py-[2px]",children:[r.skipBooleanOperatorCheck?l.jsx(Sm,{groupFilter:r}):n_(r)?l.jsx(Cm,{valueQuery:r}):Ht(r)?l.jsx(ni,{sqon:r}):dr(r)?l.jsx(ym,{refIndex:r}):Jg(r)?l.jsx(vm,{valueFilter:r}):Xg(r)?l.jsx(hm,{valueFilter:r}):e_(r)?l.jsx(fm,{}):l.jsx(Nl,{valueFilter:r,customPillEditEnabled:e}),hC(t.content,n)&&l.jsx(Im,{})]},n))})}const hC=(t,e)=>t.length-1>e;ni.__docgenInfo={description:"",methods:[],displayName:"QueryPillBoolean",props:{sqon:{required:!0,tsType:{name:"ISyntheticSqon"},description:""},customPillEditEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};const pC=Gf({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-[--query-bar-border-color-active] bg-[--query-bar-bg-active]"],false:["border-gray-400 bg-gray-100"]}},defaultVariants:{active:!1}});function Tm({query:t}){const e=t.isActive(),r=de(),{enableCombine:n}=pe(),i=()=>{e||t.setAsActive()};return l.jsx(bl.Provider,{value:{query:t},children:l.jsxs("div",{"data-query-active":e,className:"flex group/query",onClick:i,children:[l.jsx(op,{}),n&&l.jsx(sm,{}),l.jsx("div",{className:pC({active:e}),children:l.jsx("div",{className:"flex-1",children:t.isEmpty()?l.jsx(l.Fragment,{children:r.queryBar.empty}):l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1",children:Ht(t.raw())&&l.jsx("div",{className:"flex items-center flex-wrap pr-2",children:l.jsx(ni,{sqon:t.raw()})})}),l.jsx(am,{})]})})}),t.isNotEmpty()&&l.jsx(im,{})]})})}Tm.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function Pm(){const t=de(),{queryBuilder:e}=pe(),r=p.useCallback(()=>{lr.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{color:"destructive",onClick:()=>e.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[e,t]);return e.getQueries().length>1?l.jsx(Te,{variant:"link",size:"xs",className:"no-underline enabled:hover:no-underline",onClick:r,children:t.toolbar.clearAll}):null}Pm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function jm(){const t=de(),{queryBuilder:e,enableCombine:r}=pe();return e.canCombine()&&r?l.jsx(Fv,{actions:[{label:Do(t.queryPill.operator.and),onClick:()=>e.combineSelectedQueries(Le.And)},{label:Do(t.queryPill.operator.or),onClick:()=>e.combineSelectedQueries(Le.Or)}],onDefaultAction:()=>e.combineSelectedQueries(Le.And),size:"xs",color:"primary",children:t.toolbar.combine}):null}jm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function qm(){const t=de(),{queryBuilder:e}=pe();return e.canCombine()?null:l.jsxs(Te,{size:"xs",color:"primary",disabled:e.hasEmptyQuery(),onClick:()=>e.createQuery({op:Le.And,content:[]}),children:[l.jsx(Jf,{}),t.toolbar.newQuery]})}qm.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function km(){const t=de(),{queryBuilder:e,enableShowHideLabels:r,showLabels:n,toggleLabels:i}=pe();return!e.canCombine()&&r?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Jv,{size:"xs",checked:n,onCheckedChange:i})," ",t.toolbar.labels]}):null}km.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function Rm(){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(qm,{}),l.jsx(jm,{}),l.jsx(km,{})]}),l.jsx("div",{children:l.jsx(Pm,{})})]})}Rm.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function Om(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?bm(e,t):r==null||r.duplicate()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Yf,disabled:(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:t.savedFilter.duplicateTooltip})]})}Om.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function Em(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=function(){r!=null&&r.isDirty()?bm(e,t):e.createSavedFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Jf,onClick:n,disabled:(r==null?void 0:r.isNew())||!r})})}),l.jsx(lt,{children:t.savedFilter.newFilter})]})}Em.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function Nm(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=r?!r.isDirty():e.isEmpty(),i=function(){r?r.save(zt.Filter):e.saveNewFilter()};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Xf,disabled:n,className:r!=null&&r.isDirty()?"text-gold-500":"",onClick:i})})}),l.jsx(lt,{children:e.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:r!=null&&r.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}Nm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Dm(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter();return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Hf,disabled:(r==null?void 0:r.isNew())||!r,onClick:()=>_m(r,t)})})}),l.jsx(lt,{children:t.savedFilter.deleteTooltip})]})}Dm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function Fm(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter(),n=function(){};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(Ne,{icon:Vv,disabled:(r==null?void 0:r.isDirty())||(r==null?void 0:r.isNew())||!r,onClick:n})})}),l.jsx(lt,{children:r!=null&&r.isDirty()||!r?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}Fm.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};function xf(t,[e,r]){return Math.min(r,Math.max(e,t))}var mC=[" ","Enter","ArrowUp","ArrowDown"],vC=[" ","Enter"],en="Select",[ii,ai,yC]=Df(en),[pr,Ww]=Pn(en,[yC,jn]),si=jn(),[gC,Et]=pr(en),[_C,bC]=pr(en),Qm=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:u,dir:c,name:d,autoComplete:h,disabled:m,required:b,form:w}=t,g=si(e),[x,I]=p.useState(null),[v,C]=p.useState(null),[k,E]=p.useState(!1),D=Ff(c),[R=!1,V]=tr({prop:n,defaultProp:i,onChange:a}),[U,B]=tr({prop:s,defaultProp:o,onChange:u}),Q=p.useRef(null),N=x?w||!!x.closest("form"):!0,[M,Y]=p.useState(new Set),ee=Array.from(M).map(ne=>ne.props.value).join(";");return l.jsx(Qf,{...g,children:l.jsxs(gC,{required:b,scope:e,trigger:x,onTriggerChange:I,valueNode:v,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:or(),value:U,onValueChange:B,open:R,onOpenChange:V,dir:D,triggerPointerDownPosRef:Q,disabled:m,children:[l.jsx(ii.Provider,{scope:e,children:l.jsx(_C,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(ne=>{Y(ce=>new Set(ce).add(ne))},[]),onNativeOptionRemove:p.useCallback(ne=>{Y(ce=>{const Se=new Set(ce);return Se.delete(ne),Se})},[]),children:r})}),N?l.jsxs(lv,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:h,value:U,onChange:ne=>B(ne.target.value),disabled:m,form:w,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},ee):null]})})};Qm.displayName=en;var Mm="SelectTrigger",Vm=p.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=si(r),s=Et(Mm,r),o=s.disabled||n,u=Ee(e,s.onTriggerChange),c=ai(r),d=p.useRef("touch"),[h,m,b]=uv(g=>{const x=c().filter(C=>!C.disabled),I=x.find(C=>C.value===s.value),v=cv(x,g,I);v!==void 0&&s.onValueChange(v.value)}),w=g=>{o||(s.onOpenChange(!0),b()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx($o,{asChild:!0,...a,children:l.jsx(xe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ov(s.value)?"":void 0,...i,ref:u,onClick:fe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:fe(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:fe(i.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(x&&g.key===" ")&&mC.includes(g.key)&&(w(),g.preventDefault())})})})});Vm.displayName=Mm;var Lm="SelectValue",xC=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,u=Et(Lm,r),{onValueNodeHasChildrenChange:c}=u,d=a!==void 0,h=Ee(e,u.onValueNodeChange);return vt(()=>{c(d)},[c,d]),l.jsx(xe.span,{...o,ref:h,style:{pointerEvents:"none"},children:ov(u.value)?l.jsx(l.Fragment,{children:s}):a})});xC.displayName=Lm;var CC="SelectIcon",Bm=p.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(xe.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Bm.displayName=CC;var SC="SelectPortal",Um=t=>l.jsx(Lf,{asChild:!0,...t});Um.displayName=SC;var $t="SelectContent",$m=p.forwardRef((t,e)=>{const r=Et($t,t.__scopeSelect),[n,i]=p.useState();if(vt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Kf.createPortal(l.jsx(Zm,{scope:t.__scopeSelect,children:l.jsx(ii.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(Wm,{...t,ref:e})});$m.displayName=$t;var He=10,[Zm,Nt]=pr($t),wC="SelectContentImpl",Wm=p.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:w,hideWhenDetached:g,avoidCollisions:x,...I}=t,v=Et($t,r),[C,k]=p.useState(null),[E,D]=p.useState(null),R=Ee(e,W=>k(W)),[V,U]=p.useState(null),[B,Q]=p.useState(null),N=ai(r),[M,Y]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(C)return Bf(C)},[C]),$f();const ne=p.useCallback(W=>{const[oe,...we]=N().map(se=>se.ref.current),[le]=we.slice(-1),ie=document.activeElement;for(const se of W)if(se===ie||(se==null||se.scrollIntoView({block:"nearest"}),se===oe&&E&&(E.scrollTop=0),se===le&&E&&(E.scrollTop=E.scrollHeight),se==null||se.focus(),document.activeElement!==ie))return},[N,E]),ce=p.useCallback(()=>ne([V,C]),[ne,V,C]);p.useEffect(()=>{M&&ce()},[M,ce]);const{onOpenChange:Se,triggerPointerDownPosRef:Ie}=v;p.useEffect(()=>{if(C){let W={x:0,y:0};const oe=le=>{var ie,se;W={x:Math.abs(Math.round(le.pageX)-(((ie=Ie.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(le.pageY)-(((se=Ie.current)==null?void 0:se.y)??0))}},we=le=>{W.x<=10&&W.y<=10?le.preventDefault():C.contains(le.target)||Se(!1),document.removeEventListener("pointermove",oe),Ie.current=null};return Ie.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",we,{capture:!0})}}},[C,Se,Ie]),p.useEffect(()=>{const W=()=>Se(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[Se]);const[Ue,ct]=uv(W=>{const oe=N().filter(ie=>!ie.disabled),we=oe.find(ie=>ie.ref.current===document.activeElement),le=cv(oe,W,we);le&&setTimeout(()=>le.ref.current.focus())}),Ct=p.useCallback((W,oe,we)=>{const le=!ee.current&&!we;(v.value!==void 0&&v.value===oe||le)&&(U(W),le&&(ee.current=!0))},[v.value]),Dt=p.useCallback(()=>C==null?void 0:C.focus(),[C]),$e=p.useCallback((W,oe,we)=>{const le=!ee.current&&!we;(v.value!==void 0&&v.value===oe||le)&&Q(W)},[v.value]),St=n==="popper"?Fo:Hm,Ze=St===Fo?{side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:w,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(Zm,{scope:r,content:C,viewport:E,onViewportChange:D,itemRefCallback:Ct,selectedItem:V,onItemLeave:Dt,itemTextRefCallback:$e,focusSelectedItem:ce,selectedItemText:B,position:n,isPositioned:M,searchRef:Ue,children:l.jsx(Uf,{as:Uo,allowPinchZoom:!0,children:l.jsx(Zf,{asChild:!0,trapped:v.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:fe(i,W=>{var oe;(oe=v.trigger)==null||oe.focus({preventScroll:!0}),W.preventDefault()}),children:l.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(St,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:W=>W.preventDefault(),...I,...Ze,onPlaced:()=>Y(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:fe(I.onKeyDown,W=>{const oe=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!oe&&W.key.length===1&&ct(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let le=N().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(W.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ie=W.target,se=le.indexOf(ie);le=le.slice(se+1)}setTimeout(()=>ne(le)),W.preventDefault()}})})})})})})});Wm.displayName=wC;var AC="SelectItemAlignedPosition",Hm=p.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Et($t,r),s=Nt($t,r),[o,u]=p.useState(null),[c,d]=p.useState(null),h=Ee(e,R=>d(R)),m=ai(r),b=p.useRef(!1),w=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:I,focusSelectedItem:v}=s,C=p.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&x&&I){const R=a.trigger.getBoundingClientRect(),V=c.getBoundingClientRect(),U=a.valueNode.getBoundingClientRect(),B=I.getBoundingClientRect();if(a.dir!=="rtl"){const ie=B.left-V.left,se=U.left-ie,Fe=R.left-se,Qe=R.width+Fe,re=Math.max(Qe,V.width),dt=window.innerWidth-He,J=xf(se,[He,Math.max(He,dt-re)]);o.style.minWidth=Qe+"px",o.style.left=J+"px"}else{const ie=V.right-B.right,se=window.innerWidth-U.right-ie,Fe=window.innerWidth-R.right-se,Qe=R.width+Fe,re=Math.max(Qe,V.width),dt=window.innerWidth-He,J=xf(se,[He,Math.max(He,dt-re)]);o.style.minWidth=Qe+"px",o.style.right=J+"px"}const Q=m(),N=window.innerHeight-He*2,M=g.scrollHeight,Y=window.getComputedStyle(c),ee=parseInt(Y.borderTopWidth,10),ne=parseInt(Y.paddingTop,10),ce=parseInt(Y.borderBottomWidth,10),Se=parseInt(Y.paddingBottom,10),Ie=ee+ne+M+Se+ce,Ue=Math.min(x.offsetHeight*5,Ie),ct=window.getComputedStyle(g),Ct=parseInt(ct.paddingTop,10),Dt=parseInt(ct.paddingBottom,10),$e=R.top+R.height/2-He,St=N-$e,Ze=x.offsetHeight/2,W=x.offsetTop+Ze,oe=ee+ne+W,we=Ie-oe;if(oe<=$e){const ie=Q.length>0&&x===Q[Q.length-1].ref.current;o.style.bottom="0px";const se=c.clientHeight-g.offsetTop-g.offsetHeight,Fe=Math.max(St,Ze+(ie?Dt:0)+se+ce),Qe=oe+Fe;o.style.height=Qe+"px"}else{const ie=Q.length>0&&x===Q[0].ref.current;o.style.top="0px";const Fe=Math.max($e,ee+g.offsetTop+(ie?Ct:0)+Ze)+we;o.style.height=Fe+"px",g.scrollTop=oe-$e+g.offsetTop}o.style.margin=`${He}px 0`,o.style.minHeight=Ue+"px",o.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[m,a.trigger,a.valueNode,o,c,g,x,I,a.dir,n]);vt(()=>C(),[C]);const[k,E]=p.useState();vt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const D=p.useCallback(R=>{R&&w.current===!0&&(C(),v==null||v(),w.current=!1)},[C,v]);return l.jsx(TC,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(xe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Hm.displayName=AC;var IC="SelectPopperPosition",Fo=p.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=He,...a}=t,s=si(r);return l.jsx(Mf,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fo.displayName=IC;var[TC,Dl]=pr($t,{}),Qo="SelectViewport",zm=p.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Nt(Qo,r),s=Dl(Qo,r),o=Ee(e,a.onViewportChange),u=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(ii.Slot,{scope:r,children:l.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&h){const b=Math.abs(u.current-d.scrollTop);if(b>0){const w=window.innerHeight-He*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),I=Math.max(g,x);if(I<w){const v=I+b,C=Math.min(w,v),k=v-C;h.style.height=C+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});zm.displayName=Qo;var Gm="SelectGroup",[PC,jC]=pr(Gm),qC=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=or();return l.jsx(PC,{scope:r,id:i,children:l.jsx(xe.div,{role:"group","aria-labelledby":i,...n,ref:e})})});qC.displayName=Gm;var Km="SelectLabel",Ym=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=jC(Km,r);return l.jsx(xe.div,{id:i.id,...n,ref:e})});Ym.displayName=Km;var In="SelectItem",[kC,Jm]=pr(In),Xm=p.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=Et(In,r),u=Nt(In,r),c=o.value===n,[d,h]=p.useState(a??""),[m,b]=p.useState(!1),w=Ee(e,v=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,v,n,i)}),g=or(),x=p.useRef("touch"),I=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(kC,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:p.useCallback(v=>{h(C=>C||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(ii.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(xe.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:w,onFocus:fe(s.onFocus,()=>b(!0)),onBlur:fe(s.onBlur,()=>b(!1)),onClick:fe(s.onClick,()=>{x.current!=="mouse"&&I()}),onPointerUp:fe(s.onPointerUp,()=>{x.current==="mouse"&&I()}),onPointerDown:fe(s.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:fe(s.onPointerMove,v=>{var C;x.current=v.pointerType,i?(C=u.onItemLeave)==null||C.call(u):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(s.onPointerLeave,v=>{var C;v.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:fe(s.onKeyDown,v=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(vC.includes(v.key)&&I(),v.key===" "&&v.preventDefault())})})})})});Xm.displayName=In;var Ar="SelectItemText",ev=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Et(Ar,r),o=Nt(Ar,r),u=Jm(Ar,r),c=bC(Ar,r),[d,h]=p.useState(null),m=Ee(e,I=>h(I),u.onItemTextChange,I=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,I,u.value,u.disabled)}),b=d==null?void 0:d.textContent,w=p.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return vt(()=>(g(w),()=>x(w)),[g,x,w]),l.jsxs(l.Fragment,{children:[l.jsx(xe.span,{id:u.textId,...a,ref:m}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Kf.createPortal(a.children,s.valueNode):null]})});ev.displayName=Ar;var tv="SelectItemIndicator",rv=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Jm(tv,r).isSelected?l.jsx(xe.span,{"aria-hidden":!0,...n,ref:e}):null});rv.displayName=tv;var Mo="SelectScrollUpButton",nv=p.forwardRef((t,e)=>{const r=Nt(Mo,t.__scopeSelect),n=Dl(Mo,t.__scopeSelect),[i,a]=p.useState(!1),s=Ee(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollTop>0;a(c)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(av,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});nv.displayName=Mo;var Vo="SelectScrollDownButton",iv=p.forwardRef((t,e)=>{const r=Nt(Vo,t.__scopeSelect),n=Dl(Vo,t.__scopeSelect),[i,a]=p.useState(!1),s=Ee(e,n.onScrollButtonChange);return vt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;a(d)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(av,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});iv.displayName=Vo;var av=p.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Nt("SelectScrollButton",r),s=p.useRef(null),o=ai(r),u=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>u(),[u]),vt(()=>{var d;const c=o().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:fe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{u()})})}),RC="SelectSeparator",sv=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(xe.div,{"aria-hidden":!0,...n,ref:e})});sv.displayName=RC;var Lo="SelectArrow",OC=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=si(r),a=Et(Lo,r),s=Nt(Lo,r);return a.open&&s.position==="popper"?l.jsx(Vf,{...i,...n,ref:e}):null});OC.displayName=Lo;function ov(t){return t===""||t===void 0}var lv=p.forwardRef((t,e)=>{const{value:r,...n}=t,i=p.useRef(null),a=Ee(e,i),s=Xv(r);return p.useEffect(()=>{const o=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(s!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[s,r]),l.jsx(Uv,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});lv.displayName="BubbleSelect";function uv(t){const e=Ev(t),r=p.useRef(""),n=p.useRef(0),i=p.useCallback(s=>{const o=r.current+s;e(o),function u(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(o)},[e]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function cv(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=EC(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==r));const u=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function EC(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var NC=Qm,dv=Vm,DC=Bm,FC=Um,fv=$m,QC=zm,hv=Ym,pv=Xm,MC=ev,VC=rv,mv=nv,vv=iv,yv=sv;const LC=NC,Fl=p.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(dv,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(DC,{asChild:!0,children:l.jsx(Wo,{className:"h-4 w-4 opacity-50"})})]}));Fl.displayName=dv.displayName;const Ql=p.forwardRef(({className:t,...e},r)=>l.jsx(mv,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ry,{className:"h-4 w-4"})}));Ql.displayName=mv.displayName;const Ml=p.forwardRef(({className:t,...e},r)=>l.jsx(vv,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Wo,{className:"h-4 w-4"})}));Ml.displayName=vv.displayName;const Vl=p.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(FC,{children:l.jsxs(fv,{ref:i,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(Ql,{}),l.jsx(QC,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Ml,{})]})}));Vl.displayName=fv.displayName;const gv=p.forwardRef(({className:t,...e},r)=>l.jsx(hv,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gv.displayName=hv.displayName;const Ll=p.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(pv,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(VC,{children:l.jsx(ey,{className:"h-4 w-4"})})}),l.jsx(MC,{children:e})]}));Ll.displayName=pv.displayName;const Bl=p.forwardRef(({className:t,...e},r)=>l.jsx(yv,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Bl.displayName=yv.displayName;Fl.__docgenInfo={description:"",methods:[]};Vl.__docgenInfo={description:"",methods:[],props:{position:{defaultValue:{value:'"popper"',computed:!1},required:!1}}};gv.__docgenInfo={description:"",methods:[]};Ll.__docgenInfo={description:"",methods:[]};Bl.__docgenInfo={description:"",methods:[]};Ql.__docgenInfo={description:"",methods:[]};Ml.__docgenInfo={description:"",methods:[]};const BC=An.object({title:An.string().min(2,"Min 2 characters").max(50,"Max 50 characters")});function Ul({open:t,onOpenChange:e,savedFilter:r}){const n=de(),{queryBuilder:i}=pe(),a=Fp({resolver:Mp(BC),values:{title:(r==null?void 0:r.raw().title)||""}});function s(o){r?r.save(zt.Filter,{title:o.title}):i.saveNewFilter({title:o.title}),e(!1)}return l.jsx(qn,{open:t,onOpenChange:e,children:l.jsxs(kn,{children:[l.jsx(Rn,{children:l.jsx(On,{children:n.savedFilter.editDialog.title})}),l.jsx(Jp,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-8",children:[l.jsx(kl,{control:a.control,name:"title",render:({field:o})=>l.jsxs(Jn,{children:[l.jsx(Xn,{children:n.savedFilter.editDialog.fields.title.label}),l.jsx(ei,{children:l.jsx(Ho,{placeholder:n.savedFilter.editDialog.fields.title.placeholder,...o})}),l.jsx(ti,{})]})}),l.jsxs(En,{children:[l.jsx(Nn,{asChild:!0,children:l.jsx(Te,{variant:"outlined",children:n.savedFilter.editDialog.cancel})}),l.jsx(Te,{type:"submit",color:"primary",children:n.savedFilter.editDialog.ok})]})]})})]})})}Ul.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to duplicate the SavedFilter
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    }
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, "id">): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the SavedFilter"},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const UC={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},$C=(t,e,r)=>{let n;const i=UC[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},ZC={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},WC=(t,e,r,n)=>ZC[t];function Xe(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const HC={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},zC={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},GC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},KC={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},YC={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},JC=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},XC=["MMM","MMMM"],eS={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&XC.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:JC,era:Xe({values:HC,defaultWidth:"wide"}),quarter:Xe({values:zC,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xe({values:GC,defaultWidth:"wide"}),day:Xe({values:KC,defaultWidth:"wide"}),dayPeriod:Xe({values:YC,defaultWidth:"wide"})};function et(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?rS(o,h=>h.test(s)):tS(o,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function tS(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function rS(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function _v(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const nS=/^(\d+)(ime|re|me|er|e)?/i,iS=/\d+/i,aS={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},sS={any:[/^av/i,/^ap/i]},oS={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},lS={any:[/1/i,/2/i,/3/i,/4/i]},uS={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},cS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},dS={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},fS={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},hS={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},pS={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},mS={ordinalNumber:_v({matchPattern:nS,parsePattern:iS,valueCallback:t=>parseInt(t)}),era:et({matchPatterns:aS,defaultMatchWidth:"wide",parsePatterns:sS,defaultParseWidth:"any"}),quarter:et({matchPatterns:oS,defaultMatchWidth:"wide",parsePatterns:lS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:et({matchPatterns:uS,defaultMatchWidth:"wide",parsePatterns:cS,defaultParseWidth:"any"}),day:et({matchPatterns:dS,defaultMatchWidth:"wide",parsePatterns:fS,defaultParseWidth:"any"}),dayPeriod:et({matchPatterns:hS,defaultMatchWidth:"any",parsePatterns:pS,defaultParseWidth:"any"})};function er(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const vS={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},yS={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gS={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_S={date:er({formats:vS,defaultWidth:"full"}),time:er({formats:yS,defaultWidth:"full"}),dateTime:er({formats:gS,defaultWidth:"full"})},bS={code:"fr-CA",formatDistance:$C,formatLong:_S,formatRelative:WC,localize:eS,match:mS,options:{weekStartsOn:0,firstWeekContainsDate:1}},sn=43200,Cf=1440,Sf=Symbol.for("constructDateFrom");function bv(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Sf in t?t[Sf](e):t instanceof Date?new t.constructor(e):new Date(e)}function kt(t,e){return bv(t,t)}let xS={};function CS(){return xS}function wf(t){const e=kt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $l(t,...e){const r=bv.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function dn(t,e){const r=+kt(t)-+kt(e);return r<0?-1:r>0?1:r}function SS(t,e,r){const[n,i]=$l(r==null?void 0:r.in,t,e),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function wS(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function AS(t,e){return+kt(t)-+kt(e)}function IS(t,e){const r=kt(t);return r.setHours(23,59,59,999),r}function TS(t,e){const r=kt(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function PS(t,e){const r=kt(t);return+IS(r)==+TS(r)}function jS(t,e,r){const[n,i,a]=$l(r==null?void 0:r.in,t,t,e),s=dn(i,a),o=Math.abs(SS(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let u=dn(i,a)===-s;PS(n)&&o===1&&dn(n,a)===1&&(u=!1);const c=s*(o-+u);return c===0?0:c}function qS(t,e,r){const n=AS(t,e)/1e3;return wS(r==null?void 0:r.roundingMethod)(n)}const kS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RS=(t,e,r)=>{let n;const i=kS[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},OS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ES={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DS={date:er({formats:OS,defaultWidth:"full"}),time:er({formats:ES,defaultWidth:"full"}),dateTime:er({formats:NS,defaultWidth:"full"})},FS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QS=(t,e,r,n)=>FS[t],MS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},US={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$S={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZS=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WS={ordinalNumber:ZS,era:Xe({values:MS,defaultWidth:"wide"}),quarter:Xe({values:VS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xe({values:LS,defaultWidth:"wide"}),day:Xe({values:BS,defaultWidth:"wide"}),dayPeriod:Xe({values:US,defaultWidth:"wide",formattingValues:$S,defaultFormattingWidth:"wide"})},HS=/^(\d+)(th|st|nd|rd)?/i,zS=/\d+/i,GS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KS={any:[/^b/i,/^(a|c)/i]},YS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JS={any:[/1/i,/2/i,/3/i,/4/i]},XS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ew={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aw={ordinalNumber:_v({matchPattern:HS,parsePattern:zS,valueCallback:t=>parseInt(t,10)}),era:et({matchPatterns:GS,defaultMatchWidth:"wide",parsePatterns:KS,defaultParseWidth:"any"}),quarter:et({matchPatterns:YS,defaultMatchWidth:"wide",parsePatterns:JS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:et({matchPatterns:XS,defaultMatchWidth:"wide",parsePatterns:ew,defaultParseWidth:"any"}),day:et({matchPatterns:tw,defaultMatchWidth:"wide",parsePatterns:rw,defaultParseWidth:"any"}),dayPeriod:et({matchPatterns:nw,defaultMatchWidth:"any",parsePatterns:iw,defaultParseWidth:"any"})},sw={code:"en-US",formatDistance:RS,formatLong:DS,formatRelative:QS,localize:WS,match:aw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ow(t,e,r){const n=CS(),i=(r==null?void 0:r.locale)??n.locale??sw,a=2520,s=dn(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[u,c]=$l(r==null?void 0:r.in,...s>0?[e,t]:[t,e]),d=qS(c,u),h=(wf(c)-wf(u))/1e3,m=Math.round((d-h)/60);let b;if(m<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):m===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",m,o);if(m<45)return i.formatDistance("xMinutes",m,o);if(m<90)return i.formatDistance("aboutXHours",1,o);if(m<Cf){const w=Math.round(m/60);return i.formatDistance("aboutXHours",w,o)}else{if(m<a)return i.formatDistance("xDays",1,o);if(m<sn){const w=Math.round(m/Cf);return i.formatDistance("xDays",w,o)}else if(m<sn*2)return b=Math.round(m/sn),i.formatDistance("aboutXMonths",b,o)}if(b=jS(c,u),b<12){const w=Math.round(m/sn);return i.formatDistance("xMonths",w,o)}else{const w=b%12,g=Math.trunc(b/12);return w<3?i.formatDistance("aboutXYears",g,o):w<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function xv({open:t,onOpenChange:e}){const r=de(),{queryBuilder:n}=pe(),i=n.getSavedFilters();return p.useEffect(()=>{i.length===0&&e(!1)},[i]),l.jsx(l.Fragment,{children:l.jsx(qn,{open:t,onOpenChange:e,children:l.jsxs(kn,{className:"w-full max-w-[550px]",children:[l.jsx(Rn,{children:l.jsx(On,{children:r.savedFilter.manageDialog.title})}),l.jsx(Lv,{bordered:!0,className:"max-h-[250px]",children:i.map(a=>l.jsx(lw,{savedFilter:a},a.id))}),l.jsx(En,{children:l.jsx(Nn,{asChild:!0,children:l.jsx(Te,{color:"primary",children:r.savedFilter.manageDialog.close})})})]})})})}const lw=({savedFilter:t})=>{const e=de(),[r,n]=p.useState(!1),[i,a]=p.useState(!1),s=p.useCallback(()=>{const o=t.raw();if(!o.updated_date)return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const u=ow(new Date,new Date(o.updated_date),{locale:bS});return e.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",u)},[t.raw()]);return l.jsxs(l.Fragment,{children:[l.jsx(Bv,{title:t.raw().title,description:s(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>a(!0),onDelete:()=>_m(t,e)},t.id),l.jsx(Ul,{open:i,onOpenChange:a,savedFilter:t})]})};xv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function Cv(){const t=de(),{queryBuilder:e}=pe(),r=e.getSavedFilters(),[n,i]=p.useState(!1),[a,s]=p.useState(!1),o=e.getSelectedSavedFilter(),u=function(){i(!1),s(!0)},c=p.useMemo(()=>new Date,[o==null?void 0:o.id]);return l.jsxs(l.Fragment,{children:[l.jsxs(LC,{value:o==null?void 0:o.id,onValueChange:d=>{var h;return(h=r.find(m=>m.id===d))==null?void 0:h.select()},open:n,onOpenChange:i,disabled:r.length===0,children:[l.jsxs(st,{open:r.length>0?!1:void 0,children:[l.jsx(ot,{asChild:!0,children:l.jsx(Fl,{className:"w-[135px] h-7",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ny,{size:14})," ",t.savedFilter.myFilters]})})}),l.jsx(lt,{children:t.savedFilter.noSavedFilters})]}),l.jsxs(Vl,{children:[r.map(d=>l.jsx(Ll,{value:d.id,children:d.raw().title},d.id)),l.jsx(Bl,{}),l.jsx(Te,{size:"sm",className:"w-full pl-2 justify-start",onClick:u,children:t.savedFilter.manageFilters})]})]},+c),l.jsx(xv,{open:a,onOpenChange:s})]})}Cv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function Sv({className:t,...e}){return l.jsx("div",{className:ue("flex",t),...e,children:l.jsxs("div",{className:"flex gap-4 items-center",onClick:r=>r.stopPropagation(),children:[l.jsxs("div",{className:"flex gap-1.5 whitespace-nowrap",children:[l.jsx(Em,{}),l.jsx(Nm,{}),l.jsx(Om,{}),l.jsx(Dm,{}),l.jsx(Fm,{})]}),l.jsx(Cv,{})]})})}Sv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function wv(){const{queryBuilder:t}=pe(),[e,r]=p.useState(!1),n=t.getSelectedSavedFilter();return l.jsxs(l.Fragment,{children:[l.jsx(Ne,{icon:Go,onClick:()=>r(!0)}),l.jsx(Ul,{open:e,onOpenChange:r,savedFilter:n})]})}wv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Av(){const t=de(),{queryBuilder:e}=pe(),r=e.getSelectedSavedFilter();return r!=null&&r.isDirty()?l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ne,{icon:iy,disabled:!r,onClick:()=>r.discardChanges()})}),l.jsx(lt,{children:t.savedFilter.discardTooltip})]}):null}Av.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function Iv(){const t=de(),{queryBuilder:e,enableFavorite:r}=pe(),n=e.getSelectedSavedFilter();if(!r)return null;const i=function(){n?n.save(zt.Filter,{favorite:!n.isFavorite()}):e.saveNewFilter({favorite:!0})};return l.jsxs(st,{children:[l.jsx(ot,{asChild:!0,children:l.jsx(Ne,{icon:ay,iconClassName:n!=null&&n.isFavorite()?"stroke-gold-500 fill-gold-500":"",disabled:!n,onClick:i})}),l.jsx(lt,{children:n!=null&&n.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}Iv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function Tv({className:t,...e}){const{queryBuilder:r}=pe(),n=r.getSelectedSavedFilter();return l.jsxs("div",{className:ue("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...e,children:[l.jsx("div",{className:"text-ellipsis overflow-hidden text-base",children:n?n.raw().title:r.coreProps.savedFilterDefaultTitle}),l.jsx(zf,{children:l.jsxs("div",{className:"flex gap-1.5",onClick:i=>i.stopPropagation(),children:[l.jsx(wv,{}),l.jsx(Iv,{}),l.jsx(Av,{})]})})]})}Tv.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};const Bo={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:"You will find your saved queries in the sidebar under the Queries heading.",cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},Pv=["#C31D7E","#328536","#AA00FF","#C2410C","#047ABE","#E5231F","#007D85","#C51162","#7B5A90","#B85C00","#722ED1","#4D7C0F","#9F1239","#2D7D9A","#847545"];function Co(t){return t&&typeof t=="object"&&!Array.isArray(t)}function jv(t,e){const r={...t},n=e;return Co(t)&&Co(e)&&Object.keys(e).forEach(i=>{Co(n[i])&&i in t?r[i]=jv(r[i],n[i]):r[i]=n[i]}),r}function tn({className:t,enableCombine:e=!0,enableFavorite:r=!1,enableShowHideLabels:n,initialShowHideLabels:i=!0,queryReferenceColors:a=Pv,queryCountIcon:s,fetchQueryCount:o,dictionary:u=Bo,customPillConfig:c,queryPillFacetFilterConfig:d,resolveSyntheticSqon:h,...m}){const b=Lh(m),w=p.useMemo(()=>jv(Bo,u),[u]),[g,x]=p.useState(i),I=p.useCallback(C=>a[C%a.length],[a]),v=p.useMemo(()=>({queryBuilder:b,enableCombine:e,enableFavorite:r,enableShowHideLabels:n,showLabels:g,toggleLabels:x,queryCountIcon:s,getQueryReferenceColor:I,fetchQueryCount:o,dictionary:u,customPillConfig:c,queryPillFacetFilterConfig:d,resolveSyntheticSqon:h}),[b,e,r,n,g,x,s,I,o,u,c,d,h]);return l.jsx(sp.Provider,{value:w,children:l.jsx(_l.Provider,{value:v,children:l.jsx(Y_,{type:"multiple",defaultValue:["query-builder"],className:t,children:l.jsxs(vl,{value:"query-builder",className:"border-none",children:[l.jsxs(yl,{asChild:!0,className:"border border-border py-0 px-5 rounded-t-sm data-[state=closed]:rounded-sm hover:cursor-pointer",children:[l.jsx(Tv,{className:"py-4 pr-4"}),l.jsx(Sv,{className:"ml-auto py-4"})]}),l.jsxs(gl,{className:"border-border border-l border-b border-r py-4 px-5 space-y-4 rounded-b-sm",children:[l.jsx("div",{className:"flex flex-col gap-2 max-h-[30vh] overflow-scroll",children:b.getQueries().map(C=>l.jsx(Tm,{query:C},C.id))}),l.jsx(Rm,{})]})]})})})})}tn.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1},dictionary:{defaultValue:{value:`{
  queryBar: {
    empty: "Use the search tools & facets on the left to build a query",
    deletePopover: {
      title: "Delete this query?",
      cancel: "Cancel",
      ok: "Delete",
    },
    customPill: {
      createTooltip: "Create a custom query",
      cannotSaveAsCustomPill:
        "Custom queries cannot include other custom queries",
    },
    saveDialog: {
      title: "Save this query",
      fields: {
        title: {
          label: "Query name",
          placeholder: "Untitled query",
        },
      },
      notice:
        "You will find your saved queries in the sidebar under the Queries heading.",
      cancel: "Cancel",
      ok: "Save",
    },
  },
  queryPill: {
    operator: {
      changeOperatorTo: "Change operator to",
      and: "and",
      or: "or",
    },
    facet: (key) => key,
    customPill: {
      editDialog: {
        title: "Edit custom query",
        cancel: "Cancel",
        ok: "Save",
      },
      cantBeEmptyDialog: {
        title: "Query cannot be empty",
        description: "Your custom query must contain at least one criteria.",
        ok: "Close",
      },
      titleExistsDialog: {
        title: "Name already in use",
        description:
          "A custom query with this name already exists. Please assign a unique name.",
        ok: "Close",
      },
      saveDialog: {
        title: "Edit this query?",
        confirmationMessage:
          'You are about to edit the custom query "{title}", which may affect your results.',
        affectedFilters: "Affected saved filters:",
        cancel: "Cancel",
        ok: "Save",
      },
    },
  },
  toolbar: {
    combine: "Combine",
    newQuery: "New query",
    clearAll: "Clear all",
    clearAllDialog: {
      title: "Delete all queries?",
      description:
        "You are about to delete all your queries. They will be lost forever.",
      cancel: "Cancel",
      ok: "Delete",
    },
    labels: "Labels",
  },
  savedFilter: {
    deleteTooltip: "Delete filter",
    deleteDialog: {
      title: "Permanently delete this filter?",
      description:
        "You are about to permanently delete this filter and all of its queries.",
      cancel: "Cancel",
      ok: "Delete filter",
    },
    duplicateTooltip: "Duplicate filter",
    overwriteDialog: {
      title: "Unsaved changes",
      description:
        "You are about to create a new filter; all modifications will be lost.",
      cancel: "Cancel",
      ok: "Create",
    },
    editDialog: {
      title: "Edit filter",
      cancel: "Cancel",
      ok: "Save",
      fields: {
        title: {
          label: "Title",
          placeholder: "Untitled query",
        },
      },
    },
    myFilters: "My Filters",
    manageFilters: "Manage filters",
    manageDialog: {
      title: "Manage filters",
      close: "Close",
      lastSaveAt: "Last saved at: {lastSaveAt} ago",
    },
    newFilter: "New filter",
    saveTooltip: {
      whenEmpty: "Add a query to save",
      whenDirty: "Save changes",
      default: "Save filter",
    },
    shareTooltip: {
      whenNotSaved: "Save filter to share",
      default: "Share (Copy url)",
    },
    favoriteTooltip: {
      set: "Set as default filter",
      unset: "Unset default filter",
    },
    discardTooltip: "Discard unsaved changes",
    noSavedFilters: "You have no saved filters",
  },
}`,computed:!1},required:!1}}};const Hw={title:"Feature/Query Builder",component:tn,tags:["autodocs"],args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:Pv,dictionary:Bo},decorators:[t=>l.jsx(zf,{delayDuration:0,children:l.jsx(Yv,{children:l.jsx(t,{})})})]},So="query-builder-id",uw="query-builder-custom-pill-id",wo="query-builder-query-pill-filter-id",Af=t=>t[Math.floor(Math.random()*t.length)],Tn=(t=1,e=100)=>Math.floor(Math.random()*(e-t+1))+t,qv=()=>Math.random().toString(36).substring(7),cw=[he.GreaterThan,he.LessThan,he.Between,he.GreaterThanOrEqualTo,he.LessThanOrEqualTo],_r=t=>({id:be(),title:(t==null?void 0:t.title)||`Custom Pill ${Tn(1,50)}`,queries:[Me()],keycloak_id:be(),creation_date:new Date().toISOString(),updated_date:new Date().toISOString(),tag:"tag",favorite:!1}),dw=t=>cw.includes(t)?Array.from({length:2},()=>Tn()):Array.from({length:Tn(2,5)},()=>qv()),Me=(t=be())=>{const e=Tn(1,3),r=Array.from({length:e},()=>{const n=Af(Object.values(he));return{op:n,content:{field:`field_${qv()}`,value:dw(n)}}});return{id:t,op:Af(["and","or"]),content:r}};function kv({queryBuilderId:t}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{children:"Testing Tools:"}),l.jsxs("div",{className:"flex border p-4 gap-2",children:[l.jsx(Te,{color:"primary",size:"sm",onClick:()=>Qt.addQuery(t,Me()),children:"Add query"}),l.jsx(Te,{color:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),l.jsx(Te,{color:"primary",size:"sm",onClick:()=>{Qt.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const on={args:{id:So,initialState:{...Qt.getLocalQueryBuilderState(So),savedFilters:[{id:be(),title:"Olivier's Filter",favorite:!1,queries:[Me(),Me(),Me()]},{id:be(),title:"Francis' Filter",favorite:!1,queries:[Me(),Me()]},{id:be(),title:"Luc's Filter",favorite:!1,queries:[Me(),Me(),Me()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onCustomPillSave:te(),onCustomPillUpdate:te(),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te()},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(tn,{...t}),l.jsx(kv,{queryBuilderId:So})]})},If=be(),ln={args:{id:uw,queryCountIcon:l.jsx(sy,{size:14}),initialState:{activeQueryId:If,queries:[Me(If),Me()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onCustomPillSave:t=>(Ao("onCustomPillSave")(t),new Promise(e=>setTimeout(()=>e(_r(t)),750))),onCustomPillUpdate:t=>(Ao("onCustomPillUpdate")(t),new Promise(e=>setTimeout(()=>e(_r(t)),750))),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(_r()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([_r(),_r()]),750))}},render:t=>l.jsx(tn,{...t})},un={args:{id:wo,initialState:{...Qt.getLocalQueryBuilderState(wo),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:te(),onActiveQueryChange:te(),onQueryCreate:te(),onQueryDelete:te(),onQuerySelectChange:te(),onQueryUpdate:te(),onSavedFilterCreate:te(),onSavedFilterDelete:te(),onSavedFilterSave:te(),onSavedFilterUpdate:te(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(Ao("onFacetClick")(t),l.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(tn,{...t}),l.jsx(kv,{queryBuilderId:wo})]})};var Tf,Pf,jf;on.parameters={...on.parameters,docs:{...(Tf=on.parameters)==null?void 0:Tf.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(jf=(Pf=on.parameters)==null?void 0:Pf.docs)==null?void 0:jf.source}}};var qf,kf,Rf;ln.parameters={...ln.parameters,docs:{...(qf=ln.parameters)==null?void 0:qf.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    queryCountIcon: <UserIcon size={14} />,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action("onCustomPillSave")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action("onCustomPillUpdate")(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: "qb-custom-pill-edit-id",
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(Rf=(kf=ln.parameters)==null?void 0:kf.docs)==null?void 0:Rf.source}}};var Of,Ef,Nf;un.parameters={...un.parameters,docs:{...(Of=un.parameters)==null?void 0:Of.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action("onFacetClick")(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Nf=(Ef=un.parameters)==null?void 0:Ef.docs)==null?void 0:Nf.source}}};const zw=["Default","CustomPill","QueryPillFilter"];export{ln as CustomPill,on as Default,un as QueryPillFilter,zw as __namedExportsOrder,Hw as default};
