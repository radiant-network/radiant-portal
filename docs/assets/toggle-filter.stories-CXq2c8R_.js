import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as re}from"./index-B-lxVbXh.js";import{q as j,M as oe}from"./query-builder-remote-Bza3nrNy.js";import{r as n}from"./index-DQLiH3RP.js";import{B as te}from"./button-B_hWqCKH.js";import{L as ae}from"./label-Buk2CdJ1.js";import{b as se,c as B,P as _,u as I,d as N,h as ie}from"./index-D-AYaadb.js";import{j as q,u as ne,R as ce,I as de,C as le}from"./dropdown-menu-maOUzwaK.js";import{u as ue}from"./index-DDGWSPzp.js";import{P as pe}from"./index-C5A_jyAq.js";import{c as L}from"./utils-D-KgF5mV.js";import{u as me,C as fe}from"./applications-config-pyPLye2e.js";import{u as ve}from"./i18n-BSkkBSui.js";import{c as A}from"./config-mock-BXxtYAjK.js";import"./v4-CtRu48qb.js";import"./api-B-gH50Ma.js";import"./ActionButton-A54waDHb.js";import"./button.variants-Czj0iLzG.js";import"./index-C66Dxnp2.js";import"./ellipsis-BtlAG3ey.js";import"./createLucideIcon-BMP5cxO1.js";import"./spinner-DHVcj7-u.js";import"./index-CECE1b4A.js";import"./index-CJPVTaBz.js";import"./index-Bf9LPmYV.js";import"./index-DD7n3F2b.js";import"./index-Bx8PXznd.js";import"./check-DSCf8CVO.js";import"./iframe-CorXZv6i.js";var C="Radio",[ye,M]=B(C),[ge,xe]=ye(C),O=n.forwardRef((r,c)=>{const{__scopeRadio:s,name:l,checked:a=!1,required:t,disabled:d,value:y="on",onCheck:u,form:m,...f}=r,[p,o]=n.useState(null),i=I(c,x=>o(x)),v=n.useRef(!1),g=p?m||!!p.closest("form"):!0;return e.jsxs(ge,{scope:s,checked:a,disabled:d,children:[e.jsx(_.button,{type:"button",role:"radio","aria-checked":a,"data-state":K(a),"data-disabled":d?"":void 0,disabled:d,value:y,...f,ref:i,onClick:N(r.onClick,x=>{a||u==null||u(),g&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),g&&e.jsx(U,{control:p,bubbles:!v.current,name:l,value:y,checked:a,required:t,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});O.displayName=C;var Q="RadioIndicator",V=n.forwardRef((r,c)=>{const{__scopeRadio:s,forceMount:l,...a}=r,t=xe(Q,s);return e.jsx(pe,{present:l||t.checked,children:e.jsx(_.span,{"data-state":K(t.checked),"data-disabled":t.disabled?"":void 0,...a,ref:c})})});V.displayName=Q;var Re="RadioBubbleInput",U=n.forwardRef(({__scopeRadio:r,control:c,checked:s,bubbles:l=!0,...a},t)=>{const d=n.useRef(null),y=I(d,t),u=ue(s),m=ie(c);return n.useEffect(()=>{const f=d.current;if(!f)return;const p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==s&&i){const v=new Event("click",{bubbles:l});i.call(f,s),f.dispatchEvent(v)}},[u,s,l]),e.jsx(_.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:y,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U.displayName=Re;function K(r){return r?"checked":"unchecked"}var he=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k="RadioGroup",[_e,rr]=B(k,[q,M]),z=q(),$=M(),[ke,be]=_e(k),H=n.forwardRef((r,c)=>{const{__scopeRadioGroup:s,name:l,defaultValue:a,value:t,required:d=!1,disabled:y=!1,orientation:u,dir:m,loop:f=!0,onValueChange:p,...o}=r,i=z(s),v=ne(m),[g,x]=se({prop:t,defaultProp:a??null,onChange:p,caller:k});return e.jsx(ke,{scope:s,name:l,required:d,disabled:y,value:g,onValueChange:x,children:e.jsx(ce,{asChild:!0,...i,orientation:u,dir:v,loop:f,children:e.jsx(_.div,{role:"radiogroup","aria-required":d,"aria-orientation":u,"data-disabled":y?"":void 0,dir:v,...o,ref:c})})})});H.displayName=k;var W="RadioGroupItem",X=n.forwardRef((r,c)=>{const{__scopeRadioGroup:s,disabled:l,...a}=r,t=be(W,s),d=t.disabled||l,y=z(s),u=$(s),m=n.useRef(null),f=I(c,m),p=t.value===a.value,o=n.useRef(!1);return n.useEffect(()=>{const i=g=>{he.includes(g.key)&&(o.current=!0)},v=()=>o.current=!1;return document.addEventListener("keydown",i),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",v)}},[]),e.jsx(de,{asChild:!0,...y,focusable:!d,active:p,children:e.jsx(O,{disabled:d,required:t.required,checked:p,...u,...a,name:t.name,ref:f,onCheck:()=>t.onValueChange(a.value),onKeyDown:N(i=>{i.key==="Enter"&&i.preventDefault()}),onFocus:N(a.onFocus,()=>{var i;o.current&&((i=m.current)==null||i.click())})})})});X.displayName=W;var je="RadioGroupIndicator",Y=n.forwardRef((r,c)=>{const{__scopeRadioGroup:s,...l}=r,a=$(s);return e.jsx(V,{...a,...l,ref:c})});Y.displayName=je;var J=H,Z=X,Ne=Y;function E({className:r,...c}){return e.jsx(J,{className:L("grid gap-2",r),...c})}E.displayName=J.displayName;function S({className:r,...c}){return e.jsx(Z,{className:L("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...c,children:e.jsx(Ne,{className:"flex items-center justify-center",children:e.jsx(le,{className:"h-2.5 w-2.5 fill-current text-current"})})})}S.displayName=Z.displayName;E.__docgenInfo={description:"",methods:[]};S.__docgenInfo={description:"",methods:[]};function b({data:r,field:c}){const{t:s}=ve(),[l,a]=n.useState(r||[]),[t,d]=n.useState(null),u=me().variant_exploration.app_id;n.useEffect(()=>{let o=j.getActiveQuery(u).content.find(i=>i.content.field===c.key);if(o){let i=o.content.value;i.length>=1&&d(i[0])}else d(null);a(r||[])},[r]);const m=n.useCallback(o=>{o.key!==t&&o.key!==void 0&&(d(o.key||null),j.updateActiveQueryField(u,{field:c.key,value:[...o.key],merge_strategy:oe.OVERRIDE_VALUES}))},[t]),f=n.useCallback(o=>t===o.key,[t]),p=n.useCallback(()=>{d(null)},[t]);return e.jsxs("div",{className:"p-2 w-full max-w-md",children:[e.jsx(E,{children:l.map(o=>e.jsx("div",{className:"space-y-3 pt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{value:o.key||"",id:o.key,checked:f(o),onClick:()=>{m(o)}}),e.jsx(ae,{htmlFor:o.key,children:o.key})]}),e.jsx("span",{className:"bg-accent px-2 py-1 rounded-md font-mono text-xs",children:o.count})]})},o.key))}),t!==null&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-border"}),e.jsx("div",{className:"flex align-right justify-end items-center space-x-2",children:e.jsx(te,{onClick:p,size:"xs",children:s("common.filters.buttons.clear")})})]})]})}b.__docgenInfo={description:"",methods:[],displayName:"ToggleFilter",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"Aggregation"}],raw:"Aggregation[]"},description:""},field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};const ee={...A,variant_exploration:{...A.variant_exploration,aggregations:{variant:{items:[{key:"chromosome",type:"multiple"},{key:"filter",type:"multiple"},{key:"zygosity",type:"multiple"},{key:"impact_score",type:"multiple"},{key:"variant_class",type:"multiple"},{key:"symbol",type:"multiple"},{key:"is_canonical",type:"boolean"}]}}}},or={title:"Feature/Query Filters/Toggle Filter",component:b,args:{field:{key:"is_canonical",type:"boolean"}},decorators:[r=>e.jsx(fe,{config:ee,children:e.jsx(r,{})})]},R={render:r=>e.jsx("div",{className:"space-y-6",children:e.jsx(b,{...r})})},h={render:r=>(re("activeQuery")(j.updateActiveQueryField(ee.variant_exploration.app_id,{field:"is_canonical",value:["true"]})),e.jsx("div",{className:"space-y-6",children:e.jsx(b,{...r})}))};var w,P,G;R.parameters={...R.parameters,docs:{...(w=R.parameters)==null?void 0:w.docs,source:{originalSource:`{
  render: args => {
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(G=(P=R.parameters)==null?void 0:P.docs)==null?void 0:G.source}}};var F,D,T;h.parameters={...h.parameters,docs:{...(F=h.parameters)==null?void 0:F.docs,source:{originalSource:`{
  render: args => {
    action('activeQuery')(queryBuilderRemote.updateActiveQueryField(config.variant_exploration.app_id, {
      field: 'is_canonical',
      value: ['true']
    }));
    return <div className="space-y-6">
        <ToggleFilter {...args} />
      </div>;
  }
}`,...(T=(D=h.parameters)==null?void 0:D.docs)==null?void 0:T.source}}};const tr=["Default","DataAppliedToQueryBuilder"];export{h as DataAppliedToQueryBuilder,R as Default,tr as __namedExportsOrder,or as default};
