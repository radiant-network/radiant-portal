import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as p}from"./index-CGj_12n1.js";import{A as y,a as h,b as j,c as v}from"./accordion-Bcxf8i7w.js";import{B as E}from"./button-YjhY-NsT.js";import{C as T,a as b}from"./card-BdbO89L0.js";import{T as C,a as M,b as _}from"./tooltip-eZCTYbea.js";import{M as k}from"./multiselect-filter-KxYxW0Gp.js";import{N as A}from"./numerical-filter-ByoM8M19.js";import{T as N}from"./toggle-filter-CtB5ZJdP.js";import{u}from"./i18n-BWHuWJtH.js";import{u as w}from"./applications-config-q4OA8PiL.js";function m({field:t,children:r}){const{t:a,sanitize:o}=u(),n=a(`common.filters.labels.${o(t.key)}`,{defaultValue:t.key}),l=`common.filters.labels.${o(t.key)}_tooltip`,c=a(l)===l?null:a(l);function i(){return e.jsx("div",{className:"flex items-center justify-between w-full text-xs",children:e.jsx("span",{children:n})})}return e.jsx(T,{size:"sm",children:e.jsxs(y,{value:t.key,children:[e.jsx(b,{size:"sm",children:e.jsx(h,{children:c?e.jsxs(C,{children:[e.jsx(M,{asChild:!0,children:e.jsx("span",{children:i()})}),e.jsx(_,{children:e.jsx("span",{children:c})})]}):i()})}),e.jsx(j,{className:"pb-0",children:r})]},t.key)})}function f({field:t,isOpen:r}){const{t:a}=u(),o=t.type;if(o==="divider")return e.jsx("h4",{className:"mx-1 my-3 mt-5 text-muted-foreground",children:a(`common.filters.${t.key}`)});let n;switch(o){case"multiple":n=e.jsx(m,{field:t,isOpen:r,children:e.jsx(k,{field:t})});break;case"numerical":n=e.jsx(m,{field:t,isOpen:r,children:e.jsx(A,{field:t})});break;case"boolean":n=e.jsx(m,{field:t,isOpen:r,children:e.jsx(N,{field:t})});break;default:n=e.jsx("div",{children:a("common.filters.unsupported_type",{type:t.type})})}return n}m.__docgenInfo={description:"",methods:[],displayName:"AccordionContainer",props:{field:{required:!0,tsType:{name:"AggregationConfig"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},searchHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(_e: React.MouseEvent<SVGElement, MouseEvent>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<SVGElement, MouseEvent>",elements:[{name:"SVGElement"},{name:"MouseEvent"}]},name:"_e"}],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};f.__docgenInfo={description:"To be use when the filter needs to be inside an Accordion component",methods:[],displayName:"FilterContainer",props:{field:{required:!0,tsType:{name:"AggregationConfig"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},searchHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(_e: React.MouseEvent<SVGElement, MouseEvent>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<SVGElement, MouseEvent>",elements:[{name:"SVGElement"},{name:"MouseEvent"}]},name:"_e"}],return:{name:"void"}}},description:""}}};function R({groupKey:t}){var x;const{t:r}=u(),o=w().variant_exploration.aggregations,[n,l]=p.useState(!1),[c,i]=p.useState([]),g=t?((x=o[t])==null?void 0:x.items)||[]:Object.values(o).flatMap(s=>s.items);return p.useEffect(()=>{l(!1),i([])},[t]),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(E,{variant:"link",onClick:()=>{const s=!n;l(s),i(s?g.map(d=>d.key):[])},children:r(n?"common.actions.collapse_all":"common.actions.expand_all")})}),e.jsx(v,{className:"flex flex-col gap-1",type:"multiple",value:c,onValueChange:s=>i(s),children:g.map((s,d)=>e.jsx(f,{isOpen:c.includes(s.key),field:s},`${s.key}-${d}`))})]})}R.__docgenInfo={description:"",methods:[],displayName:"FilterList",props:{groupKey:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""}}};export{R as F};
