import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{f as Vt,d as be,c as Ta,T as w,b as He,e as H}from"./date-cell-BRIrm338.js";import{c as At}from"./api-fYFwtGmU.js";import{u as Rt,C as Gt}from"./applications-config-pyPLye2e.js";import{B as D}from"./button-C2rCU7Ok.js";import{C as $t}from"./chevron-down-QEmn0_AS.js";import{C as Ht}from"./chevron-right--l3G0NFC.js";import{T as b,a as j,b as C}from"./tooltip-DsSGHSKb.js";import{A as f}from"./anchor-link-BQtI31xi.js";import{u as m}from"./i18n-awiSXLtO.js";import{c as $}from"./utils-D-KgF5mV.js";import{D as Bt,a as Lt,b as Ut,c as Wt,d as Zt,e as Qt}from"./dialog-H5nkUZvT.js";import{t as Be}from"./index-D_2zGIzb.js";import{S as I}from"./separator-PkW7KAol.js";import{o as me,s as M,u as je,a as Jt,F as G,b as ce,P as Sa,c as B,d as L,e as R,f as Na,g as wa,h as Ea}from"./query-builder-DIhqldIN.js";import{M as xe}from"./multi-selector-7kYs_jfa.js";import{R as P,r as c}from"./index-DQLiH3RP.js";import{c as Kt,a as Ia}from"./index-DTwDs4x6.js";import{P as Le}from"./index-Dw-eQTPP.js";import{i as qa,I as Xt,u as Yt,R as ei,C as ai,D as ti,a as ii,b as ni,c as si}from"./dropdown-menu-Begym49V.js";import{T as ri,t as oi,R as li}from"./rich-text-editor-CQpjgDUx.js";import{u as K,i as ve,m as ci,o as za,w as di,I as mi,a as pi,s as ui,b as fe,g as Ue,U as Y,c as Fa}from"./index-Bu11wbXr.js";import{I as gi}from"./input-DyY2UfVx.js";import{I as _i}from"./input-search-NUEJ1oI0.js";import{X as hi}from"./x-ClsbQ_rO.js";import{B as z}from"./badge-BEvKHJki.js";import{A as fi}from"./auto-complete-gENjSPeU.js";import{d as xi}from"./useDebounce-D_2R-BOd.js";import{l as vi}from"./data-BSzcilp2.js";import{S as yi,a as bi,b as ji,c as Ci,d as Ti}from"./select-B3FoUCA_.js";import{c as ka}from"./index-C66Dxnp2.js";import{I as Si}from"./info-rYv3sqpq.js";import"./tabs-nav-CkdJu_J9.js";import{C as Ni,a as wi,d as Ei}from"./card-fYcqLYhc.js";import{S as y}from"./skeleton-Shk8p_SP.js";import{I as Ii}from"./indicator-CNWm-jzb.js";import{C as We}from"./alert-dialog-dOfzyyoI.js";import"./expandable-list-Hb80oGP1.js";import{c as U}from"./createLucideIcon-BMP5cxO1.js";import{C as qi}from"./check-DSCf8CVO.js";import{P as Oa}from"./list-item-with-action-kBQDcPe0.js";import"./sidebar-8_x20i16.js";import{q as zi,M as Fi}from"./query-builder-remote-DQDcrGW9.js";import"./multiselect-filter-zFwBZ-Ft.js";import"./numerical-filter-CLofTzxK.js";import"./toggle-filter-CGrWURM5.js";import{C as ue}from"./clinvar-badge-CCm3CtTn.js";import{t as ye,b as Pa}from"./number-format-DDJvc-iv.js";import{S as ki}from"./impact-icon-KInDIG-7.js";import{t as Ze,r as Qe}from"./string-format-D2CEWHqQ.js";import{P as Oi,a as Pi}from"./pedigree-female-not-affected-icon-CQiMoCEM.js";import{L as Ma,u as Mi,B as Di}from"./chunk-QMGIS6GS-B2N4RFn-.js";import{b as Vi}from"./shape-circle-icon-BxJCNapB.js";import{C as Ce}from"./consequence-label-DufdaA05.js";import{g as Te,a as Ai,T as Da,b as Va,C as Ri,M as Gi,c as $i}from"./transcript-id-link-Dk_n29Sn.js";import"./result-1kP5sDP1.js";import"./page-header-R_VX4lu1.js";import{S as Hi}from"./spinner-DHVcj7-u.js";import{U as Aa}from"./user-Dv_C2EEw.js";import{U as Ra}from"./users-BFGqzbhB.js";import{E as Bi}from"./external-link-CdxgTZcI.js";import"./index-CECE1b4A.js";import"./index-CJPVTaBz.js";import"./checkbox-Ce_wbgB6.js";import"./index-DDGWSPzp.js";import"./index-uZc0PFVk.js";import"./settings-BZdKjm2O.js";import"./chevron-left-DGpQFcG5.js";import"./empty-BGfOlJJ0.js";import"./chart-scatter-Ar50k2GJ.js";import"./search-DYa5HqpW.js";import"./circle-alert-4q88kTxq.js";import"./en-US-Bm9FTEXR.js";import"./ActionButton-BqVcLudk.js";import"./button.variants-BQkt_1YJ.js";import"./ellipsis-BtlAG3ey.js";import"./index-BkhUCz-k.js";import"./index-BsCFIxoT.js";import"./iframe-CY1iFJWq.js";import"./context-DNAkM4o1.js";import"./index-DYxu_S6A.js";import"./index-Buy_jb7k.js";import"./index-Df1s8XGk.js";import"./popover-DRJBelA9.js";import"./trash-DCT5GB8X.js";import"./label-E-AdJZe_.js";import"./alert-dialog-store-CZoSfA8g.js";import"./switch-DeZNfVrI.js";import"./star-DfQf5eJj.js";import"./command-0QRaRtXP.js";import"./index-BjfAAjgr.js";import"./less-than-or-equal-operator-icon-BI5aNTvi.js";import"./not-in-operator-icon-DdiM-lgK.js";import"./conditional-wrapper-BBX8pIPQ.js";import"./transcript-mane-plus-icon-C9yhxXSz.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]],Ga=U("Biohazard",Li);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],Wi=U("CircleDashed",Ui);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Qi=U("Diamond",Zi);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ki=U("EllipsisVertical",Ji);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Yi=U("Hourglass",Xi);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],an=U("RefreshCcw",en);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],nn=U("Triangle",tn);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$a=U("Zap",sn),Se=[{genotype_quality:49,zygosity:"HET",pf_wgs:353e-6,hgvsg:"chr1:g.169114295T>G",omim_inheritance_code:["Mu"],ad_ratio:.53571,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"ATP1B1",is_mane_select:!0,is_canonical:!0,is_mane_plus:!0,seq_id:1,locus_id:1},{genotype_quality:54,zygosity:"HET",pf_wgs:353e-6,gnomad_v3_af:22e-6,hgvsg:"chr9:g.18180552_18180555dup",ad_ratio:1,variant_class:"insertion",vep_impact:"MODIFIER",symbol:"ADAMTSL1",seq_id:2,locus_id:2},{genotype_quality:38,zygosity:"HET",pf_wgs:353e-6,hgvsg:"chr12:g.65113035T>G",ad_ratio:.69444,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"WIF1",is_mane_select:!0,seq_id:3,locus_id:3},{genotype_quality:50,zygosity:"HET",pf_wgs:353e-6,gnomad_v3_af:454e-6,hgvsg:"chr1:g.87737552G>A",ad_ratio:.47059,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"PKN2-AS1",seq_id:4,locus_id:4},{genotype_quality:7,zygosity:"HOM",pf_wgs:353e-6,hgvsg:"chr17:g.70647334_70647335insTTTTTTTTTATTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT",ad_ratio:1,variant_class:"insertion",vep_impact:"MODIFIER",seq_id:5,locus_id:5},{genotype_quality:36,zygosity:"HET",pf_wgs:353e-6,gnomad_v3_af:.001928,hgvsg:"chr10:g.20287985A>T",ad_ratio:.66667,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"PLXDC2",is_mane_select:!0,seq_id:6,locus_id:6},{genotype_quality:27,zygosity:"HOM",pf_wgs:353e-6,gnomad_v3_af:55e-6,hgvsg:"chr20:g.4203263_4203264insTTTTTTTTTTTTTTTTTTTTTTTTTTT",ad_ratio:1,variant_class:"insertion",vep_impact:"MODIFIER",seq_id:7,locus_id:7},{genotype_quality:50,zygosity:"HET",pf_wgs:353e-6,hgvsg:"chr4:g.172858073T>C",ad_ratio:.525,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"GALNTL6",is_mane_select:!0,seq_id:8,locus_id:8},{genotype_quality:50,zygosity:"HET",pf_wgs:353e-6,hgvsg:"chr11:g.92239648T>C",ad_ratio:.475,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"FAT3",is_mane_select:!0,seq_id:9,locus_id:9},{genotype_quality:50,zygosity:"HET",pf_wgs:353e-6,gnomad_v3_af:7e-6,hgvsg:"chr10:g.129505704A>T",ad_ratio:.51786,variant_class:"SNV",vep_impact:"MODIFIER",symbol:"MGMT",is_mane_select:!0,seq_id:10,locus_id:10}],rn=[{case_id:1,patient_id:3,mrn:"MRN-283775",priority_code:"asap",status_code:"draft",case_type:"somatic",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHUSJ",requested_by_name:"Centre hospitalier universitaire Sainte-Justine",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Felix Laflamme",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:1,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"},{case_id:2,patient_id:4,mrn:"MRN-283776",priority_code:"routine",status_code:"active",case_type:"somatic",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHUSJ",requested_by_name:"Centre hospitalier universitaire Sainte-Justine",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Melissa Lopez",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:2,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"},{case_id:3,patient_id:8,mrn:"MRN-283780",priority_code:"stat",status_code:"on-hold",case_type:"germline",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHOP",requested_by_name:"Children Hospital of Philadelphia",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Christopher Watson",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:3,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"},{case_id:3,patient_id:8,mrn:"MRN-283780",priority_code:"stat",status_code:"completed",case_type:"germline",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHOP",requested_by_name:"Children Hospital of Philadelphia",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Christopher Watson",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:3,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"},{case_id:4,patient_id:10,mrn:"MRN-283782",priority_code:"urgent",status_code:"revoke",case_type:"germline",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHOP",requested_by_name:"Children Hospital of Philadelphia",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Victoria Breton",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:4,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"},{case_id:5,patient_id:15,mrn:"MRN-283787",priority_code:"urgent",status_code:"incomplete",case_type:"germline_family",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHOP",requested_by_name:"Children Hospital of Philadelphia",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Antoine Paré",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:5,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"},{case_id:6,patient_id:15,mrn:"MRN-283787",priority_code:"routine",status_code:"completed",case_type:"germline_family",case_analysis_code:"WGA",case_analysis_name:"Whole Genome Analysis",primary_condition:"MONDO:0700092",requested_by_code:"CHOP",requested_by_name:"Children Hospital of Philadelphia",project_code:"N1",created_on:"2021-09-12T13:08:00Z",updated_on:"2021-09-12T13:08:00Z",prescriber:"Antoine Paré",performer_lab_code:"CQGC",performer_lab_name:"Quebec Clinical Genomic Center",request_id:5,managing_organization_code:"CHUSJ",managing_organization_name:"Centre hospitalier universitaire Sainte-Justine"}];function Ne({row:a}){return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(D,{iconOnly:!0,variant:"ghost",onClick:a.getToggleExpandedHandler(),className:"text-muted-foreground size-6",children:a.getIsExpanded()?e.jsx($t,{size:16}):e.jsx(Ht,{size:16})})})}Ne.__docgenInfo={description:"",methods:[],displayName:"RowExpandCell"};function Ha({children:a,...t}){return e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{size:"sm",variant:"secondary",...t,children:a})}),e.jsx(C,{children:a})]})}Ha.__docgenInfo={description:"",methods:[],displayName:"AnchorLinkTooltipsCell",props:{component:{required:!1,tsType:{name:"C"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},external:{required:!1,tsType:{name:"boolean"},description:""}}};const on=a=>[{label:a("variant.transmission_mode.autosomal_dominant_de_novo"),value:"autosomal_dominant_de_novo",title:""},{label:a("variant.transmission_mode.autosomal_dominant"),value:"autosomal_dominant",title:""},{label:a("variant.transmission_mode.autosomal_recessive"),value:"autosomal_recessive",title:""},{label:a("variant.transmission_mode.x_linked_dominant_de_novo"),value:"x_linked_dominant_de_novo",title:""},{label:a("variant.transmission_mode.x_linked_recessive_de_novo"),value:"x_linked_recessive_de_novo",title:""},{label:a("variant.transmission_mode.x_linked_dominant"),value:"x_linked_dominant",title:""},{label:a("variant.transmission_mode.x_linked_recessive"),value:"x_linked_recessive",title:""},{label:a("variant.transmission_mode.non_carrier_proband"),value:"non_carrier_proband",title:""},{label:a("variant.transmission_mode.unknown_parents_genotype"),value:"unknown_parents_genotype",title:""},{label:a("variant.transmission_mode.unknown_father_genotype"),value:"unknown_father_genotype",title:""},{label:a("variant.transmission_mode.unknown_mother_genotype"),value:"unknown_mother_genotype",title:""},{label:a("variant.transmission_mode.unknown_proband_genotype"),value:"unknown_proband_genotype",title:""}],Ba=[{label:"PVS1",value:"PVS1",color:"red",title:""},{label:"PS1",value:"PS1",color:"orange",title:""},{label:"PS2",value:"PS2",color:"orange",title:""},{label:"PS3",value:"PS3",color:"orange",title:""},{label:"PS4",value:"PS4",color:"orange",title:""},{label:"PM1",value:"PM1",color:"yellow",title:""},{label:"PM2",value:"PM2",color:"yellow",title:""},{label:"PM3",value:"PM3",color:"yellow",title:""},{label:"PM4",value:"PM4",color:"yellow",title:""},{label:"PM5",value:"PM5",color:"yellow",title:""},{label:"PM6",value:"PM6",color:"yellow",title:""},{label:"PP1",value:"PP1",color:"green",title:""},{label:"PP2",value:"PP2",color:"green",title:""},{label:"PP3",value:"PP3",color:"green",title:""},{label:"PP4",value:"PP4",color:"green",title:""},{label:"PP5",value:"PP5",color:"green",title:""},{label:"BA1",value:"BA1",color:"cyan",title:""},{label:"BS1",value:"BS1",color:"violet",title:""},{label:"BS2",value:"BS2",color:"violet",title:""},{label:"BS3",value:"BS3",color:"violet",title:""},{label:"BS4",value:"BS4",color:"violet",title:""},{label:"BP1",value:"BP1",color:"blue",title:""},{label:"BP2",value:"BP2",color:"blue",title:""},{label:"BP3",value:"BP3",color:"blue",title:""},{label:"BP4",value:"BP4",color:"blue",title:""},{label:"BP5",value:"BP5",color:"blue",title:""},{label:"BP6",value:"BP6",color:"blue",title:""},{label:"BP7",value:"BP7",color:"blue",title:""}],La=a=>{var t;return((t=Ba.find(i=>i.value===a))==null?void 0:t.color)||void 0},Ua=[{label:"OVS1",value:"OVS1",color:"red",title:""},{label:"OS1",value:"OS1",color:"orange",title:""},{label:"OS2",value:"OS2",color:"orange",title:""},{label:"OS3",value:"OS3",color:"orange",title:""},{label:"OM1",value:"OM1",color:"blue",title:""},{label:"OM2",value:"OM2",color:"blue",title:""},{label:"OM3",value:"OM3",color:"blue",title:""},{label:"OM4",value:"OM4",color:"blue",title:""},{label:"OP1",value:"OP1",color:"green",title:""},{label:"OP2",value:"OP2",color:"green",title:""},{label:"OP3",value:"OP3",color:"green",title:""},{label:"OP4",value:"OP4",color:"green",title:""},{label:"SBVS1",value:"SBVS1",color:"violet",title:""},{label:"SBS1",value:"SBS1",color:"violet",title:""},{label:"SBS2",value:"SBS2",color:"violet",title:""},{label:"SBP1",value:"SBP1",color:"cyan",title:""},{label:"SBP2",value:"SBP2",color:"cyan",title:""}],ln=a=>{var t;return((t=Ua.find(i=>i.value===a))==null?void 0:t.color)||void 0},cn=a=>[{label:a("variant.interpretationForm.somatic.clinicalUtility-options.tier_ia"),value:"category_ia",title:""},{label:a("variant.interpretationForm.somatic.clinicalUtility-options.tier_ib"),value:"category_ib",title:""},{label:a("variant.interpretationForm.somatic.clinicalUtility-options.tier_iic"),value:"category_iic",title:""},{label:a("variant.interpretationForm.somatic.clinicalUtility-options.tier_iid"),value:"category_iid",title:""},{label:a("variant.interpretationForm.somatic.clinicalUtility-options.tier_iii"),value:"category_iii",title:""}];var W="ToggleGroup",[Wa,jr]=Kt(W,[qa]),Za=qa(),we=P.forwardRef((a,t)=>{const{type:i,...s}=a;if(i==="single"){const n=s;return e.jsx(dn,{...n,ref:t})}if(i==="multiple"){const n=s;return e.jsx(mn,{...n,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${W}\``)});we.displayName=W;var[Qa,Ja]=Wa(W),dn=P.forwardRef((a,t)=>{const{value:i,defaultValue:s,onValueChange:n=()=>{},...r}=a,[o,l]=Ia({prop:i,defaultProp:s??"",onChange:n,caller:W});return e.jsx(Qa,{scope:a.__scopeToggleGroup,type:"single",value:P.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:P.useCallback(()=>l(""),[l]),children:e.jsx(Ka,{...r,ref:t})})}),mn=P.forwardRef((a,t)=>{const{value:i,defaultValue:s,onValueChange:n=()=>{},...r}=a,[o,l]=Ia({prop:i,defaultProp:s??[],onChange:n,caller:W}),d=P.useCallback(_=>l((p=[])=>[...p,_]),[l]),g=P.useCallback(_=>l((p=[])=>p.filter(T=>T!==_)),[l]);return e.jsx(Qa,{scope:a.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:d,onItemDeactivate:g,children:e.jsx(Ka,{...r,ref:t})})});we.displayName=W;var[pn,un]=Wa(W),Ka=P.forwardRef((a,t)=>{const{__scopeToggleGroup:i,disabled:s=!1,rovingFocus:n=!0,orientation:r,dir:o,loop:l=!0,...d}=a,g=Za(i),_=Yt(o),p={role:"group",dir:_,...d};return e.jsx(pn,{scope:i,rovingFocus:n,disabled:s,children:n?e.jsx(ei,{asChild:!0,...g,orientation:r,dir:_,loop:l,children:e.jsx(Le.div,{...p,ref:t})}):e.jsx(Le.div,{...p,ref:t})})}),pe="ToggleGroupItem",Xa=P.forwardRef((a,t)=>{const i=Ja(pe,a.__scopeToggleGroup),s=un(pe,a.__scopeToggleGroup),n=Za(a.__scopeToggleGroup),r=i.value.includes(a.value),o=s.disabled||a.disabled,l={...a,pressed:r,disabled:o},d=P.useRef(null);return s.rovingFocus?e.jsx(Xt,{asChild:!0,...n,focusable:!o,active:r,ref:d,children:e.jsx(Je,{...l,ref:t})}):e.jsx(Je,{...l,ref:t})});Xa.displayName=pe;var Je=P.forwardRef((a,t)=>{const{__scopeToggleGroup:i,value:s,...n}=a,r=Ja(pe,i),o={role:"radio","aria-checked":a.pressed,"aria-pressed":void 0},l=r.type==="single"?o:void 0;return e.jsx(ri,{...l,...n,ref:t,onPressedChange:d=>{d?r.onItemActivate(s):r.onItemDeactivate(s)}})}),Ya=we,et=Xa;const at=c.createContext({size:"default",variant:"outline"});function ge({className:a,variant:t,size:i,children:s,...n}){return e.jsx(Ya,{className:$("flex items-center justify-center gap-1",a),...n,children:e.jsx(at.Provider,{value:{variant:t,size:i},children:s})})}ge.displayName=Ya.displayName;function O({className:a,children:t,variant:i,size:s,...n}){const r=c.useContext(at),o=oi({variant:r.variant||i,size:r.size||s});return e.jsx(et,{className:o.base({className:a}),...n,children:t})}O.displayName=et.displayName;ge.__docgenInfo={description:"",methods:[]};O.__docgenInfo={description:"",methods:[]};const Ee=me({interpretation:M().min(1,"This field is required"),pubmed:me({citation:M(),citation_id:M()}).array().optional()}),X=me({classification:M().min(1,"This field is required"),classification_criterias:M().array().min(1,"This field is required"),condition:M().min(1,"This field is required"),transmission_modes:M().array().min(1,"This field is required")}).merge(Ee),Ke=me({tumoral_type:M().min(1,"This field is required"),clinical_utility:M().min(1,"This field is required"),oncogenicity:M().min(1,"This field is required"),oncogenicity_classification_criterias:M().array().min(1,"This field is required")}).merge(Ee);function tt(){var k;const{t:a}=m(),{control:t,register:i,getValues:s,setError:n,clearErrors:r,setValue:o,getFieldState:l}=je(),{fields:d,append:g,remove:_}=Jt({control:t,name:"pubmed"}),[p,T]=c.useState(),A=K(p,({value:x})=>ve.getPubmedCitation(x).then(v=>v.data),{onSuccess:x=>{var v;(p==null?void 0:p.index)!==void 0&&o(`pubmed.${p.index}`,{citation_id:x.id.replace("pmid:",""),citation:(v=x.nlm)==null?void 0:v.format})},onError:()=>{p!=null&&p.index&&n(`pubmed.${p.index}.citation`,{message:a("variant.interpretationForm.generic.pubMedIdNotFound")})},revalidateOnFocus:!1}),q=s().pubmed;return e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(G,{infoCardContent:e.jsxs("div",{className:"leading-6",children:[a("variant.interpretationForm.generic.pubMedPublication_popover.enter")," ",e.jsx(f,{className:"inline-flex",href:"https://pubmed.ncbi.nlm.nih.gov/",target:"_blank",size:"sm",external:!0,children:a("variant.interpretationForm.generic.pubMedPublication_popover.pmid")})]}),children:a("variant.interpretationForm.generic.pubMedPublication")}),e.jsxs("div",{className:"space-y-2",children:[d.map((x,v)=>{var Ge,$e;const E=(Ge=s().pubmed)==null?void 0:Ge[v].citation,Z=($e=s().pubmed)==null?void 0:$e[v].citation_id,h=l(`pubmed.${v}.citation`).error;return e.jsxs("div",{children:[e.jsx(gi,{...i(`pubmed.${v}.citation_id`),className:"hidden"}),E&&Z?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"flex-1 border border-input rounded-md p-2 text-sm",children:E}),e.jsx("div",{children:e.jsx(D,{iconOnly:!0,variant:"link",onClick:he=>{he.preventDefault(),_(v)},children:e.jsx(hi,{})})})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsx(_i,{searchButtonProps:{loading:A.isValidating,disabled:!!h},autoFocus:!0,placeholder:a("variant.interpretationForm.generic.citation-placeholder"),onSearch:he=>T({value:he,index:v}),...i(`pubmed.${v}.citation`,{onChange:()=>{h&&r(`pubmed.${v}.citation`)}})},`citation-${x.id}`),(h==null?void 0:h.message)&&e.jsx(ce,{children:h==null?void 0:h.message})]})]},`citation-id-${x.id}`)}),e.jsxs(D,{variant:"link",size:"sm",className:"px-0 gap-1",disabled:!!(q!=null&&q.length)&&!((k=q==null?void 0:q[q.length-1])!=null&&k.citation_id),onClick:()=>g({citation_id:"",citation:""}),children:[e.jsx(Sa,{})," ",a("variant.interpretationForm.generic.addCitation")]})]})]})}tt.__docgenInfo={description:"",methods:[],displayName:"PubmedFormField"};function Ie(){const{t:a}=m(),t=je();return e.jsxs(e.Fragment,{children:[e.jsx(B,{control:t.control,name:"interpretation",schema:Ee,render:({field:i})=>e.jsxs(L,{children:[e.jsx(G,{children:a("variant.interpretationForm.generic.interpretation")}),e.jsx(R,{children:e.jsx(li,{...i})})]})}),e.jsx(tt,{})]})}Ie.__docgenInfo={description:"",methods:[],displayName:"InterpretationFormGeneric"};function it({mondo:a}){var t,i,s,n;return e.jsxs("div",{children:[(t=a.highlight)!=null&&t.name?e.jsx("span",{className:"capitalize [&>strong]:font-normal [&>strong]:bg-primary/35",dangerouslySetInnerHTML:{__html:a.highlight.name}}):e.jsx("span",{children:(i=a.source)==null?void 0:i.name})," ",(s=a.highlight)!=null&&s.id?e.jsxs("span",{className:"[&>strong]:font-normal [&>strong]:bg-blue-200",children:["(",e.jsx("span",{dangerouslySetInnerHTML:{__html:a.highlight.id}}),")"]}):e.jsxs("span",{children:["(",(n=a.source)==null?void 0:n.id,")"]})]})}it.__docgenInfo={description:"",methods:[],displayName:"MondoOptionItemLabel",props:{mondo:{required:!0,tsType:{name:"AutoCompleteTerm"},description:""}}};function qe({name:a,label:t,placeholder:i}){const{t:s}=m(),n=je(),[r,o]=c.useState([]),[l,d]=c.useState(""),g=K(l||n.getValues(a),p=>ci.mondoTermAutoComplete(p),{onSuccess:p=>{o(p.data.map(T=>{var A,q,k,x;return{label:e.jsx(it,{mondo:T}),value:((A=T.source)==null?void 0:A.id)||"",display:vi((q=T.source)==null?void 0:q.name),filter:`${(k=T.source)==null?void 0:k.name}${(x=T.source)==null?void 0:x.id}`}}))},revalidateOnFocus:!1}),_=c.useCallback(xi(p=>d(p),500),[]);return e.jsx(B,{schema:X,control:n.control,name:a,render:({field:p})=>e.jsxs(L,{children:[e.jsx(G,{infoCardContent:e.jsxs("div",{className:"leading-6",children:[s("variant.interpretationForm.germline.condition-popover")," ",e.jsx(f,{href:"https://www.ebi.ac.uk/ols4/ontologies/mondo",target:"_blank",size:"sm",external:!0,children:s("variant.interpretationForm.germline.condition-popover-link")})]}),children:t}),e.jsx(R,{children:e.jsx(fi,{placeholder:i,onSearch:T=>{T.length>=3&&_(T)},options:r,loading:g.isValidating,optionFilterProp:"filter",optionLabelProp:"display",...p})})]})})}qe.__docgenInfo={description:"",methods:[],displayName:"MondoAutoCompleteFormField",props:{name:{required:!0,tsType:{name:"union",raw:"keyof GermlineInterpretationSchemaType | keyof SomaticInterpretationSchemaType",elements:[{name:"z.infer",elements:[{name:"germlineInterpretationFormSchema"}],raw:"z.infer<typeof germlineInterpretationFormSchema>"},{name:"z.infer",elements:[{name:"somaticInterpretationFormSchema"}],raw:"z.infer<typeof somaticInterpretationFormSchema>"}]},description:""},label:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!0,tsType:{name:"string"},description:""}}};const ze=c.forwardRef(({interpretation:a,saveInterpretation:t,onDirtyChange:i},s)=>{const{t:n}=m(),r=Na({resolver:Ea(X),values:{classification:(a==null?void 0:a.classification)||"",classification_criterias:(a==null?void 0:a.classification_criterias)||[],condition:(a==null?void 0:a.condition)||"",transmission_modes:(a==null?void 0:a.transmission_modes)||[],interpretation:(a==null?void 0:a.interpretation)||"",pubmed:(a==null?void 0:a.pubmed)||[]},reValidateMode:"onChange",shouldFocusError:!1});function o(l){t(l)}return c.useEffect(()=>{i(r.formState.isDirty)},[r.formState.isDirty]),c.useImperativeHandle(s,()=>({submit:()=>r.handleSubmit(o)(),isDirty:r.formState.isDirty}),[r,o,r.formState.isDirty]),e.jsx(wa,{...r,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(qe,{name:"condition",label:n("variant.interpretationForm.germline.condition"),placeholder:n("variant.interpretationForm.germline.condition-placeholder")}),e.jsx(B,{schema:X,control:r.control,name:"classification",render:({field:l})=>e.jsxs(L,{children:[e.jsx(G,{infoCardContent:e.jsxs("div",{className:"leading-6",children:[n("variant.interpretationForm.germline.classification_popover.consult")," ",e.jsx(f,{className:"inline-flex",href:"https://pubmed.ncbi.nlm.nih.gov/25741868/",target:"_blank",size:"sm",external:!0,children:n("variant.interpretationForm.germline.classification_popover.standards_and_guidelines")})," ",n("variant.interpretationForm.germline.classification_popover.variant_interpretation")]}),children:n("variant.interpretationForm.germline.classification")}),e.jsx(R,{children:e.jsxs(ge,{type:"single",size:"default",variant:"outline",className:"flex-wrap justify-start",onValueChange:l.onChange,value:l.value,children:[e.jsx(O,{value:"LA6668-3",className:"data-[state=on]:bg-red/20 data-[state=on]:text-red-foreground border data-[state=on]:border-red-foreground data-[state=on]:hover:text-red-foreground",children:n("variant.interpretation.classifications.pathogenic")}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx("span",{children:e.jsx(O,{value:"LA26332-9",className:"data-[state=on]:bg-orange/20 data-[state=on]:text-orange-foreground border data-[state=on]:border-orange-foreground data-[state=on]:hover:text-orange-foreground",children:n("variant.interpretation.classifications.likelyPathogenic")})})}),e.jsx(C,{children:n("variant.interpretation.classifications.likelyPathogenic-tooltip")})]}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx("span",{children:e.jsx(O,{value:"LA26333-7",className:"data-[state=on]:bg-yellow/20 data-[state=on]:text-yellow-foreground border data-[state=on]:border-yellow-foreground data-[state=on]:hover:text-yellow-foreground",children:n("variant.interpretation.classifications.vus")})})}),e.jsx(C,{children:n("variant.interpretation.classifications.vus-tooltip")})]}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx("span",{children:e.jsx(O,{value:"LA26334-5",className:"data-[state=on]:bg-lime/20 data-[state=on]:text-lime-foreground border data-[state=on]:border-lime-foreground data-[state=on]:hover:text-lime-foreground",children:n("variant.interpretation.classifications.likelyBenign")})})}),e.jsx(C,{children:n("variant.interpretation.classifications.likelyBenign-tooltip")})]}),e.jsx(O,{value:"LA6675-8",className:"data-[state=on]:bg-green/20 data-[state=on]:text-green-foreground border data-[state=on]:border-green-foreground data-[state=on]:hover:text-green-foreground",children:n("variant.interpretation.classifications.benign")})]})})]})}),e.jsx(B,{control:r.control,schema:X,name:"classification_criterias",render:({field:l})=>e.jsxs(L,{children:[e.jsx(G,{children:n("variant.interpretationForm.germline.classificationCriteria")}),e.jsx(R,{children:e.jsx(xe,{defaultOptions:Ba,placeholder:n("variant.interpretationForm.germline.classificationCriteria-placeholder"),emptyIndicator:e.jsx(e.Fragment,{children:"no results found."}),renderBadge:({option:d,onRemove:g})=>e.jsx(z,{"data-fixed":d.fixed,onClose:g,variant:La(d.value),children:d.label},d.value),...l})})]})}),e.jsx(B,{control:r.control,schema:X,name:"transmission_modes",render:({field:l})=>e.jsxs(L,{children:[e.jsx(G,{children:n("variant.interpretationForm.germline.modeOfTransmission")}),e.jsx(R,{children:e.jsx(xe,{defaultOptions:on(n),placeholder:n("variant.interpretationForm.germline.modeOfTransmission-placeholder"),emptyIndicator:e.jsx("p",{children:"no results found."}),...l})})]})}),e.jsx(Ie,{})]})})});ze.displayName="InterpretationFormGermline";ze.__docgenInfo={description:"",methods:[{name:"submit",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InterpretationFormGermline",props:{interpretation:{required:!0,tsType:{name:"union",raw:"T | undefined",elements:[{name:"T"},{name:"undefined"}]},description:""},saveInterpretation:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: T) => void",signature:{arguments:[{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:""},onDirtyChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(isDirty: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isDirty"}],return:{name:"void"}}},description:""}}};const nt=c.forwardRef(({interpretation:a,saveInterpretation:t,onDirtyChange:i},s)=>{const{t:n}=m(),r=Na({resolver:Ea(Ke),defaultValues:{tumoral_type:a==null?void 0:a.tumoral_type,oncogenicity:a==null?void 0:a.oncogenicity,oncogenicity_classification_criterias:a==null?void 0:a.oncogenicity_classification_criterias,clinical_utility:a==null?void 0:a.clinical_utility,interpretation:a==null?void 0:a.interpretation,pubmed:a==null?void 0:a.pubmed},reValidateMode:"onChange",shouldFocusError:!1});function o(l){t(l)}return c.useEffect(()=>{i(r.formState.isDirty)},[r.formState.isDirty,i]),c.useImperativeHandle(s,()=>({submit:()=>r.handleSubmit(o)(),isDirty:r.formState.isDirty}),[r,o,r.formState.isDirty]),e.jsx(wa,{...r,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(qe,{name:"tumoral_type",label:n("variant.interpretationForm.somatic.tumoralType"),placeholder:n("variant.interpretationForm.somatic.tumoralType-placeholder")}),e.jsx(B,{control:r.control,schema:Ke,name:"oncogenicity",render:({field:l})=>e.jsxs(L,{children:[e.jsx(G,{children:e.jsxs("span",{children:[n("variant.interpretationForm.somatic.oncogenicity")," (",e.jsx("a",{href:"https://pubmed.ncbi.nlm.nih.gov/35101336/",target:"_blank",className:"text-primary underline hover:no-underline outline-none",rel:"noreferrer",children:"PMID: 35101336"}),")"]})}),e.jsx(R,{children:e.jsxs(ge,{type:"single",size:"default",variant:"outline",className:"flex-wrap justify-start",onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(O,{value:"LA6668-3",className:" data-[state=on]:bg-red/20 data-[state=on]:text-red-foreground border data-[state=on]:border-red-foreground data-[state=on]:hover:text-red-foreground",children:n("variant.interpretationForm.somatic.oncogenicity-options.oncogenic")}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx("span",{children:e.jsx(O,{value:"LA26332-9",className:"data-[state=on]:bg-orange/20 data-[state=on]:text-orange-foreground border data-[state=on]:border-yellow-foreground data-[state=on]:hover:text-orange-foreground",children:n("variant.interpretationForm.somatic.oncogenicity-options.likelyOncogenic")})})}),e.jsx(C,{children:n("variant.interpretationForm.somatic.oncogenicity-options.likelyOncogenic-tooltip")})]}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx("span",{children:e.jsx(O,{value:"LA26333-7",className:" data-[state=on]:bg-yellow/20 data-[state=on]:text-yellow-foreground border data-[state=on]:border-yellow-foreground data-[state=on]:hover:text-yellow-foreground",children:n("variant.interpretationForm.somatic.oncogenicity-options.vus")})})}),e.jsx(C,{children:n("variant.interpretationForm.somatic.oncogenicity-options.vus-tooltip")})]}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx("span",{children:e.jsx(O,{value:"LA26334-5",className:" data-[state=on]:bg-lime/20 data-[state=on]:text-lime-foreground border data-[state=on]:border-lime-foreground data-[state=on]:hover:text-lime-foreground",children:n("variant.interpretationForm.somatic.oncogenicity-options.likelyBenign")})})}),e.jsx(C,{children:n("variant.interpretationForm.somatic.oncogenicity-options.likelyBenign-tooltip")})]}),e.jsx(O,{value:"LA6675-8",className:" data-[state=on]:bg-green/20 data-[state=on]:text-green-foreground border data-[state=on]:border-green-foreground data-[state=on]:hover:text-green-foreground",children:n("variant.interpretationForm.somatic.oncogenicity-options.benign")})]})}),e.jsx(ce,{})]})}),e.jsx(B,{control:r.control,name:"oncogenicity_classification_criterias",render:({field:l})=>e.jsxs(L,{children:[e.jsx(G,{children:n("variant.interpretationForm.somatic.classificationCriteria")}),e.jsx(R,{children:e.jsx(xe,{defaultOptions:Ua,placeholder:n("variant.interpretationForm.somatic.classificationCriteria-placeholder"),emptyIndicator:e.jsx(e.Fragment,{children:"no results found."}),renderBadge:({option:d,onRemove:g})=>e.jsx(z,{"data-fixed":d.fixed,onClose:g,variant:ln(d.value),children:d.label},d.value),...l})}),e.jsx(ce,{})]})}),e.jsx(B,{control:r.control,name:"clinical_utility",render:({field:l})=>e.jsxs(L,{children:[e.jsx(G,{children:n("variant.interpretationForm.somatic.clinicalUtility")}),e.jsx(R,{children:e.jsxs(yi,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(R,{children:e.jsx(bi,{children:e.jsx(ji,{placeholder:n("variant.interpretationForm.somatic.clinicalUtility-placeholder")})})}),e.jsx(Ci,{children:cn(n).map(d=>e.jsx(Ti,{value:d.value,children:d.label},d.value))})]})}),e.jsx(ce,{})]})}),e.jsx(Ie,{})]})})});nt.displayName="InterpretationFormSomatic";nt.__docgenInfo={description:"",methods:[{name:"submit",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InterpretationFormSomatic",props:{interpretation:{required:!0,tsType:{name:"union",raw:"T | undefined",elements:[{name:"T"},{name:"undefined"}]},description:""},saveInterpretation:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: T) => void",signature:{arguments:[{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:""},onDirtyChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(isDirty: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isDirty"}],return:{name:"void"}}},description:""}}};const gn=ka({base:"relative w-full rounded-lg border p-2.5 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});function Fe({className:a,variant:t,...i}){return e.jsx("div",{role:"alert",className:$(gn({variant:t}),a),...i})}Fe.displayName="Alert";function ke({className:a,...t}){return e.jsx("div",{className:$("text-sm [&_p]:leading-relaxed",a),...t})}ke.displayName="AlertDescription";Fe.__docgenInfo={description:"",methods:[],displayName:"Alert"};ke.__docgenInfo={description:"",methods:[],displayName:"AlertDescription"};function st({interpretation:a}){return!(a!=null&&a.updated_by_name)||!a.updated_at?null:e.jsxs(Fe,{className:"flex gap-2 items-center",children:[e.jsx("div",{children:e.jsx(Si,{size:16})}),e.jsxs(ke,{className:"text-foreground",children:["Last update: ",e.jsx("strong",{children:a.updated_by_name})," (",Vt(new Date(a.updated_at),"MMMM d, yyyy, H'h'mm"),")"]})]})}st.__docgenInfo={description:"",methods:[],displayName:"InterpretationLastUpdatedBanner",props:{interpretation:{required:!0,tsType:{name:"union",raw:"Interpretation | undefined",elements:[{name:"union",raw:"InterpretationSomatic | InterpretationGermline",elements:[{name:"InterpretationSomatic"},{name:"InterpretationGermline"}]},{name:"undefined"}]},description:""}}};const _n="http://purl.obolibrary.org/obo/MONDO",hn="http://purl.obolibrary.org/obo/HP";function fn(a){var t=a.split(":")[0],i=a.split(":")[1];switch(t){case"MONDO":return`${_n}_${i}`;case"HP":return`${hn}_${i}`}}function rt({name:a,code:t,onsetCode:i,...s}){return!a||!t?e.jsx(y,{}):e.jsxs("span",{className:"text-sm inline-flex gap-1",...s,children:[a,e.jsxs("span",{children:["(",e.jsx(f,{className:"inline-flex text-sm",size:"sm",href:fn(t),target:"_blank",children:t}),")"]}),i&&e.jsx(z,{variant:"outline",children:i})]})}rt.__docgenInfo={description:"",methods:[],displayName:"PhenotypeConditionLink",props:{name:{required:!1,tsType:{name:"string"},description:""},code:{required:!1,tsType:{name:"string"},description:""},onsetCode:{required:!1,tsType:{name:"string"},description:""}}};const xn={draft:"neutral","on-hold":"yellow",active:"blue",revoke:"red",completed:"green",incomplete:"orange"},vn={draft:Oa,"on-hold":Yi,active:an,revoke:We,completed:qi,incomplete:Wi,cancelled:We};function ot({status:a}){const{t}=m();if(!a)return e.jsx(y,{className:"h-[22px] w-full"});const i=xn[a],s=vn[a];return e.jsxs(z,{variant:i??"neutral",children:[e.jsx(s,{}),t(`caseExploration.status.${a}`)]})}ot.__docgenInfo={description:"",methods:[],displayName:"StatusCell",props:{status:{required:!0,tsType:{name:"union",raw:"'draft' | 'on-hold' | 'revoke' | 'active' | 'completed' | 'incomplete' | undefined",elements:[{name:"literal",value:"'draft'"},{name:"literal",value:"'on-hold'"},{name:"literal",value:"'revoke'"},{name:"literal",value:"'active'"},{name:"literal",value:"'completed'"},{name:"literal",value:"'incomplete'"},{name:"undefined"}]},description:""}}};be([{id:"seq_id",visible:!0,label:"caseEntity.details.assay_id"},{id:"sample_id",visible:!0,label:"caseEntity.details.sample_id"},{id:"sample_type_code",visible:!0,label:"caseEntity.details.sample_code_type"},{id:"histology_code",visible:!0,label:"caseEntity.details.histology_code"},{id:"experimental_strategy_code",visible:!0,label:"caseEntity.details.experimental_strategy_code"},{id:"status_code",visible:!0,label:"caseEntity.details.status_code"},{id:"updated_on",visible:!0,label:"caseEntity.details.updated_on"}]);ka({base:"text-secondary dark:text-foreground",variants:{selected:{true:"bg-accent text-accent-foreground"}},defaultVariants:{selected:!1}});function V({title:a,children:t}){return e.jsxs("div",{className:"flex flex-col gap-2.5",children:[e.jsx("div",{className:"text-xs font-semibold text-primary",children:a}),e.jsx("div",{className:"flex flex-col gap-1",children:t})]})}function u({title:a,value:t,colon:i=!0}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-muted-foreground truncate",children:[a,i&&":"]}),e.jsx("div",{className:"text-sm",children:t})]}),e.jsx(I,{className:"mt-1"})]})}V.__docgenInfo={description:"",methods:[],displayName:"DetailSection",props:{title:{required:!0,tsType:{name:"ReactNode"},description:""}}};u.__docgenInfo={description:"",methods:[],displayName:"DetailItem",props:{title:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"ReactNode"},description:""},colon:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};function Oe({data:a}){var s;const{t}=m(),i=(s=a.clinvar)==null?void 0:s.map(n=>e.jsx(ue,{abbreviated:!0,value:n,children:n}));return e.jsx(V,{title:t("occurrenceExpand.classifications.title"),children:e.jsx(u,{title:t("occurrenceExpand.classifications.clinvar"),value:i!=null&&i.length?e.jsx("div",{className:"flex items-center gap-1",children:i}):"-"})})}Oe.__docgenInfo={description:"",methods:[],displayName:"ClassificationSection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function Pe({data:a}){const{t}=m(),i=a.exomiser_acmg_classification||a.exomiser_acmg_evidence?e.jsxs("div",{className:"flex items-center gap-1",children:[a.exomiser_acmg_classification&&e.jsx(ue,{abbreviated:!0,value:a.exomiser_acmg_classification.replace(" ","_"),children:a.exomiser_acmg_classification}),a.exomiser_acmg_evidence&&a.exomiser_acmg_evidence.map(s=>e.jsx(z,{variant:La(s),children:s},s))]}):"-";return e.jsx(V,{title:t("occurrenceExpand.predictions.title"),children:e.jsx(u,{title:t("occurrenceExpand.predictions.exomiser"),value:a.exomiser_acmg_classification?e.jsx("div",{children:i}):"-"})})}Pe.__docgenInfo={description:"",methods:[],displayName:"PredictionSection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function Me({data:a}){const{t}=m();return e.jsxs(V,{title:t("occurrenceExpand.gene.title"),children:[e.jsx(u,{title:t("occurrenceExpand.gene.pli"),value:a.gnomad_pli?e.jsx(f,{href:`https://gnomad.broadinstitute.org/gene/${a.transcript_id}?dataset=gnomad_r2_1`,target:"_blank",size:"sm",children:ye(a.gnomad_pli)}):"-"}),e.jsx(u,{title:t("occurrenceExpand.gene.loeuf"),value:a.gnomad_loeuf?e.jsx(f,{href:`https://gnomad.broadinstitute.org/gene/${a.transcript_id}?dataset=gnomad_r2_1`,target:"_blank",size:"sm",children:ye(a.gnomad_loeuf)}):"-"}),e.jsx(u,{title:t("occurrenceExpand.gene.revel"),value:a.revel_score??"-"}),e.jsx(u,{title:t("occurrenceExpand.gene.spliceAi"),value:a.spliceai_type?e.jsx(f,{href:`https://spliceailookup.broadinstitute.org/#variant=${a.hgvsg}&hg=38`,target:"_blank",size:"sm",children:e.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.spliceai_ds," ",a.spliceai_type.map(i=>e.jsx(z,{children:i}))]})}):"-"})]})}Me.__docgenInfo={description:"",methods:[],displayName:"GeneSection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function De({data:a}){var o,l,d,g;const{t}=m(),i=a.pc_wgs_affected&&a.pn_wgs_affected&&((o=a.pf_wgs_affected)!=null&&o.toExponential(2))?`${a.pc_wgs_affected} / ${a.pn_wgs_affected} (${(l=a.pf_wgs_affected)==null?void 0:l.toExponential(2)})`:"-",s=e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsxs("span",{className:"inline-flex gap-1 items-center",children:[t("occurrenceExpand.frequencies.affected"),e.jsx(ki,{className:"w-[13px] h-[13px] text-red-500"})]})}),e.jsx(C,{children:t("occurrenceExpand.frequencies.affectedTooltip")})]}),n=a.pc_wgs_not_affected&&a.pn_wgs_not_affected&&((d=a.pf_wgs_not_affected)!=null&&d.toExponential(2))?`${a.pc_wgs_not_affected} / ${a.pn_wgs_not_affected} (${(g=a.pf_wgs_not_affected)==null?void 0:g.toExponential(2)})`:"-",r=e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsxs("span",{className:"inline-flex gap-1 items-center",children:[t("occurrenceExpand.frequencies.nonAffected"),e.jsx(Qi,{className:"w-[13px] h-[13px] text-green-500"})]})}),e.jsx(C,{children:t("occurrenceExpand.frequencies.nonAffectedTooltip")})]});return e.jsxs(V,{title:t("occurrenceExpand.frequencies.title"),children:[e.jsx(u,{title:s,value:i}),e.jsx(u,{title:r,value:n}),e.jsx(u,{title:t("occurrenceExpand.frequencies.gnomad"),value:a.gnomad_v3_af?e.jsx(f,{size:"sm",href:`https://gnomad.broadinstitute.org/variant/${a.locus}?dataset=gnomad_r3`,target:"_blank",children:ye(a.gnomad_v3_af)}):"-"})]})}De.__docgenInfo={description:"",methods:[],displayName:"FrequencySection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function lt({data:a}){const{t}=m();return e.jsxs(V,{title:t("occurrenceExpand.functionalScores.title"),children:[e.jsx(u,{title:t("occurrenceExpand.functionalScores.sift"),value:a.sift_pred?`${a.sift_pred} (${a.sift_score})`:"-"}),e.jsx(u,{title:t("occurrenceExpand.functionalScores.revel"),value:a.revel_score?a.revel_score.toExponential(2):"-"}),e.jsx(u,{title:t("occurrenceExpand.functionalScores.fathmm"),value:a.fathmm_pred?`${a.fathmm_pred} (${a.fathmm_score})`:"-"}),e.jsx(u,{title:t("occurrenceExpand.functionalScores.caddRaw"),value:a.cadd_score?a.cadd_score.toExponential(2):"-"}),e.jsx(u,{title:t("occurrenceExpand.functionalScores.caddPhred"),value:a.cadd_phred?a.cadd_phred.toExponential(2):"-"})]})}lt.__docgenInfo={description:"",methods:[],displayName:"FunctionalScoreSection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function Ve({data:a}){const{t}=m(),i=a.zygosity?a.zygosity:"-",s=a.transmission?Ze(Qe(a.transmission)):"-",n=a.parental_origin?Ze(Qe(a.parental_origin)):"-";return e.jsxs(V,{title:t("occurrenceExpand.zygosity.title"),children:[e.jsx(u,{title:t("occurrenceExpand.zygosity.zygosity"),value:i}),e.jsx(u,{title:t("occurrenceExpand.zygosity.inheritance"),value:s}),e.jsx(u,{title:t("occurrenceExpand.zygosity.parentalOrigin"),value:n})]})}Ve.__docgenInfo={description:"",methods:[],displayName:"ZygositySection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function ct({data:a}){const{t}=m(),i=e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsxs("span",{className:"inline-flex gap-1 items-center",children:[t("occurrenceExpand.family.fatherGenotype")," ",e.jsx(Oi,{size:13})]})}),e.jsx(C,{children:a.father_calls&&a.father_calls[0]>0?t("occurrenceExpand.family.affectedTooltip"):t("occurrenceExpand.family.notAffectedTooltip")})]}),s=e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsxs("span",{className:"inline-flex gap-1 items-center",children:[t("occurrenceExpand.family.motherGenotype")," ",e.jsx(Pi,{size:13})]})}),e.jsx(C,{children:a.mother_calls&&a.mother_calls[0]>0?t("occurrenceExpand.family.affectedTooltip"):t("occurrenceExpand.family.notAffectedTooltip")})]});return e.jsxs(V,{title:t("occurrenceExpand.family.title"),children:[e.jsx(u,{title:i,value:a.father_calls?a.father_calls.map(n=>n.toString()).join("/"):"-"}),e.jsx(u,{title:s,value:a.mother_calls?a.mother_calls.map(n=>n.toString()).join("/"):"-"})]})}ct.__docgenInfo={description:"",methods:[],displayName:"FamilySection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};const Xe=3;function Ae({data:a}){var r;const{t}=m(),i=t("common.noDataAvailable"),s=c.useCallback(o=>o.map(l=>e.jsx(z,{children:l},l)),[]);let n=[];return(r=a.omim_conditions)==null||r.forEach((o,l)=>{if(l===Xe){n.push(e.jsx(f,{component:Ma,to:`/variants/entity/${a.locus_id}#evidenceAndConditions`,className:"justify-start",size:"sm",children:e.jsx("span",{className:"max-w-72 overflow-hidden text-ellipsis",children:t("common.actions.seeMore")})}));return}else if(l>Xe)return;n.push(e.jsx(u,{title:o.panel?e.jsx(f,{href:`https://www.omim.org/entry/${o.omim_phenotype_id}`,target:"_blank",size:"sm",children:o.panel}):i,value:o.inheritance_code?e.jsx("div",{className:"flex items-center gap-1",children:s(o.inheritance_code)}):"-",colon:!1}))}),e.jsx(V,{title:t("occurrenceExpand.clinicalAssociation.title"),children:a.omim_conditions?n:e.jsx("div",{className:"text-sm text-muted-foreground",children:t("common.noDataAvailable")})})}Ae.__docgenInfo={description:"",methods:[],displayName:"ClinicalAssociationSection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function dt({data:a}){const{t}=m(),i=e.jsxs("span",{className:"inline-flex gap-1 items-center",children:[(a==null?void 0:a.genotype_quality)>=20?e.jsx(nn,{strokeWidth:1.5,className:"w-[13px] h-[13px] text-opacity-50"}):e.jsx(Vi,{className:"w-[13px] h-[13px] text-destructive"}),a!=null&&a.genotype_quality?a==null?void 0:a.genotype_quality:"-"]});return e.jsxs(V,{title:t("occurrenceExpand.metrics.title"),children:[e.jsx(u,{title:t("occurrenceExpand.metrics.qualityDepth"),value:"-"}),e.jsx(u,{title:t("occurrenceExpand.metrics.alleleDepthAlt"),value:a!=null&&a.ad_alt?a.ad_alt:"-"}),e.jsx(u,{title:t("occurrenceExpand.metrics.totalDepthAltRef"),value:(a==null?void 0:a.ad_total)||"-"}),e.jsx(u,{title:t("occurrenceExpand.metrics.genotypeQuality"),value:i}),e.jsx(u,{title:t("occurrenceExpand.metrics.filter"),value:a!=null&&a.filter?a==null?void 0:a.filter:"-"})]})}dt.__docgenInfo={description:"",methods:[],displayName:"MetricSection",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function mt({data:a}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(Oe,{data:a}),e.jsx(Pe,{data:a}),e.jsx(Me,{data:a})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(De,{data:a}),e.jsx(lt,{data:a})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(Ve,{data:a}),e.jsx(Ae,{data:a})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(ct,{data:a}),e.jsx(dt,{data:a})]})]})}mt.__docgenInfo={description:"",methods:[],displayName:"OccurrenceExpandDetails",props:{data:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};function pt({occurrence:a}){const{t}=m();return e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(f,{component:Ma,to:`/variants/entity/${a.locus_id}`,size:"lg",target:"_blank",external:!0,children:e.jsx("span",{className:"max-w-72 overflow-hidden text-ellipsis",children:a.hgvsg})}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx(Re,{occurrence:a,renderTrigger:i=>e.jsxs(D,{size:"xs",onClick:i,children:[e.jsx(Oa,{})," ",t("occurrenceExpand.actions.interpret")]})})}),e.jsx(I,{orientation:"vertical",className:"h-5"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(D,{variant:"link",className:"px-0",children:e.jsx("a",{href:`https://genome.ucsc.edu/cgi-bin/hgTracks?db=hg38&lastVirtModeType=default&lastVirtModeExtraState=&virtModeType=default&virtMode=0&nonVirtPosition=&position=chr${a.chromosome}%3A${a.start}-${a.start}`,target:"_blank",rel:"noopener noreferrer",children:"UCSC"})}),a.rsnumber&&e.jsx(D,{variant:"link",className:"px-0",children:e.jsx("a",{href:`https://www.ncbi.nlm.nih.gov/research/litvar2/docsum?text=${a.rsnumber}`,target:"_blank",rel:"noopener noreferrer",children:"LitVAR"})})]})]})]})}pt.__docgenInfo={description:"",methods:[],displayName:"OccurrenceExpandHeader",props:{occurrence:{required:!0,tsType:{name:"Occurrence"},description:""}}};function ut({occurrence:a,expandedOccurrence:t}){return e.jsxs("div",{className:"flex items-center gap-3",children:[t.symbol&&e.jsxs("div",{className:"flex items-center gap-2",children:[t.symbol&&e.jsx(f,{size:"sm",variant:"primary",href:Te({symbol:t.symbol}),target:"_blank",children:t.symbol}),e.jsxs("div",{children:["(",e.jsx(f,{size:"xs",variant:"primary",href:Ai(t.symbol),target:"_blank",children:"Ensembl"}),")"]}),e.jsx(I,{orientation:"vertical",className:"h-5"})]}),(a==null?void 0:a.transcript_id)&&e.jsxs(e.Fragment,{children:[e.jsx(Da,{transcriptId:a.transcript_id,isCanonical:a.is_canonical,isManeSelect:a.is_mane_select,isManePlus:a.is_mane_plus,linkClassName:"text-sm text-primary"}),e.jsx(I,{orientation:"vertical",className:"h-5"})]}),t.exon_rank&&t.exon_total&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Exon: ",t.exon_rank," / ",t.exon_total]}),e.jsx(I,{orientation:"vertical",className:"h-5"})]}),t.dna_change&&e.jsxs(e.Fragment,{children:[t.dna_change,e.jsx(I,{orientation:"vertical",className:"h-5"})]}),a.picked_consequences&&a.vep_impact&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{vepImpact:a.vep_impact,consequence:a.picked_consequences[0],size:"sm"})," ",a.aa_change&&` - ${a.aa_change}`]}),t.rsnumber&&e.jsxs(e.Fragment,{children:[e.jsx(I,{orientation:"vertical",className:"h-5"}),e.jsx(f,{href:Va(t.rsnumber),target:"_blank",rel:"noreferrer",size:"sm",children:t.rsnumber})]})]})}ut.__docgenInfo={description:"",methods:[],displayName:"OccurrenceExpandTranscript",props:{occurrence:{required:!0,tsType:{name:"Occurrence"},description:""},expandedOccurrence:{required:!0,tsType:{name:"ExpandedOccurrence"},description:""}}};async function yn(a){return(await za.getExpandedGermlineOccurrence(a.seqId,a.locusId)).data}function _e({occurrence:a}){const{data:t,isLoading:i}=K({locusId:a.locus_id.toString(),seqId:a.seq_id.toString()},yn,{shouldRetryOnError:!1,revalidateOnFocus:!1});return e.jsxs(Ni,{className:"shadow-none py-4 gap-4",children:[e.jsx(wi,{className:"flex px-4",children:e.jsx(pt,{occurrence:a})}),e.jsx(I,{}),e.jsxs(Ei,{className:"px-4 space-y-3",children:[e.jsx("div",{className:"border rounded-sm p-4",children:i||t===void 0?e.jsx(y,{className:"w-full h-6"}):e.jsx(ut,{occurrence:a,expandedOccurrence:t})}),e.jsx("div",{className:"border rounded-sm p-4 gap-10 grid grid-cols-2 2xl:grid-cols-4",children:i||t===void 0?e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsx(ee,{}),e.jsx(ee,{}),e.jsx(ee,{})]}):e.jsx(mt,{data:t})})]})]})}function ee(){return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(y,{className:"w-full h-4"}),e.jsx(y,{className:"w-full h-6"}),e.jsx(y,{className:"w-full h-4"}),e.jsx(y,{className:"w-full h-6"}),e.jsx(y,{className:"w-full h-6"}),e.jsx(y,{className:"w-full h-4"}),e.jsx(y,{className:"w-full h-6"}),e.jsx(y,{className:"w-full h-6"}),e.jsx(y,{className:"w-full h-6"})]})}_e.__docgenInfo={description:"",methods:[],displayName:"OccurrenceExpand",props:{occurrence:{required:!0,tsType:{name:"Occurrence"},description:""}}};const bn=c.createContext(""),jn=c.createContext(void 0);function gt({occurrence:a}){const{t}=m(),i=c.useContext(jn),s=c.useContext(bn);if(!a)return null;const n=i==null?void 0:i.assays.find(r=>r.seq_id.toString()===s);return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{href:`/variants/entity/${a.locus_id}`,size:"lg",external:!0,children:e.jsx("span",{className:"max-w-72 overflow-hidden text-ellipsis",children:a.hgvsg})}),e.jsx(z,{children:t("variant.interpretationForm.header.germline")}),e.jsx(I,{className:"h-6",orientation:"vertical"}),e.jsxs("span",{className:"capitalize",children:[(n==null?void 0:n.relationship_to_proband)??t("caseEntity.patientInformation.proband")," (",n==null?void 0:n.seq_id,")"]}),e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx(z,{variant:"blue",children:i==null?void 0:i.case_analysis_code})}),e.jsx(C,{children:i==null?void 0:i.case_analysis_name})]})]})}gt.__docgenInfo={description:"",methods:[],displayName:"InterpretationVariantHeader",props:{occurrence:{required:!1,tsType:{name:"Occurrence"},description:""}}};function Cn(a,t){const i=c.useCallback(async()=>ve.getInterpretationGermline(a.seq_id.toString(),a.locus_id.toString(),a.transcript_id).then(n=>n.data),[t,a.seq_id,a.locus_id,a.transcript_id]),s=c.useCallback(async(n,r)=>ve.postInterpretationGermline(a.seq_id.toString(),a.locus_id.toString(),a.transcript_id,r.arg.interpretation).then(o=>o.data),[t,a.seq_id,a.locus_id,a.transcript_id]);return{fetch:i,save:s}}function Tn(a){return{fetch:c.useCallback(async()=>za.getExpandedGermlineOccurrence(a.seq_id.toString(),a.locus_id.toString()).then(i=>i.data),[a.seq_id,a.locus_id])}}const Ye=mi?a=>{a()}:P.startTransition,Sn=a=>{const[,t]=c.useState({}),i=c.useRef(!1),s=c.useRef(a),n=c.useRef({data:!1,error:!1,isValidating:!1}),r=c.useCallback(o=>{let l=!1;const d=s.current;for(const g in o)if(Object.prototype.hasOwnProperty.call(o,g)){const _=g;d[_]!==o[_]&&(d[_]=o[_],n.current[_]&&(l=!0))}l&&!i.current&&t({})},[]);return Fa(()=>(i.current=!1,()=>{i.current=!0})),[s,n.current,r]},Nn=()=>(a,t,i={})=>{const{mutate:s}=pi(),n=c.useRef(a),r=c.useRef(t),o=c.useRef(i),l=c.useRef(0),[d,g,_]=Sn({data:Y,error:Y,isMutating:!1}),p=d.current,T=c.useCallback(async(q,k)=>{const[x,v]=ui(n.current);if(!r.current)throw new Error("Can’t trigger the mutation: missing fetcher.");if(!x)throw new Error("Can’t trigger the mutation: missing key.");const E=fe(fe({populateCache:!1,throwOnError:!0},o.current),k),Z=Ue();l.current=Z,_({isMutating:!0});try{const h=await s(x,r.current(v,{arg:q}),fe(E,{throwOnError:!0}));return l.current<=Z&&(Ye(()=>_({data:h,isMutating:!1,error:void 0})),E.onSuccess==null||E.onSuccess.call(E,h,x,E)),h}catch(h){if(l.current<=Z&&(Ye(()=>_({error:h,isMutating:!1})),E.onError==null||E.onError.call(E,h,x,E),E.throwOnError))throw h}},[]),A=c.useCallback(()=>{l.current=Ue(),_({data:Y,error:Y,isMutating:!1})},[]);return Fa(()=>{n.current=a,r.current=t,o.current=i}),{trigger:T,reset:A,get data(){return g.data=!0,p.data},get error(){return g.error=!0,p.error},get isMutating(){return g.isMutating=!0,p.isMutating}}},wn=di(K,Nn);function _t({occurrence:a}){var i;const{t}=m();return e.jsxs("div",{className:"flex items-center rounded-sm gap-4 border p-3",children:[e.jsx("span",{className:"font-semibold text-base",children:a!=null&&a.symbol?e.jsx(f,{href:Te({symbol:a.symbol}),target:"_blank",rel:"noreferrer",onClick:s=>s.stopPropagation(),size:"sm",children:a.symbol}):"-"}),(i=a==null?void 0:a.picked_consequences)!=null&&i[0]&&a.vep_impact?e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(Ce,{vepImpact:a.vep_impact,consequence:a.picked_consequences[0],size:"sm"})," ",a.aa_change&&` - ${a.aa_change}`]}):"-",e.jsx(I,{className:"h-5",orientation:"vertical"}),(a==null?void 0:a.transcript_id)&&e.jsx(Da,{transcriptId:a.transcript_id,isCanonical:a.is_canonical,isManeSelect:a.is_mane_select,isManePlus:a.is_mane_plus,linkClassName:"text-sm text-primary"}),e.jsx(I,{className:"h-5",orientation:"vertical"}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:"text-muted-foreground",children:[t("variant.interpretationForm.transcript.exon"),":"," ",a!=null&&a.exon_rank&&(a!=null&&a.exon_total)?`${a==null?void 0:a.exon_rank} / ${a==null?void 0:a.exon_total}`:"-"]})}),(a==null?void 0:a.dna_change)&&e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-5",orientation:"vertical"}),a.dna_change]}),(a==null?void 0:a.rsnumber)&&e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-5",orientation:"vertical"}),e.jsx(f,{href:Va(a.rsnumber),target:"_blank",rel:"noreferrer",size:"sm",children:a.rsnumber})]})]})}_t.__docgenInfo={description:"",methods:[],displayName:"InterpretationTranscript",props:{occurrence:{required:!1,tsType:{name:"ExpandedOccurrence"},description:""}}};function ht({occurrence:a}){return a?e.jsxs("div",{className:"space-y-4",children:[e.jsx(Oe,{data:a}),e.jsx(Pe,{data:a}),e.jsx(De,{data:a}),e.jsx(Ve,{data:a}),e.jsx(Me,{data:a}),e.jsx(Ae,{data:a})]}):null}ht.__docgenInfo={description:"",methods:[],displayName:"OccurrenceDetails",props:{occurrence:{required:!1,tsType:{name:"ExpandedOccurrence"},description:""}}};const En=!1;function Re({occurrence:a,handleSaveCallback:t,renderTrigger:i}){const{t:s}=m(),[n,r]=c.useState(!1),[o,l]=c.useState(!1),d=c.useRef(null),g=c.useRef(null),{fetch:_,save:p}=Cn(a,En),{fetch:T}=Tn(a),A=`interpretation-${a.seq_id}-${a.locus_id}-${a.transcript_id}`,q=`occurrence-${a.seq_id}-${a.locus_id}`,k=K(q,T,{revalidateOnFocus:!1,revalidateOnMount:!1,shouldRetryOnError:!1}),x=K(A,_,{revalidateOnFocus:!1,revalidateOnMount:!1,shouldRetryOnError:!1}),v=wn(A,p,{onSuccess:()=>{r(!1),t&&t(),Be(s("variant.interpretationForm.notification.success"))},onError:()=>{r(!1),Be(s("variant.interpretationForm.notification.error.title"),{description:s("variant.interpretationForm.notification.error.text")})}}),E=c.useCallback(()=>{var h;(h=d.current)==null||h.submit()},[g,d]),Z=c.useCallback(async()=>{r(!0),x.mutate(),k.mutate()},[]);return e.jsxs(Bt,{open:n,onOpenChange:r,children:[i(Z),e.jsx(Lt,{className:"max-w-[calc(100vw-48px)] min-h-[calc(100vh-48px)] w-[1200px]",onEscapeKeyDown:h=>h.preventDefault(),children:x.isLoading||k.isLoading?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Hi,{size:32})}):e.jsxs("div",{children:[e.jsx(Ut,{children:e.jsx(Wt,{children:s("variant.interpretationForm.title")})}),e.jsx(I,{className:"mt-6"}),e.jsxs("div",{className:"py-6 overflow-scroll space-y-6 h-[calc(95vh-150px)]",children:[e.jsx(st,{interpretation:x.data}),e.jsx(gt,{occurrence:a}),e.jsx(_t,{occurrence:k.data}),e.jsxs("div",{className:"grid gap-6 grid-cols-12",children:[e.jsx("div",{className:"rounded-sm col-span-7 border p-6 bg-muted/40",children:e.jsx(ze,{ref:d,interpretation:x.data,saveInterpretation:h=>v.trigger({interpretation:h}),onDirtyChange:l})}),e.jsx("div",{className:"rounded-sm col-span-5 border py-4 px-6",children:e.jsx(ht,{occurrence:k.data})})]})]}),e.jsx(I,{className:"mb-6"}),e.jsxs(Zt,{children:[e.jsx(Qt,{asChild:!0,children:e.jsx(D,{variant:"outline",children:s("variant.interpretationForm.cancelText")})}),e.jsx(D,{type:"submit",color:"primary",loading:v.isMutating,onClick:E,disabled:!o,children:s("variant.interpretationForm.okText")})]})]})})]})}Re.__docgenInfo={description:"",methods:[],displayName:"InterpretationDialog",props:{occurrence:{required:!0,tsType:{name:"Occurrence"},description:""},handleSaveCallback:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},renderTrigger:{required:!0,tsType:{name:"signature",type:"function",raw:"(handleOpen: () => void) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},name:"handleOpen"}],return:{name:"ReactNode"}}},description:""}}};function ft({occurrence:a}){const{t}=m(),[i,s]=c.useState(a.has_interpretation),n=function(){a.has_interpretation||s(!0)};return e.jsx(Re,{occurrence:a,handleSaveCallback:n,renderTrigger:r=>e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx(D,{className:$("size-6",{"text-primary":i,"text-muted-foreground":!i}),iconOnly:!0,variant:"ghost",onClick:r,children:e.jsx($a,{className:$({"fill-primary":i}),size:16})})}),e.jsx(C,{children:t("variant.interpretation.tooltips")})]})})}ft.__docgenInfo={description:`If an interpretation is updated, we update the icon localy to prevent 
unecessary call to api`,methods:[],displayName:"InterpretationCell",props:{occurrence:{required:!0,tsType:{name:"Occurrence"},description:""}}};function F({className:a}){const{t}=m();return e.jsx("div",{className:$("flex items-center font-bold",a),children:t("common.components.emptyCell")})}F.__docgenInfo={description:"",methods:[],displayName:"EmptyCell",props:{className:{required:!1,tsType:{name:"string"},description:""}}};function xt({value:a}){const{t}=m();return a?e.jsxs(b,{children:[e.jsx(j,{children:t(`variant.classes.${a.toLowerCase()}`)}),e.jsx(C,{children:a})]}):e.jsx(F,{})}xt.__docgenInfo={description:"",methods:[],displayName:"VariantClassCell",props:{value:{required:!1,tsType:{name:"string"},description:""}}};function vt({className:a,symbol:t}){const s=Rt().variant_exploration.app_id;return t?e.jsxs("div",{className:$("flex items-center gap-1",a),children:[e.jsx(f,{size:"sm",variant:"secondary",href:Te({symbol:t}),target:"_blank",children:t}),e.jsx(D,{size:"xs",variant:"ghost",iconOnly:!0,className:"size-5",onClick:()=>{zi.updateActiveQueryField(s,{field:"symbol",value:[t],merge_strategy:Fi.OVERRIDE_VALUES})},children:e.jsx(Sa,{})})]}):e.jsx(F,{})}vt.__docgenInfo={description:`Display Symbol of the gene whose consequence was prioritized by the picked as the value in the table.
Hyperlink on the gene with the gene_omim_id of the gene whose consequence was prioritized by the picked.:
https://www.omim.org/entry/<gene_omim_id>
+ to add the symbol in a new Query bar where query pill: Gene Symbol = symbol`,methods:[],displayName:"GeneCell",props:{className:{required:!1,tsType:{name:"string"},description:""},symbol:{required:!1,tsType:{name:"string"},description:""}}};function yt({vepImpact:a,consequences:t,aaChange:i}){return a===void 0||t===void 0?e.jsx(F,{}):e.jsxs("div",{className:$("flex items-center gap-2"),children:[e.jsx(Ce,{vepImpact:a,consequence:t[0],size:"sm"}),i&&` - ${i}`]})}yt.__docgenInfo={description:`Only show the most deleterious consequence out of all the consequences for the variant
Order of display:
1) vep_impact displayed with an icon (red triangle, circle, etc.., use existing mechanism)
2) consequence displayed in text (e.g., Stop Gained, Intron variant, etc.) Follow this formatting for the values.
   @dico.snv.consequences.consequences
3) “-”
4) aa_Change, displayed in text for the Amino Acid change
e.g. [VEP icon] Missense - p.Ter250Arg

@fixme aa_change is empty in api at the moment`,methods:[],displayName:"MostDeleteriousConsequenceCell",props:{vepImpact:{required:!1,tsType:{name:"VepImpact"},description:""},consequences:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},aaChange:{required:!1,tsType:{name:"string"},description:""}}};function bt({isCanonical:a,isManeSelect:t,isManePlus:i}){if(!a&&!t&&!i)return e.jsx(F,{});const s=[{condition:a,icon:e.jsx(Ri,{})},{condition:t,icon:e.jsx(Gi,{})},{condition:i,icon:e.jsx($i,{})}];return e.jsx("div",{className:"inline-flex items-center gap-1",children:s.filter(({condition:n})=>n).map(({icon:n})=>n)})}bt.__docgenInfo={description:"",methods:[],displayName:"ManeCell",props:{isCanonical:{required:!1,tsType:{name:"boolean"},description:""},isManeSelect:{required:!1,tsType:{name:"boolean"},description:""},isManePlus:{required:!1,tsType:{name:"boolean"},description:""}}};function jt({codes:a=[]}){const{t}=m();return a.length===0?e.jsx(F,{}):e.jsx(e.Fragment,{children:a.map(i=>e.jsxs(b,{children:[e.jsx(j,{children:e.jsx(z,{className:$("me-2"),children:i},i)}),e.jsx(C,{children:t(`variant.omim.${i}`)})]},i))})}jt.__docgenInfo={description:"Show inheritance Tags associated with the Picked consequence.",methods:[],displayName:"OmimCell",props:{codes:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}}}};function Ct({codes:a=[]}){return a.length===0?e.jsx(F,{}):e.jsx("div",{className:"flex gap-1",children:a.map(t=>e.jsx(ue,{value:t,abbreviated:!0},t))})}Ct.__docgenInfo={description:"",methods:[],displayName:"ClinvarCell",props:{codes:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}}}};const In=.01;function Tt({value:a}){if(a===void 0)return e.jsx(F,{});const t=Pa(a);return e.jsxs("span",{className:"flex gap-2 items-center",children:[a<In?e.jsx("div",{className:"text-red-500 bg-red-500 rounded-full w-[10px] h-[10px]"}):e.jsx(ai,{className:"text-gray-500",size:10}),t||a]})}Tt.__docgenInfo={description:`Put the value in scientific writing 2 digits after the decimal point
Indicator: Red circle when values are < 1%`,methods:[],displayName:"GnomadCell",props:{value:{required:!1,tsType:{name:"number"},description:""}}};function St({value:a,locusId:t}){if(a===void 0||t===void 0)return e.jsx(F,{});const i=Pa(a);return e.jsx(f,{size:"sm",href:`/variants/entity/${t}#cases`,target:"_blank",children:i||a})}St.__docgenInfo={description:`@todo hyperlink on the # participant_number redirect to the Data Explore and
      add the participant’s IDs to the query using studies.participant_ids.`,methods:[],displayName:"ParticipantFrequencyCell",props:{value:{required:!1,tsType:{name:"number"},description:""},locusId:{required:!1,tsType:{name:"string"},description:""}}};function de({value:a,fractionDigits:t=2}){return a===void 0?e.jsx(F,{}):e.jsx("span",{children:a.toFixed(t)})}de.__docgenInfo={description:"",methods:[],displayName:"NumberCell",props:{value:{required:!1,tsType:{name:"number"},description:""},fractionDigits:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};function Nt({value:a}){return a?e.jsx("span",{children:{HEM:"1",HET:"0/1"}[a]??"-"}):e.jsx(F,{})}Nt.__docgenInfo={description:"",methods:[],displayName:"ZygosityCell",props:{value:{required:!1,tsType:{name:"string"},description:""}}};function wt({code:a}){return a?e.jsx("div",{className:"flex gap-1",children:e.jsx(ue,{value:a,abbreviated:!0},a)}):e.jsx(F,{})}wt.__docgenInfo={description:"",methods:[],displayName:"ExomiserAcmgCell",props:{code:{required:!1,tsType:{name:"string"},description:""}}};function Et({rsnumber:a}){return a?e.jsx(f,{size:"sm",href:`https://www.ncbi.nlm.nih.gov/snp/${a}`,target:"_blank",external:!0}):e.jsx(F,{})}Et.__docgenInfo={description:"",methods:[],displayName:"DbSNPCell",props:{rsnumber:{required:!1,tsType:{name:"string"},description:""}}};const S=Ta();function It(a){return[{id:"row_expand",cell:Ne,size:40,enableResizing:!1,enablePinning:!1},S.accessor(t=>t,{id:"clinical_interpretation",cell:t=>e.jsx(ft,{occurrence:t.getValue()}),header:()=>e.jsx("div",{className:"flex justify-center",children:e.jsx(w,{tooltips:a("variant.headers.clinical_interpretation"),iconOnly:!0,children:e.jsx($a,{size:16})})}),size:40,enablePinning:!1,enableResizing:!1,enableSorting:!1}),S.accessor(t=>t.hgvsg,{id:"hgvsg",cell:t=>e.jsx(Ha,{href:`/variants/entity/${t.row.original.locus_id}`,className:"overflow-hidden text-ellipsis block",target:"_blank",children:t.getValue()}),header:a("variant.headers.hgvsg"),size:150,minSize:120}),S.accessor(t=>t.variant_class,{id:"variant_class",cell:t=>e.jsx(xt,{value:t.getValue()}),header:a("variant.headers.variant_class"),minSize:120}),S.accessor(t=>t.rsnumber,{id:"dbSNP",cell:t=>e.jsx(Et,{rsnumber:t.getValue()}),header:a("variant.headers.dbSNP"),size:100,minSize:100,enableSorting:!1}),S.accessor(t=>t.symbol,{id:"symbol",cell:t=>e.jsx(vt,{symbol:t.getValue()}),header:a("variant.headers.symbol"),minSize:120,enableSorting:!1}),S.accessor(t=>t,{id:"picked_consequences",cell:t=>e.jsx(yt,{vepImpact:t.getValue().vep_impact,consequences:t.getValue().picked_consequences,aaChange:t.getValue().aa_change}),header:()=>e.jsx(w,{tooltips:a("variant.headers.picked_consequences_tooltips"),children:a("variant.headers.picked_consequences")}),size:225,enableSorting:!1,minSize:160}),S.accessor(t=>t,{id:"is_mane_select",cell:t=>e.jsx(bt,{isManePlus:t.getValue().is_mane_plus,isManeSelect:t.getValue().is_mane_select,isCanonical:t.getValue().is_canonical}),header:a("variant.headers.is_mane_select"),enableSorting:!1,minSize:120}),S.accessor(t=>t.omim_inheritance_code,{id:"omim_inheritance_code",cell:t=>e.jsx(jt,{codes:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("variant.headers.omim_inheritance_code_tooltips"),children:a("variant.headers.omim_inheritance_code")}),minSize:120,enableSorting:!1}),S.accessor(t=>t.clinvar,{id:"clinvar",cell:t=>e.jsx(Ct,{codes:t.getValue()}),header:a("variant.headers.clinvar"),minSize:120,enableSorting:!1}),S.accessor(t=>t.exomiser_gene_combined_score,{id:"exomiser_gene_combined_score",cell:t=>e.jsx(de,{value:t.getValue(),fractionDigits:4}),header:()=>e.jsx(w,{tooltips:a("variant.headers.exomiser_gene_combined_score_tooltips"),children:a("variant.headers.exomiser_gene_combined_score")}),minSize:100}),S.accessor(t=>t.exomiser_acmg_classification,{id:"exomiser_acmg_classification",cell:t=>e.jsx(wt,{code:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("variant.headers.exomiser_acmg_classification_tooltips"),children:a("variant.headers.exomiser_acmg_classification")}),minSize:100}),S.accessor(t=>t.gnomad_v3_af,{id:"gnomad_v3_af",cell:t=>e.jsx(Tt,{value:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("variant.headers.gnomad_v3_af_tooltips"),children:a("variant.headers.gnomad_v3_af")}),minSize:120}),S.accessor(t=>t.pf_wgs,{id:"pf_wgs",cell:t=>e.jsx(St,{locusId:t.row.original.locus_id,value:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("variant.headers.pf_wgs_tooltips"),children:a("variant.headers.pf_wgs")}),minSize:120}),S.accessor(t=>t.genotype_quality,{id:"genotype_quality",cell:t=>e.jsx(de,{value:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("variant.headers.genotype_quality_tooltips"),children:a("variant.headers.genotype_quality")}),minSize:120}),S.accessor(t=>t.zygosity,{id:"zygosity",cell:t=>e.jsx(Nt,{value:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("variant.headers.zygosity_tooltips"),children:a("variant.headers.zygosity")}),minSize:120,enableSorting:!1}),S.accessor(t=>t.ad_ratio,{id:"ad_ratio",cell:t=>e.jsx(de,{value:t.getValue()}),header:a("variant.headers.ad_ratio"),minSize:120})]}const Q=be([{id:"row_expand",visible:!0,fixed:!0,pinningPosition:"left"},{id:"clinical_interpretation",visible:!0,fixed:!0,pinningPosition:"left",label:"variant.headers.clinical_interpretation"},{id:"hgvsg",visible:!0,pinningPosition:"left",label:"variant.headers.hgvsg"},{id:"variant_class",visible:!0,label:"variant.headers.variant_class"},{id:"dbSNP",visible:!0,label:"variant.headers.dbSNP"},{id:"symbol",visible:!0,label:"variant.headers.symbol"},{id:"picked_consequences",visible:!0,label:"variant.headers.picked_consequences"},{id:"is_mane_select",visible:!0,label:"variant.headers.is_mane_select"},{id:"omim_inheritance_code",visible:!0,label:"variant.headers.omim_inheritance_code"},{id:"clinvar",visible:!0,label:"variant.headers.clinvar"},{id:"exomiser_gene_combined_score",visible:!0,label:"variant.headers.exomiser_gene_combined_score"},{id:"exomiser_acmg_classification",visible:!0,label:"variant.headers.exomiser_acmg_classification"},{id:"gnomad_v3_af",visible:!0,label:"variant.headers.gnomad_v3_af"},{id:"pf_wgs",visible:!0,label:"variant.headers.pf_wgs"},{id:"genotype_quality",visible:!0,label:"variant.headers.genotype_quality"},{id:"zygosity",visible:!0,label:"variant.headers.zygosity"},{id:"ad_ratio",visible:!0,label:"variant.headers.ad_ratio"}]);function qt({children:a,...t}){return e.jsx(f,{size:"sm",variant:"secondary",...t,children:a})}qt.__docgenInfo={description:"",methods:[],displayName:"AnchorLinkCell",props:{component:{required:!1,tsType:{name:"C"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},external:{required:!1,tsType:{name:"boolean"},description:""}}};function zt({...a}){return e.jsx(rt,{...a})}zt.__docgenInfo={description:"",methods:[],displayName:"PhenotypeConditionLinkCell",props:{name:{required:!1,tsType:{name:"string"},description:""},code:{required:!1,tsType:{name:"string"},description:""},onsetCode:{required:!1,tsType:{name:"string"},description:""}}};function J({children:a,tooltipsText:t,asChild:i=!1}){return t?e.jsxs(b,{children:[e.jsx(j,{asChild:i,children:a}),e.jsx(C,{children:t})]}):e.jsx("span",{children:a})}J.__docgenInfo={description:"",methods:[],displayName:"TextTooltipsCell",props:{asChild:{defaultValue:{value:"false",computed:!1},required:!1}}};const qn={asap:"amber",routine:"grey",stat:"red",urgent:"blue"};function Ft({code:a}){const{t}=m();if(!a)return e.jsx(F,{});const i=qn[a];return e.jsxs(b,{children:[e.jsx(j,{children:e.jsx(Ii,{variant:i,children:e.jsx("span",{children:t(`caseExploration.priority.${a}`)})})}),e.jsx(C,{children:t(`caseExploration.priority.${a}_tooltips`)})]})}Ft.__docgenInfo={description:"",methods:[],displayName:"PriorityCell",props:{code:{required:!0,tsType:{name:"union",raw:"'asap' | 'routine' | 'stat' | 'urgent' | undefined",elements:[{name:"literal",value:"'asap'"},{name:"literal",value:"'routine'"},{name:"literal",value:"'stat'"},{name:"literal",value:"'urgent'"},{name:"undefined"}]},description:""}}};const zn={somatic:Ga,germline:Aa,germline_family:Ra};function kt({code:a,size:t=12}){const{t:i}=m(),s=zn[a];return e.jsxs(b,{children:[e.jsx(j,{asChild:!0,children:e.jsx(z,{variant:"neutral",iconOnly:!0,children:e.jsx(s,{size:t})})}),e.jsx(C,{children:i(`caseExploration.analysis_type_code.${a}`)})]})}function Ot(){const{t:a}=m();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"secondary",iconOnly:!0,children:e.jsx(Ga,{})}),e.jsx("span",{children:a("caseExploration.analysis_type_code.somatic")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"secondary",iconOnly:!0,children:e.jsx(Aa,{})}),e.jsx("span",{children:a("caseExploration.analysis_type_code.germline")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"secondary",iconOnly:!0,children:e.jsx(Ra,{})}),e.jsx("span",{children:a("caseExploration.analysis_type_code.germline_family")})]})]})}Ot.__docgenInfo={description:"",methods:[],displayName:"AnalysisTypeCodeCellTooltips"};kt.__docgenInfo={description:"",methods:[],displayName:"AnalysisTypeCodeCell",props:{code:{required:!0,tsType:{name:"union",raw:"'somatic' | 'germline' | 'germline_family'",elements:[{name:"literal",value:"'somatic'"},{name:"literal",value:"'germline'"},{name:"literal",value:"'germline_family'"}]},description:""},size:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"12",computed:!1}}}};function Pt({row:a}){const{t}=m(),i=Mi();return e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(ti,{children:[e.jsx(ii,{asChild:!0,children:e.jsx(D,{iconOnly:!0,variant:"outline",onClick:a.getToggleExpandedHandler(),className:"size-6",children:e.jsx(Ki,{})})}),e.jsx(ni,{children:e.jsxs(si,{onClick:()=>{i(`/case/entity/${a.original.case_id}`)},children:[e.jsx(Bi,{}),t("caseExploration.case.actions.view_case")]})})]})})}Pt.__docgenInfo={description:"",methods:[],displayName:"CaseActionsMenuCell"};function Mt({children:a}){return e.jsx("span",{children:a})}Mt.__docgenInfo={description:"@TODO: Clicking on the Request ID will open the Case entity page OR will open a modal with the Request ID and general information about the request",methods:[],displayName:"RequestIdCell",props:{children:{required:!0,tsType:{name:"any"},description:""}}};const N=Ta();function Fn(a){return[N.accessor(t=>t.case_id,{id:"case_id",cell:t=>e.jsx(qt,{href:`/case/entity/${t.row.original.case_id}`,children:t.getValue()}),header:a("caseExploration.case.headers.case_id"),size:124,minSize:124}),N.accessor(t=>t.patient_id,{id:"patient_id",cell:t=>e.jsx(e.Fragment,{children:t.getValue()}),header:a("caseExploration.case.headers.patient_id"),size:124,minSize:124}),N.accessor(t=>t.mrn,{id:"mrn",cell:t=>e.jsx(e.Fragment,{children:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("caseExploration.case.headers.mrn_tooltips"),children:a("caseExploration.case.headers.mrn")}),size:124,minSize:124}),N.accessor(t=>t.priority_code,{id:"priority_code",cell:t=>e.jsx(Ft,{code:t.getValue()}),header:a("caseExploration.case.headers.priority_code"),size:124,minSize:124}),N.accessor(t=>t.status_code,{id:"status_code",cell:t=>e.jsx(ot,{status:t.getValue()}),header:a("caseExploration.case.headers.status_code"),size:124,minSize:124}),N.accessor(t=>t.case_type,{id:"case_type",cell:t=>e.jsx(kt,{code:t.getValue()}),header:()=>e.jsx(w,{tooltips:e.jsx(Ot,{}),children:a("caseExploration.case.headers.case_type")}),size:120,minSize:120,enableSorting:!1}),N.accessor(t=>t.case_analysis_code,{id:"case_analysis_code",cell:t=>e.jsx(J,{tooltipsText:t.row.original.case_analysis_name,children:t.getValue()}),header:a("caseExploration.case.headers.case_analysis_code"),size:124,minSize:124}),N.accessor(t=>t.primary_condition_id,{id:"primary_condition",cell:t=>e.jsx(zt,{code:t.getValue(),name:t.row.original.primary_condition_name}),header:a("caseExploration.case.headers.primary_condition"),size:124,minSize:124}),N.accessor(t=>t.requested_by_code,{id:"requested_by_code",cell:t=>e.jsx(J,{tooltipsText:t.row.original.requested_by_name,children:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("caseExploration.case.headers.requested_by_code_tooltips"),children:a("caseExploration.case.headers.requested_by_code")}),size:124,minSize:124}),N.accessor(t=>t.project_code,{id:"project_code",header:a("caseExploration.case.headers.project_code"),size:124,minSize:124}),N.accessor(t=>t.created_on,{id:"created_on",cell:t=>e.jsx(He,{date:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("caseExploration.case.headers.created_on_tooltips"),children:a("caseExploration.case.headers.created_on")}),size:124,minSize:124}),N.accessor(t=>t.updated_on,{id:"updated_on",cell:t=>e.jsx(He,{date:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("caseExploration.case.headers.updated_on_tooltips"),children:a("caseExploration.case.headers.updated_on")}),size:124,minSize:124}),N.accessor(t=>t.prescriber,{id:"prescriber",cell:t=>e.jsx(J,{tooltipsText:t.getValue(),children:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("caseExploration.case.headers.prescriber_tooltips"),children:a("caseExploration.case.headers.prescriber")}),size:124,minSize:124}),N.accessor(t=>t.performer_lab_code,{id:"diagnostic_lab",cell:t=>e.jsx(J,{tooltipsText:t.row.original.performer_lab_name,children:t.getValue()}),header:()=>e.jsx(w,{tooltips:a("caseExploration.case.headers.diagnostic_lab_tooltips"),children:a("caseExploration.case.headers.diagnostic_lab")}),size:124,minSize:124}),N.accessor(t=>t.request_id,{id:"request_id",cell:t=>e.jsx(Mt,{children:t.getValue()}),header:a("caseExploration.case.headers.request_id"),size:124,minSize:124}),N.accessor(t=>t.managing_organization_code,{id:"managing_organization",cell:t=>e.jsx(J,{tooltipsText:t.row.original.managing_organization_name,children:t.getValue()}),header:a("caseExploration.case.headers.managing_organization"),size:124,minSize:124}),{id:"actions_menu",cell:Pt,size:64,maxSize:64,enableResizing:!1,enablePinning:!1}]}const kn=be([{id:"case_id",visible:!0,label:"caseExploration.case.headers.case_id"},{id:"patient_id",visible:!1,label:"caseExploration.case.headers.patient_id"},{id:"mrn",visible:!0,label:"caseExploration.case.headers.mrn"},{id:"priority_code",visible:!0,label:"caseExploration.case.headers.priority_code"},{id:"status_code",visible:!0,label:"caseExploration.case.headers.status_code"},{id:"case_type",visible:!0,label:"caseExploration.case.headers.case_type"},{id:"case_analysis_code",visible:!0,label:"caseExploration.case.headers.case_analysis_code"},{id:"primary_condition",visible:!1,label:"caseExploration.case.headers.primary_condition"},{id:"requested_by_code",visible:!0,label:"caseExploration.case.headers.requested_by_code"},{id:"project_code",visible:!1,label:"caseExploration.case.headers.project_code"},{id:"created_on",visible:!1,label:"caseExploration.case.headers.created_on"},{id:"updated_on",visible:!0,label:"caseExploration.case.headers.updated_on"},{id:"prescriber",visible:!1,label:"caseExploration.case.headers.prescriber"},{id:"diagnostic_lab",visible:!1,label:"caseExploration.case.headers.diagnostic_lab"},{id:"request_id",visible:!1,label:"caseExploration.case.headers.request_id"},{id:"managing_organization",visible:!1,label:"caseExploration.case.headers.managing_organization"},{id:"actions_menu",visible:!0,fixed:!0}]);function Dt(){return e.jsxs("div",{className:"flex flex-col justify-start gap-2 min-w-[400px] h-[48px]",children:[e.jsx("div",{className:"flex h-[24px]",children:e.jsx(y,{className:"w-[120px] h-full"})}),e.jsxs("div",{className:"flex gap-2 h-[32px]",children:[e.jsx(y,{className:"w-[150px] h-full"}),e.jsx(y,{className:"w-[125px] h-full"}),e.jsx(y,{className:"w-[125px] h-full"}),e.jsx(y,{className:"w-[125px] h-full"}),e.jsx(y,{className:"w-[125px] h-full"})]})]})}Dt.__docgenInfo={description:"",methods:[],displayName:"FiltersGroupSkeleton"};const On={variant_entity:{app_id:"variant_entity"},variant_exploration:{app_id:"variant_exploration_multi_select_filter",aggregations:[]},admin:{admin_code:"admin",app_id:"admin"},portal:{name:"",navigation:{}}},Cr={title:"Data Display/Data Table",component:H,args:{id:"variant",columns:[],data:[],defaultServerSorting:[{field:"pf_wgs",order:At.Asc}],loadingStates:{total:!1,list:!1},pagination:{pageIndex:0,pageSize:10},onPaginationChange:()=>{},onServerSortingChange:a=>{},total:10},decorators:[a=>e.jsx(Di,{children:e.jsx(Gt,{config:On,children:e.jsx(a,{})})})]},ae={args:{loadingStates:{list:!0,total:!0},data:[],enableColumnOrdering:!0,enableFullscreen:!0,defaultColumnSettings:Q},render:a=>e.jsx(H,{...a})},te={args:{loadingStates:{list:!1,total:!1},data:[],enableColumnOrdering:!0,enableFullscreen:!0,defaultColumnSettings:Q},render:a=>e.jsx(H,{...a})},ie={args:{loadingStates:{list:!1,total:!1},data:[],hasError:!0,enableColumnOrdering:!0,enableFullscreen:!0,defaultColumnSettings:Q},render:a=>e.jsx(H,{...a})},ne={args:{id:"variant-occurence",defaultColumnSettings:Q},render:a=>{const{t}=m();return e.jsx(H,{...a,pagination:{pageIndex:0,pageSize:50},loadingStates:{list:!1,total:!1},data:Se,columns:It(t),subComponent:i=>e.jsx(_e,{occurrence:i}),enableFullscreen:!0,enableColumnOrdering:!0})}},se={args:{id:"case-exploration",defaultColumnSettings:kn},render:a=>{const{t}=m();return e.jsx(H,{...a,pagination:{pageIndex:0,pageSize:50},loadingStates:{list:!1,total:!1},total:12,data:rn,columns:Fn(t),tableIndexResultPosition:"bottom",enableFullscreen:!0,enableColumnOrdering:!0})}},re={args:{id:"variant-occurence-wo-pagination",defaultColumnSettings:Q},render:a=>{const{t}=m();return e.jsx(H,{...a,pagination:{pageIndex:0,pageSize:50},loadingStates:{list:!1,total:!1},data:Se,columns:It(t),subComponent:i=>e.jsx(_e,{occurrence:i}),paginationHidden:!0,enableFullscreen:!0,enableColumnOrdering:!0})}},oe={args:{loadingStates:{list:!0,total:!0},data:[],enableColumnOrdering:!0,enableFullscreen:!0,defaultColumnSettings:Q,tableIndexResultPosition:"hidden",TableFilters:Dt},render:a=>e.jsx(H,{...a})},le={args:{id:"variant-occurence-with-footer",defaultColumnSettings:Q},render:a=>{m();const t=[{id:"row_expand",cell:Ne,size:40,enableResizing:!1,enablePinning:!1},{id:"hgvsg",header:"Variant",accessorKey:"hgvsg",cell:i=>e.jsx("div",{className:"overflow-hidden text-ellipsis block",children:i.getValue()}),footer:()=>e.jsx("div",{className:"font-medium",children:"Total Variants"}),size:150,minSize:120},{id:"symbol",header:"Gene",accessorKey:"symbol",cell:i=>e.jsx("div",{children:i.getValue()}),footer:()=>e.jsx("div",{className:"font-medium",children:"Gene Count"}),minSize:120,enableSorting:!1},{id:"variant_class",header:"Type",accessorKey:"variant_class",cell:i=>e.jsx("div",{children:i.getValue()}),footer:()=>e.jsx("div",{className:"font-medium",children:"Type Summary"}),minSize:120},{id:"pf_wgs",header:"Frequency",accessorKey:"pf_wgs",cell:i=>{var s;return e.jsx("div",{children:((s=i.getValue())==null?void 0:s.toFixed(6))||"N/A"})},footer:i=>{const s=i.table.getFilteredRowModel().rows.map(r=>r.getValue("pf_wgs")).filter(Boolean),n=s.length>0?s.reduce((r,o)=>r+o,0)/s.length:0;return e.jsxs("div",{className:"font-medium",children:["Avg: ",n.toFixed(6)]})},minSize:120},{id:"genotype_quality",header:"GQ",accessorKey:"genotype_quality",cell:i=>e.jsx("div",{children:i.getValue()}),footer:i=>{const s=i.table.getFilteredRowModel().rows.map(r=>r.getValue("genotype_quality")).filter(Boolean),n=s.length>0?s.reduce((r,o)=>r+o,0)/s.length:0;return e.jsxs("div",{className:"font-medium",children:["Avg: ",n.toFixed(1)]})},minSize:120},{id:"zygosity",header:"Zygosity",accessorKey:"zygosity",cell:i=>e.jsx("div",{children:i.getValue()}),footer:i=>{const s=i.table.getFilteredRowModel().rows.map(o=>o.getValue("zygosity")),n=s.filter(o=>o==="HET").length,r=s.filter(o=>o==="HOM").length;return e.jsxs("div",{className:"font-medium",children:["HET: ",n,", HOM: ",r]})},minSize:120,enableSorting:!1}];return e.jsx(H,{...a,pagination:{pageIndex:0,pageSize:50},loadingStates:{list:!1,total:!1},data:Se,columns:t,subComponent:i=>e.jsx(_e,{occurrence:i}),enableFullscreen:!0,enableColumnOrdering:!0})}};var ea,aa,ta;ae.parameters={...ae.parameters,docs:{...(ea=ae.parameters)==null?void 0:ea.docs,source:{originalSource:`{
  args: {
    loadingStates: {
      list: true,
      total: true
    },
    data: [],
    enableColumnOrdering: true,
    enableFullscreen: true,
    defaultColumnSettings: occurenceDefaultsSettings
  },
  render: args => <DataTable {...args} />
}`,...(ta=(aa=ae.parameters)==null?void 0:aa.docs)==null?void 0:ta.source}}};var ia,na,sa;te.parameters={...te.parameters,docs:{...(ia=te.parameters)==null?void 0:ia.docs,source:{originalSource:`{
  args: {
    loadingStates: {
      list: false,
      total: false
    },
    data: [],
    enableColumnOrdering: true,
    enableFullscreen: true,
    defaultColumnSettings: occurenceDefaultsSettings
  },
  render: args => <DataTable {...args} />
}`,...(sa=(na=te.parameters)==null?void 0:na.docs)==null?void 0:sa.source}}};var ra,oa,la;ie.parameters={...ie.parameters,docs:{...(ra=ie.parameters)==null?void 0:ra.docs,source:{originalSource:`{
  args: {
    loadingStates: {
      list: false,
      total: false
    },
    data: [],
    hasError: true,
    enableColumnOrdering: true,
    enableFullscreen: true,
    defaultColumnSettings: occurenceDefaultsSettings
  },
  render: args => <DataTable {...args} />
}`,...(la=(oa=ie.parameters)==null?void 0:oa.docs)==null?void 0:la.source}}};var ca,da,ma;ne.parameters={...ne.parameters,docs:{...(ca=ne.parameters)==null?void 0:ca.docs,source:{originalSource:`{
  args: {
    id: 'variant-occurence',
    defaultColumnSettings: occurenceDefaultsSettings
  },
  render: args => {
    const {
      t
    } = useI18n();
    return <DataTable {...args} pagination={{
      pageIndex: 0,
      pageSize: 50
    }} loadingStates={{
      list: false,
      total: false
    }} data={occurrencesData} columns={getVariantColumns(t)} subComponent={occurrence => <OccurrenceExpand occurrence={occurrence} />} enableFullscreen enableColumnOrdering />;
  }
}`,...(ma=(da=ne.parameters)==null?void 0:da.docs)==null?void 0:ma.source}}};var pa,ua,ga;se.parameters={...se.parameters,docs:{...(pa=se.parameters)==null?void 0:pa.docs,source:{originalSource:`{
  args: {
    id: 'case-exploration',
    defaultColumnSettings: caseDefaultsSettings
  },
  render: args => {
    const {
      t
    } = useI18n();
    return <DataTable {...args} pagination={{
      pageIndex: 0,
      pageSize: 50
    }} loadingStates={{
      list: false,
      total: false
    }} total={12} data={casesData} columns={getCaseExplorationColumns(t)} tableIndexResultPosition="bottom" enableFullscreen enableColumnOrdering />;
  }
}`,...(ga=(ua=se.parameters)==null?void 0:ua.docs)==null?void 0:ga.source}}};var _a,ha,fa;re.parameters={...re.parameters,docs:{...(_a=re.parameters)==null?void 0:_a.docs,source:{originalSource:`{
  args: {
    id: 'variant-occurence-wo-pagination',
    defaultColumnSettings: occurenceDefaultsSettings
  },
  render: args => {
    const {
      t
    } = useI18n();
    return <DataTable {...args} pagination={{
      pageIndex: 0,
      pageSize: 50
    }} loadingStates={{
      list: false,
      total: false
    }} data={occurrencesData} columns={getVariantColumns(t)} subComponent={occurrence => <OccurrenceExpand occurrence={occurrence} />} paginationHidden enableFullscreen enableColumnOrdering />;
  }
}`,...(fa=(ha=re.parameters)==null?void 0:ha.docs)==null?void 0:fa.source}}};var xa,va,ya;oe.parameters={...oe.parameters,docs:{...(xa=oe.parameters)==null?void 0:xa.docs,source:{originalSource:`{
  args: {
    loadingStates: {
      list: true,
      total: true
    },
    data: [],
    enableColumnOrdering: true,
    enableFullscreen: true,
    defaultColumnSettings: occurenceDefaultsSettings,
    tableIndexResultPosition: 'hidden',
    TableFilters: FiltersGroupSkeleton
  },
  render: args => <DataTable {...args} />
}`,...(ya=(va=oe.parameters)==null?void 0:va.docs)==null?void 0:ya.source}}};var ba,ja,Ca;le.parameters={...le.parameters,docs:{...(ba=le.parameters)==null?void 0:ba.docs,source:{originalSource:`{
  args: {
    id: 'variant-occurence-with-footer',
    defaultColumnSettings: occurenceDefaultsSettings
  },
  render: args => {
    const {
      t
    } = useI18n();

    // Create columns with footer definitions
    const columnsWithFooter = [{
      id: 'row_expand',
      cell: RowExpandCell,
      size: 40,
      enableResizing: false,
      enablePinning: false
    }, {
      id: 'hgvsg',
      header: 'Variant',
      accessorKey: 'hgvsg',
      cell: (info: any) => <div className="overflow-hidden text-ellipsis block">{info.getValue()}</div>,
      footer: () => <div className="font-medium">Total Variants</div>,
      size: 150,
      minSize: 120
    }, {
      id: 'symbol',
      header: 'Gene',
      accessorKey: 'symbol',
      cell: (info: any) => <div>{info.getValue()}</div>,
      footer: () => <div className="font-medium">Gene Count</div>,
      minSize: 120,
      enableSorting: false
    }, {
      id: 'variant_class',
      header: 'Type',
      accessorKey: 'variant_class',
      cell: (info: any) => <div>{info.getValue()}</div>,
      footer: () => <div className="font-medium">Type Summary</div>,
      minSize: 120
    }, {
      id: 'pf_wgs',
      header: 'Frequency',
      accessorKey: 'pf_wgs',
      cell: (info: any) => <div>{info.getValue()?.toFixed(6) || 'N/A'}</div>,
      footer: (info: any) => {
        const values = info.table.getFilteredRowModel().rows.map(row => row.getValue('pf_wgs')).filter(Boolean);
        const avg = values.length > 0 ? values.reduce((a: number, b: number) => a + b, 0) / values.length : 0;
        return <div className="font-medium">Avg: {avg.toFixed(6)}</div>;
      },
      minSize: 120
    }, {
      id: 'genotype_quality',
      header: 'GQ',
      accessorKey: 'genotype_quality',
      cell: (info: any) => <div>{info.getValue()}</div>,
      footer: (info: any) => {
        const values = info.table.getFilteredRowModel().rows.map(row => row.getValue('genotype_quality')).filter(Boolean);
        const avg = values.length > 0 ? values.reduce((a: number, b: number) => a + b, 0) / values.length : 0;
        return <div className="font-medium">Avg: {avg.toFixed(1)}</div>;
      },
      minSize: 120
    }, {
      id: 'zygosity',
      header: 'Zygosity',
      accessorKey: 'zygosity',
      cell: (info: any) => <div>{info.getValue()}</div>,
      footer: (info: any) => {
        const values = info.table.getFilteredRowModel().rows.map(row => row.getValue('zygosity'));
        const hetCount = values.filter((v: string) => v === 'HET').length;
        const homCount = values.filter((v: string) => v === 'HOM').length;
        return <div className="font-medium">
              HET: {hetCount}, HOM: {homCount}
            </div>;
      },
      minSize: 120,
      enableSorting: false
    }];
    return <DataTable {...args} pagination={{
      pageIndex: 0,
      pageSize: 50
    }} loadingStates={{
      list: false,
      total: false
    }} data={occurrencesData} columns={columnsWithFooter} subComponent={occurrence => <OccurrenceExpand occurrence={occurrence} />} enableFullscreen enableColumnOrdering />;
  }
}`,...(Ca=(ja=le.parameters)==null?void 0:ja.docs)==null?void 0:Ca.source}}};const Tr=["Loading","Empty","Error","VariantOccurrence","Cases","WithoutPagination","LoadingWithFiltersGroup","WithFooter"];export{se as Cases,te as Empty,ie as Error,ae as Loading,oe as LoadingWithFiltersGroup,ne as VariantOccurrence,le as WithFooter,re as WithoutPagination,Tr as __namedExportsOrder,Cr as default};
