import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{f as u}from"./index-B7YJKKKT.js";import{a as ie}from"./index-B-lxVbXh.js";import{w as Ht,x as Wt,n as Jt,B as H,S as ae,v as W,q as O}from"./query-builder-remote-DQDcrGW9.js";import{d as D,e as y,f as v,h as Yt,i as Xt,o as _e,j as Oe,P as $t,a as Kt,u as Gt,k as Re,Q as Zt,b as en,l as Q,g as T}from"./utils-BI843YnZ.js";import{R as x,r as p}from"./index-DQLiH3RP.js";import{b as Ee,c as tn,P as Le,u as nn,d as rn}from"./index-b4Krvw3J.js";import{i as an,u as on}from"./dropdown-menu-5z4VmTsG.js";import{c as ze,R as sn,T as ln,b as un}from"./index-dzWJ7P-y.js";import{u as dn}from"./index-DZeBqZZX.js";import{c as R}from"./utils-D-KgF5mV.js";import{C as cn}from"./chevron-right--l3G0NFC.js";import{C as mn}from"./chevron-down-QEmn0_AS.js";import{B as m,a as Ue}from"./button-Cb6SnRh8.js";import{P as hn,a as fn,b as yn,c as Qe}from"./popover-CzogacZd.js";import{T as Ve}from"./trash-DCT5GB8X.js";import{T as j,a as k,b as F}from"./tooltip-2a7OmUZw.js";import{D as oe,a as se,b as le,c as ue,d as de,e as ce}from"./dialog-Hi0azIqL.js";import{t as A,n as me,g as qe,a as vn,e as pn,m as we,b as L,u as He,s as We,F as Je,c as Ye,d as Xe,f as $e,h as Ke,i as Ge,o as Ze,j as et,P as tt,k as M,l as _,p as gn,q as ee}from"./en-US-C8Q6ZCIW.js";import{I as nt}from"./input-DyY2UfVx.js";import{c as he}from"./createLucideIcon-BMP5cxO1.js";import{d as Cn}from"./i18n-B4Pg4IG4.js";import{S as bn}from"./spinner-DHVcj7-u.js";import{n as xn}from"./number-format-DDJvc-iv.js";import{C as Sn}from"./checkbox-BPlUEr5r.js";import{c as Qn}from"./index-C66Dxnp2.js";import{a as qn}from"./alert-dialog-store-CZoSfA8g.js";import{A as wn}from"./ActionButton-Buj5FGR_.js";import"./button.variants-BQkt_1YJ.js";import{d as je}from"./capitalize-0BlyRIfI.js";import{S as jn}from"./switch-hjR-oRNj.js";import{S as kn,a as Fn,L as In}from"./list-item-with-action-Bn2tFMz2.js";import{S as Pn,a as An,c as Dn,d as Nn,e as Bn}from"./select-CBLAvfYe.js";import{S as Tn}from"./star-DfQf5eJj.js";import{U as Mn}from"./user-Dv_C2EEw.js";import"./v4-CtRu48qb.js";import"./api-fYFwtGmU.js";import"./less-than-or-equal-operator-icon-BI5aNTvi.js";import"./not-in-operator-icon-DdiM-lgK.js";import"./chevron-left-DGpQFcG5.js";import"./x-ClsbQ_rO.js";import"./conditional-wrapper-BBX8pIPQ.js";import"./separator-XMoClt4p.js";import"./index-CECE1b4A.js";import"./index-CJPVTaBz.js";import"./index-CKWZTibS.js";import"./index-CS2et-gJ.js";import"./index-BlJj-Uol.js";import"./check-DSCf8CVO.js";import"./index-BGpBSrH1.js";import"./label-BwU4_qxe.js";import"./info-rYv3sqpq.js";import"./iframe-CZ9djWy3.js";import"./index-DDGWSPzp.js";import"./ellipsis-BtlAG3ey.js";import"./pen-DfDDAb28.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],On=he("Folder",_n);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],En=he("RotateCcw",Rn);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],it=he("Save",Ln);function J(t,i){const n=+A(t)-+A(i);return n<0?-1:n>0?1:n}function zn(t,i,n){const[r,a]=me(n==null?void 0:n.in,t,i),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function Un(t){return i=>{const r=(t?Math[t]:Math.trunc)(i);return r===0?0:r}}function Vn(t,i){return+A(t)-+A(i)}function Hn(t,i){const n=A(t,i==null?void 0:i.in);return n.setHours(23,59,59,999),n}function Wn(t,i){const n=A(t,i==null?void 0:i.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Jn(t,i){const n=A(t,i==null?void 0:i.in);return+Hn(n,i)==+Wn(n,i)}function Yn(t,i,n){const[r,a,o]=me(n==null?void 0:n.in,t,t,i),l=J(a,o),s=Math.abs(zn(a,o));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*s);let d=J(a,o)===-l;Jn(r)&&s===1&&J(r,o)===1&&(d=!1);const h=l*(s-+d);return h===0?0:h}function Xn(t,i,n){const r=Vn(t,i)/1e3;return Un(n==null?void 0:n.roundingMethod)(r)}function $n(t,i,n){const r=vn(),a=(n==null?void 0:n.locale)??r.locale??pn,o=2520,l=J(t,i);if(isNaN(l))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,h]=me(n==null?void 0:n.in,...l>0?[i,t]:[t,i]),c=Xn(h,d),g=(qe(h)-qe(d))/1e3,f=Math.round((c-g)/60);let C;if(f<2)return n!=null&&n.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,s):c<10?a.formatDistance("lessThanXSeconds",10,s):c<20?a.formatDistance("lessThanXSeconds",20,s):c<40?a.formatDistance("halfAMinute",0,s):c<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):f===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",f,s);if(f<45)return a.formatDistance("xMinutes",f,s);if(f<90)return a.formatDistance("aboutXHours",1,s);if(f<we){const b=Math.round(f/60);return a.formatDistance("aboutXHours",b,s)}else{if(f<o)return a.formatDistance("xDays",1,s);if(f<L){const b=Math.round(f/we);return a.formatDistance("xDays",b,s)}else if(f<L*2)return C=Math.round(f/L),a.formatDistance("aboutXMonths",C,s)}if(C=Yn(h,d),C<12){const b=Math.round(f/L);return a.formatDistance("xMonths",b,s)}else{const b=C%12,w=Math.trunc(C/12);return b<3?a.formatDistance("aboutXYears",w,s):b<9?a.formatDistance("overXYears",w,s):a.formatDistance("almostXYears",w+1,s)}}var q="Accordion",Kn=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fe,Gn,Zn]=an(q),[X,Yr]=tn(q,[Zn,ze]),ye=ze(),rt=x.forwardRef((t,i)=>{const{type:n,...r}=t,a=r,o=r;return e.jsx(fe.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?e.jsx(ii,{...o,ref:i}):e.jsx(ni,{...a,ref:i})})});rt.displayName=q;var[at,ei]=X(q),[ot,ti]=X(q,{collapsible:!1}),ni=x.forwardRef((t,i)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...l}=t,[s,d]=Ee({prop:n,defaultProp:r??"",onChange:a,caller:q});return e.jsx(at,{scope:t.__scopeAccordion,value:x.useMemo(()=>s?[s]:[],[s]),onItemOpen:d,onItemClose:x.useCallback(()=>o&&d(""),[o,d]),children:e.jsx(ot,{scope:t.__scopeAccordion,collapsible:o,children:e.jsx(st,{...l,ref:i})})})}),ii=x.forwardRef((t,i)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=t,[l,s]=Ee({prop:n,defaultProp:r??[],onChange:a,caller:q}),d=x.useCallback(c=>s((g=[])=>[...g,c]),[s]),h=x.useCallback(c=>s((g=[])=>g.filter(f=>f!==c)),[s]);return e.jsx(at,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:e.jsx(ot,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(st,{...o,ref:i})})})}),[ri,$]=X(q),st=x.forwardRef((t,i)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...l}=t,s=x.useRef(null),d=nn(s,i),h=Gn(n),g=on(a)==="ltr",f=rn(t.onKeyDown,C=>{var xe;if(!Kn.includes(C.key))return;const b=C.target,w=h().filter(Z=>{var Se;return!((Se=Z.ref.current)!=null&&Se.disabled)}),P=w.findIndex(Z=>Z.ref.current===b),N=w.length;if(P===-1)return;C.preventDefault();let S=P;const B=0,I=N-1,K=()=>{S=P+1,S>I&&(S=B)},G=()=>{S=P-1,S<B&&(S=I)};switch(C.key){case"Home":S=B;break;case"End":S=I;break;case"ArrowRight":o==="horizontal"&&(g?K():G());break;case"ArrowDown":o==="vertical"&&K();break;case"ArrowLeft":o==="horizontal"&&(g?G():K());break;case"ArrowUp":o==="vertical"&&G();break}const Vt=S%N;(xe=w[Vt].ref.current)==null||xe.focus()});return e.jsx(ri,{scope:n,disabled:r,direction:a,orientation:o,children:e.jsx(fe.Slot,{scope:n,children:e.jsx(Le.div,{...l,"data-orientation":o,ref:d,onKeyDown:r?void 0:f})})})}),Y="AccordionItem",[ai,ve]=X(Y),lt=x.forwardRef((t,i)=>{const{__scopeAccordion:n,value:r,...a}=t,o=$(Y,n),l=ei(Y,n),s=ye(n),d=dn(),h=r&&l.value.includes(r)||!1,c=o.disabled||t.disabled;return e.jsx(ai,{scope:n,open:h,disabled:c,triggerId:d,children:e.jsx(sn,{"data-orientation":o.orientation,"data-state":ft(h),...s,...a,ref:i,disabled:c,open:h,onOpenChange:g=>{g?l.onItemOpen(r):l.onItemClose(r)}})})});lt.displayName=Y;var ut="AccordionHeader",dt=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=$(q,n),o=ve(ut,n);return e.jsx(Le.h3,{"data-orientation":a.orientation,"data-state":ft(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:i})});dt.displayName=ut;var re="AccordionTrigger",ct=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=$(q,n),o=ve(re,n),l=ti(re,n),s=ye(n);return e.jsx(fe.ItemSlot,{scope:n,children:e.jsx(ln,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...r,ref:i})})});ct.displayName=re;var mt="AccordionContent",ht=x.forwardRef((t,i)=>{const{__scopeAccordion:n,...r}=t,a=$(q,n),o=ve(mt,n),l=ye(n);return e.jsx(un,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...l,...r,ref:i,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});ht.displayName=mt;function ft(t){return t?"open":"closed"}var oi=rt,si=lt,li=dt,yt=ct,vt=ht;const ui=oi,pe=function({className:t,...i}){return e.jsx(si,{className:R("border-b",t),...i})};pe.displayName="AccordionItem";function ge({className:t,children:i,chevronPlacement:n="left",...r}){return e.jsx(li,{className:"flex justify-between items-center",children:e.jsx(yt,{className:R("py-2 transition-all group w-full",t),...r,children:e.jsxs("div",{className:"flex flex-1 items-center",children:[n==="left"&&e.jsx(cn,{className:"size-4 text-muted-foreground shrink-0 group-data-[state=open]:rotate-90 transition-transform duration-200 mr-2"}),i,n==="right"&&e.jsx(mn,{className:"size-4 text-muted-foreground shrink-0 group-data-[state=open]:rotate-180 transition-transform duration-200 ml-2"})]})})})}ge.displayName=yt.displayName;function Ce({className:t,children:i,...n}){return e.jsx(vt,{className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:e.jsx("div",{className:R("pb-2 pt-0",t),children:i})})}Ce.displayName=vt.displayName;pe.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};ge.__docgenInfo={description:"",methods:[],props:{chevronPlacement:{required:!1,tsType:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}]},description:"",defaultValue:{value:"'left'",computed:!1}}}};Ce.__docgenInfo={description:"",methods:[]};function pt(){const{query:t}=D(),{getQueryReferenceColor:i}=y(),n=t.isReferencedInActiveQuery()?i(t.index()):null;return e.jsx("div",{className:"w-1 rounded-s-sm bg-muted-foreground group-data-[query-active=true]/query:bg-primary",style:n?{backgroundColor:n}:{}})}pt.__docgenInfo={description:"",methods:[],displayName:"QueryBarIdentifier"};function gt(){const{query:t}=D();return e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>t.duplicate(),children:e.jsx(Ue,{})})}gt.__docgenInfo={description:"",methods:[],displayName:"QueryBarDuplicateAction"};function Ct(){const{query:t}=D(),i=v();return e.jsxs(hn,{children:[e.jsx(fn,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",children:e.jsx(Ve,{})})}),e.jsxs(yn,{side:"left",className:"w-[200px] space-y-3",children:[e.jsx("div",{className:"text-sm",children:i.queryBar.deletePopover.title}),e.jsxs("div",{className:"flex gap-1 justify-end",children:[e.jsx(Qe,{asChild:!0,children:e.jsx(m,{size:"xs",variant:"outline",children:i.queryBar.deletePopover.cancel})}),e.jsx(Qe,{asChild:!0,children:e.jsx(m,{size:"xs",variant:"destructive",onClick:()=>t.delete(),children:i.queryBar.deletePopover.ok})})]})]})]})}Ct.__docgenInfo={description:"",methods:[],displayName:"QueryBarDeleteAction"};const di=Ze({title:et()});function bt({open:t,onOpenChange:i,query:n}){const[r,a]=p.useState(!1),o=v(),l=He({resolver:We(di),values:{title:""}}),s=async d=>(a(!0),Promise.resolve(n.saveAsCustomPill(d.title)).then(()=>i(!1)).finally(()=>a(!1)));return e.jsx(oe,{open:t,onOpenChange:i,children:e.jsxs(se,{children:[e.jsx(le,{children:e.jsx(ue,{children:o.queryBar.saveDialog.title})}),e.jsx(Je,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(s),className:"space-y-6",children:[e.jsx(Ye,{control:l.control,name:"title",render:({field:d})=>e.jsxs(Xe,{children:[e.jsx($e,{children:o.queryBar.saveDialog.fields.title.label}),e.jsx(Ke,{children:e.jsx(nt,{placeholder:o.queryBar.saveDialog.fields.title.placeholder,...d})}),e.jsx(Ge,{})]})}),e.jsx("div",{className:"text-sm",children:o.queryBar.saveDialog.notice}),e.jsxs(de,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(m,{variant:"outline",children:o.queryBar.saveDialog.cancel})}),e.jsx(m,{type:"submit",color:"primary",loading:r,children:o.queryBar.saveDialog.ok})]})]})})]})})}bt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function xt(){const{query:t}=D(),i=v(),[n,r]=p.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>r(!0),disabled:t.hasCustomPill(),children:e.jsx(it,{})})}),e.jsx(F,{className:"max-w-[200px]",children:t.hasCustomPill()?i.queryBar.customPill.cannotSaveAsCustomPill:i.queryBar.customPill.createTooltip})]}),e.jsx(bt,{open:n,onOpenChange:r,query:t})]})}xt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSaveAction"};function St(){const{customPillConfig:t}=y();return e.jsxs("div",{className:`
      flex items-center p-2 border-r border-t border-b 
      border-muted-foreground/20 bg-muted/35 text-muted-foreground
      group-data-[query-active=true]/query:border-primary/75
      group-data-[query-active=true]/query:bg-primary/10
      group-data-[query-active=true]/query:text-foreground`,onClick:i=>i.stopPropagation(),children:[(t==null?void 0:t.enable)&&e.jsx(xt,{}),e.jsx(gt,{}),e.jsx(Ct,{})]})}St.__docgenInfo={description:"",methods:[],displayName:"QueryBarActions"};function Qt(){const{queryBuilder:t,queryCountIcon:i,fetchQueryCount:n}=y(),{query:r}=D(),a=p.useRef(null),[o,l]=p.useState(0),[s,d]=p.useState(!0);return p.useEffect(()=>{if(t.getRawQueries().find(h=>h.id===r.id)){const h=a.current,c=Ht(r.raw(),t.getRawQueries());(!a.current||!Wt(h,c))&&(a.current=c,d(!0),n(c).then(l).finally(()=>{d(!1)}))}},[n,r.raw(),t.getRawQueries()]),e.jsx("div",{className:"flex items-center gap-1",children:s?e.jsx(bn,{}):e.jsxs(e.Fragment,{children:[i,e.jsx("span",{className:"font-medium",children:xn(o)})]})})}Qt.__docgenInfo={description:"",methods:[],displayName:"QueryBarCount"};function qt(){const{query:t}=D();return t.isSelectable()?e.jsxs("div",{className:`
      flex gap-2 items-center py-2 px-4 border-l border-t border-b 
      border-muted-foreground/20 bg-muted/35 text-muted-foreground
      group-data-[query-active=true]/query:border-primary/75
      group-data-[query-active=true]/query:bg-primary/10
      group-data-[query-active=true]/query:text-foreground
      `,children:[e.jsx(Sn,{size:"sm",checked:t.isSelected(),onClick:i=>{i.stopPropagation(),t.toggleSelect(!t.isSelected())}}),e.jsxs("span",{className:"text-xs font-medium",children:["Q",t.index()+1]})]}):null}qt.__docgenInfo={description:"",methods:[],displayName:"QueryBarSelector"};const ci=Qn({base:"flex flex-1 py-2 px-3 border ",variants:{active:{true:["border-primary/75 bg-primary/10"],false:["border-muted-foreground/20 bg-muted/35 text-muted-foreground"]}},defaultVariants:{active:!1}});function wt({query:t}){const i=t.isActive(),n=v(),{enableCombine:r}=y(),a=()=>{i||t.setAsActive()};return e.jsx(Yt.Provider,{value:{query:t},children:e.jsxs("div",{"data-query-active":i,className:"flex group/query",onClick:a,children:[e.jsx(pt,{}),r&&e.jsx(qt,{}),e.jsx("div",{className:ci({active:i}),children:e.jsx("div",{className:"flex flex-1 items-center justify-between",children:t.isEmpty()?e.jsx(e.Fragment,{children:n.queryBar.empty}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1",children:Jt(t.raw())&&e.jsx("div",{className:"flex items-center flex-wrap pr-2",children:e.jsx(Xt,{sqon:t.raw()})})}),e.jsx(Qt,{})]})})}),t.isNotEmpty()&&e.jsx(St,{})]})})}wt.__docgenInfo={description:"",methods:[],displayName:"QueryBar",props:{query:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},description:""}}};function jt(){const t=v(),{queryBuilder:i}=y(),n=p.useCallback(()=>{qn.open({type:"warning",title:t.toolbar.clearAllDialog.title,description:t.toolbar.clearAllDialog.description,cancelProps:{children:t.toolbar.clearAllDialog.cancel},actionProps:{variant:"destructive",onClick:()=>i.clearQueries(),children:t.toolbar.clearAllDialog.ok}})},[i,t]);return i.getQueries().length>1?e.jsx(m,{variant:"ghost",size:"sm",className:"no-underline enabled:hover:no-underline",onClick:n,children:t.toolbar.clearAll}):null}jt.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarClearAction"};function kt(){const t=v(),{queryBuilder:i,enableCombine:n}=y();return i.canCombine()&&n?e.jsx(wn,{actions:[{label:je(t.queryPill.operator.and),onClick:()=>i.combineSelectedQueries(H.And)},{label:je(t.queryPill.operator.or),onClick:()=>i.combineSelectedQueries(H.Or)}],onDefaultAction:()=>i.combineSelectedQueries(H.And),size:"xs",color:"primary",children:t.toolbar.combine}):null}kt.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarCombineAction"};function Ft(){const t=v(),{queryBuilder:i}=y();return i.canCombine()?null:e.jsxs(m,{size:"xs",disabled:i.hasEmptyQuery(),onClick:()=>i.createQuery({op:H.And,content:[]}),children:[e.jsx(tt,{}),t.toolbar.newQuery]})}Ft.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarAddAction"};function It(){const t=v(),{queryBuilder:i,enableShowHideLabels:n,showLabels:r,toggleLabels:a}=y();return!i.canCombine()&&n?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(jn,{size:"xs",checked:r,onCheckedChange:a})," ",t.toolbar.labels]}):null}It.__docgenInfo={description:"",methods:[],displayName:"QueryToolbarLabelsAction"};function Pt(){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ft,{}),e.jsx(kt,{}),e.jsx(It,{})]}),e.jsx("div",{children:e.jsx(jt,{})})]})}Pt.__docgenInfo={description:"",methods:[],displayName:"QueriesToolbar"};function At(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=function(){n!=null&&n.isDirty()?_e(i,t):n==null||n.duplicate()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isNew())||!n,onClick:r,children:e.jsx(Ue,{})})})}),e.jsx(F,{children:t.savedFilter.duplicateTooltip})]})}At.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDuplicateAction"};function Dt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=function(){n!=null&&n.isDirty()?_e(i,t):i.createSavedFilter()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:r,disabled:(n==null?void 0:n.isNew())||!n,children:e.jsx(tt,{})})})}),e.jsx(F,{children:t.savedFilter.newFilter})]})}Dt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersNewAction"};function Nt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=n&&!n.isNew()?!n.isDirty():i.isEmpty(),a=function(){n?n.save(ae.Filter):i.saveNewFilter()};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:r,className:n!=null&&n.isDirty()?"text-yellow-500":"",onClick:a,children:e.jsx(it,{})})})}),e.jsx(F,{children:i.isEmpty()?t.savedFilter.saveTooltip.whenEmpty:n!=null&&n.isDirty()?t.savedFilter.saveTooltip.whenDirty:t.savedFilter.saveTooltip.default})]})}Nt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSaveAction"};function Bt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter();return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isNew())||!n,onClick:()=>Oe(n,t),children:e.jsx(Ve,{})})})}),e.jsx(F,{children:t.savedFilter.deleteTooltip})]})}Bt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersDeleteAction"};function Tt(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter(),r=function(){};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx("span",{className:"inline-flex",children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:(n==null?void 0:n.isDirty())||(n==null?void 0:n.isNew())||!n,onClick:r,children:e.jsx(kn,{})})})}),e.jsx(F,{children:n!=null&&n.isDirty()||!n?t.savedFilter.shareTooltip.whenNotSaved:t.savedFilter.shareTooltip.default})]})}Tt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersShareAction"};const mi=Ze({title:et().min(2,"Min 2 characters").max(50,"Max 50 characters")});function be({open:t,onOpenChange:i,savedFilter:n}){const r=v(),{queryBuilder:a}=y(),o=He({resolver:We(mi),values:{title:(n==null?void 0:n.raw().title)||""}});function l(s){n?n.save(ae.Filter,{title:s.title}):a.saveNewFilter({title:s.title}),i(!1)}return e.jsx(oe,{open:t,onOpenChange:i,children:e.jsxs(se,{children:[e.jsx(le,{children:e.jsx(ue,{children:r.savedFilter.editDialog.title})}),e.jsx(Je,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-8",children:[e.jsx(Ye,{control:o.control,name:"title",render:({field:s})=>e.jsxs(Xe,{children:[e.jsx($e,{children:r.savedFilter.editDialog.fields.title.label}),e.jsx(Ke,{children:e.jsx(nt,{placeholder:r.savedFilter.editDialog.fields.title.placeholder,...s})}),e.jsx(Ge,{})]})}),e.jsxs(de,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(m,{variant:"outline",children:r.savedFilter.editDialog.cancel})}),e.jsx(m,{type:"submit",color:"primary",children:r.savedFilter.editDialog.ok})]})]})})]})})}be.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},savedFilter:{required:!0,tsType:{name:"union",raw:"SavedFilterInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Id of the SavedFilter
   */
  id: string;

  /**
   * Call this function to get the SavedFilter's raw data
   */
  raw(): ISavedFilter;

  /**
   * Call this function to get the SavedFilter's queries
   */
  getQueries(): QueryInstance[];

  /**
   * Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])
   */
  getRawQueries(): ISyntheticSqon[];

  /**
   * Call this function to get a Query by id
   */
  getQueryById(id: string): QueryInstance | null;

  /**
   * Call this function to check if the SavedFilter has queries
   */
  hasQueries(): boolean;

  /**
   * Call this function to delete the SavedFilter
   */
  delete(): void | Promise<void>;

  /**
   * Call this function to copy the SavedFilter
   * This will only return a new SavedFilter object without calling any side effects
   */
  copy(): ISavedFilter;

  /**
   * Call this function to duplicate the SavedFilter
   * This will update the queryBuilder state with a new SavedFilter
   * and will perform any side effects defined in the queryBuilder coreProps
   */
  duplicate(): void;

  /**
   * Call this function to save (update) the SavedFilter
   */
  save(
    type: SavedFilterTypeEnum,
    params?: {
      title?: string;
      favorite?: boolean;
    },
  ): Promise<void>;

  /**
   * Call this function to discard the changes made to the SavedFilter
   */
  discardChanges(): void;

  /**
   * Call this function to select the SavedFilter
   */
  select(): void;

  /**
   * Call this function to check if the SavedFilter is a favorite
   */
  isFavorite(): boolean;

  /**
   * Call this function to check if the SavedFilter is new meaning it has never been saved.
   */
  isNew(): boolean;

  /**
   * Call this function to check if the SavedFilter is dirty meaning it has been modified.
   */
  isDirty(): boolean;

  /**
   * Call this function to check if the SavedFilter is currently selected
   */
  isSelected(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"Id of the SavedFilter"},{key:"raw",value:{name:"ISavedFilter",required:!0},description:"Call this function to get the SavedFilter's raw data"},{key:"getQueries",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}}],raw:"QueryInstance[]",required:!0},description:"Call this function to get the SavedFilter's queries"},{key:"getRawQueries",value:{name:"Array",elements:[{name:"ISyntheticSqon"}],raw:"ISyntheticSqon[]",required:!0},description:"Call this function to get the SavedFilter's raw queries (ISyntheticSqon[])"},{key:"getQueryById",value:{name:"union",raw:"QueryInstance | null",elements:[{name:"signature",type:"object",raw:`{
  /**
   * ID of the Query
   */
  id: string;

  /**
   * SyntheticSqon representing the query
   */
  raw(): ISyntheticSqon;

  /**
   * Call this function to know if the Query is empty
   */
  isEmpty(): boolean;

  /**
   * Call this function to know if the Query is empty
   */
  isNotEmpty(): boolean;

  /**
   * Call this function to delete the Query
   */
  delete(): void;

  /**
   * Call this function to update the Query
   */
  update(data: Omit<ISyntheticSqon, 'id'>): void;

  /**
   * Call this function to save the Query as a custom pill
   */
  saveAsCustomPill(title: string): void | Promise<void>;

  /**
   * Call this function to duplicate the Query
   */
  duplicate(): void;

  /**
   * Call this function to get the index of the Query
   */
  index(): number;

  /**
   * Call this function to select or unselect the Query
   */
  toggleSelect(selected: boolean): void;

  /**
   * Call this function to know if the Query is selected
   */
  isSelected(): boolean;

  /**
   * Call this function to know if the Query is selectable,
   * meaning the query can be selected for a combine operation
   */
  isSelectable(): boolean;

  /**
   * Call this function to know if the Query is active
   */
  isActive(): boolean;

  /**
   * Call this function to set the Query as active
   */
  setAsActive(): void;

  /**
   * Call this function to add pill to the Query
   */
  addPill: (pill: IValueQuery) => void;

  /**
   * Call this function to remove pill from the Query by ID
   */
  removePillById: (pillId: string) => void;

  /**
   * Call this function to remove pill from the Query by field name
   */
  removePillByFieldOrIndex: (indexOfField: string | number) => void;

  /**
   * Call this function to set the Query as active
   */
  changeCombineOperator(operator: BooleanOperators): void;

  /**
   * Call this function to know if the Query is referenced in the active query
   */
  isReferencedInActiveQuery(): boolean;

  /**
   * Call this function to know if the Query has a custom pill
   */
  hasCustomPill(): boolean;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0},description:"ID of the Query"},{key:"raw",value:{name:"ISyntheticSqon",required:!0},description:"SyntheticSqon representing the query"},{key:"isEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"isNotEmpty",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is empty"},{key:"delete",value:{name:"void",required:!0},description:"Call this function to delete the Query"},{key:"update",value:{name:"void",required:!0},description:"Call this function to update the Query"},{key:"saveAsCustomPill",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to save the Query as a custom pill"},{key:"duplicate",value:{name:"void",required:!0},description:"Call this function to duplicate the Query"},{key:"index",value:{name:"number",required:!0},description:"Call this function to get the index of the Query"},{key:"toggleSelect",value:{name:"void",required:!0},description:"Call this function to select or unselect the Query"},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is selected"},{key:"isSelectable",value:{name:"boolean",required:!0},description:`Call this function to know if the Query is selectable,
meaning the query can be selected for a combine operation`},{key:"isActive",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is active"},{key:"setAsActive",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"addPill",value:{name:"signature",type:"function",raw:"(pill: IValueQuery) => void",signature:{arguments:[{type:{name:"IValueQuery"},name:"pill"}],return:{name:"void"}},required:!0},description:"Call this function to add pill to the Query"},{key:"removePillById",value:{name:"signature",type:"function",raw:"(pillId: string) => void",signature:{arguments:[{type:{name:"string"},name:"pillId"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by ID"},{key:"removePillByFieldOrIndex",value:{name:"signature",type:"function",raw:"(indexOfField: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"indexOfField"}],return:{name:"void"}},required:!0},description:"Call this function to remove pill from the Query by field name"},{key:"changeCombineOperator",value:{name:"void",required:!0},description:"Call this function to set the Query as active"},{key:"isReferencedInActiveQuery",value:{name:"boolean",required:!0},description:"Call this function to know if the Query is referenced in the active query"},{key:"hasCustomPill",value:{name:"boolean",required:!0},description:"Call this function to know if the Query has a custom pill"}]}},{name:"null"}],required:!0},description:"Call this function to get a Query by id"},{key:"hasQueries",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter has queries"},{key:"delete",value:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}],required:!0},description:"Call this function to delete the SavedFilter"},{key:"copy",value:{name:"ISavedFilter",required:!0},description:`Call this function to copy the SavedFilter
This will only return a new SavedFilter object without calling any side effects`},{key:"duplicate",value:{name:"void",required:!0},description:`Call this function to duplicate the SavedFilter
This will update the queryBuilder state with a new SavedFilter
and will perform any side effects defined in the queryBuilder coreProps`},{key:"save",value:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>",required:!0},description:"Call this function to save (update) the SavedFilter"},{key:"discardChanges",value:{name:"void",required:!0},description:"Call this function to discard the changes made to the SavedFilter"},{key:"select",value:{name:"void",required:!0},description:"Call this function to select the SavedFilter"},{key:"isFavorite",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is a favorite"},{key:"isNew",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is new meaning it has never been saved."},{key:"isDirty",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is dirty meaning it has been modified."},{key:"isSelected",value:{name:"boolean",required:!0},description:"Call this function to check if the SavedFilter is currently selected"}]}},{name:"null"}]},description:""}}};const hi={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},fi=(t,i,n)=>{let r;const a=hi[t];return typeof a=="string"?r=a:i===1?r=a.one:r=a.other.replace("{{count}}",String(i)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},yi={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},vi=(t,i,n,r)=>yi[t],pi={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},gi={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Ci={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},bi={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},xi={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Si=(t,i)=>{const n=Number(t),r=i==null?void 0:i.unit;if(n===0)return"0";const a=["year","week","hour","minute","second"];let o;return n===1?o=r&&a.includes(r)?"ère":"er":o="ème",n+o},Qi=["MMM","MMMM"],qi={preprocessor:(t,i)=>t.getDate()===1||!i.some(r=>r.isToken&&Qi.includes(r.value))?i:i.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:Si,era:M({values:pi,defaultWidth:"wide"}),quarter:M({values:gi,defaultWidth:"wide",argumentCallback:t=>t-1}),month:M({values:Ci,defaultWidth:"wide"}),day:M({values:bi,defaultWidth:"wide"}),dayPeriod:M({values:xi,defaultWidth:"wide"})},wi=/^(\d+)(ième|ère|ème|er|e)?/i,ji=/\d+/i,ki={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Fi={any:[/^av/i,/^ap/i]},Ii={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Pi={any:[/1/i,/2/i,/3/i,/4/i]},Ai={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Di={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ni={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Bi={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Ti={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Mi={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},_i={ordinalNumber:gn({matchPattern:wi,parsePattern:ji,valueCallback:t=>parseInt(t)}),era:_({matchPatterns:ki,defaultMatchWidth:"wide",parsePatterns:Fi,defaultParseWidth:"any"}),quarter:_({matchPatterns:Ii,defaultMatchWidth:"wide",parsePatterns:Pi,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_({matchPatterns:Ai,defaultMatchWidth:"wide",parsePatterns:Di,defaultParseWidth:"any"}),day:_({matchPatterns:Ni,defaultMatchWidth:"wide",parsePatterns:Bi,defaultParseWidth:"any"}),dayPeriod:_({matchPatterns:Ti,defaultMatchWidth:"any",parsePatterns:Mi,defaultParseWidth:"any"})},Oi={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},Ri={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ei={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Li={date:ee({formats:Oi,defaultWidth:"full"}),time:ee({formats:Ri,defaultWidth:"full"}),dateTime:ee({formats:Ei,defaultWidth:"full"})},zi={code:"fr-CA",formatDistance:fi,formatLong:Li,formatRelative:vi,localize:qi,match:_i,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mt({open:t,onOpenChange:i}){const n=v(),{queryBuilder:r}=y(),a=r.getSavedFilters().filter(o=>!o.isNew());return p.useEffect(()=>{a.length===0&&i(!1)},[a]),e.jsx(e.Fragment,{children:e.jsx(oe,{open:t,onOpenChange:i,children:e.jsxs(se,{className:"w-full max-w-[550px]",children:[e.jsx(le,{children:e.jsx(ue,{children:n.savedFilter.manageDialog.title})}),e.jsx(Fn,{bordered:!0,className:"max-h-[250px]",children:a.map(o=>e.jsx(Ui,{savedFilter:o},o.id))}),e.jsx(de,{children:e.jsx(ce,{asChild:!0,children:e.jsx(m,{children:n.savedFilter.manageDialog.close})})})]})})})}const Ui=({savedFilter:t})=>{const i=v(),[n,r]=p.useState(!1),a=p.useCallback(()=>{const o=t.raw();if(!o.updated_date)return i.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}","n/a");const l=$n(new Date,new Date(o.updated_date),{locale:zi});return i.savedFilter.manageDialog.lastSaveAt.replace("{lastSaveAt}",l)},[t.raw()]);return e.jsxs(e.Fragment,{children:[e.jsx(In,{title:t.raw().title,description:a(),className:"border-b last:border-b-0 relative px-3 py-2 group",onEdit:()=>r(!0),onDelete:()=>Oe(t,i)},t.id),e.jsx(be,{open:n,onOpenChange:r,savedFilter:t})]})};Mt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersManageDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};function _t(){const t=v(),{queryBuilder:i}=y(),n=i.getSavedFilters().filter(c=>!c.isNew()),[r,a]=p.useState(!1),[o,l]=p.useState(!1),s=i.getSelectedSavedFilter(),d=function(){a(!1),l(!0)},h=p.useMemo(()=>new Date,[s==null?void 0:s.id]);return e.jsxs(e.Fragment,{children:[e.jsxs(Pn,{value:s==null?void 0:s.id,onValueChange:c=>{var g;return(g=n.find(f=>f.id===c))==null?void 0:g.select()},open:r,onOpenChange:a,disabled:n.length===0,children:[e.jsxs(j,{open:n.length>0?!1:void 0,children:[e.jsx(k,{asChild:!0,children:e.jsx(An,{className:"w-[135px] h-7",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(On,{size:14})," ",t.savedFilter.myFilters]})})}),e.jsx(F,{children:t.savedFilter.noSavedFilters})]}),e.jsxs(Dn,{children:[n.map(c=>e.jsx(Nn,{value:c.id,children:c.raw().title},c.id)),e.jsx(Bn,{}),e.jsx(m,{size:"sm",variant:"ghost",className:"w-full pl-2 justify-start",onClick:d,children:t.savedFilter.manageFilters})]})]},+h),e.jsx(Mt,{open:o,onOpenChange:l})]})}_t.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersSelect"};function Ot({className:t,...i}){return e.jsx("div",{className:R("flex",t),...i,children:e.jsxs("div",{className:"flex gap-4 items-center",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex whitespace-nowrap",children:[e.jsx(Dt,{}),e.jsx(Nt,{}),e.jsx(At,{}),e.jsx(Bt,{}),e.jsx(Tt,{})]}),e.jsx(_t,{})]})})}Ot.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersRightActions"};function Rt(){const{queryBuilder:t}=y(),[i,n]=p.useState(!1),r=t.getSelectedSavedFilter();return e.jsxs(e.Fragment,{children:[e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",onClick:()=>n(!0),children:e.jsx($t,{})}),e.jsx(be,{open:i,onOpenChange:n,savedFilter:r})]})}Rt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersEditAction"};function Et(){const t=v(),{queryBuilder:i}=y(),n=i.getSelectedSavedFilter();return n!=null&&n.isDirty()?e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:!n,onClick:()=>n.discardChanges(),children:e.jsx(En,{})})}),e.jsx(F,{children:t.savedFilter.discardTooltip})]}):null}Et.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersUndoAction"};function Lt(){const t=v(),{queryBuilder:i,enableFavorite:n}=y(),r=i.getSelectedSavedFilter();if(!n)return null;const a=function(){r?r.save(ae.Filter,{favorite:!r.isFavorite()}):i.saveNewFilter({favorite:!0})};return e.jsxs(j,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{iconOnly:!0,variant:"ghost",size:"sm",disabled:!r,onClick:a,children:e.jsx(Tn,{className:r!=null&&r.isFavorite()?"stroke-yellow-500 fill-yellow-500":""})})}),e.jsx(F,{children:r!=null&&r.isFavorite()?t.savedFilter.favoriteTooltip.unset:t.savedFilter.favoriteTooltip.set})]})}Lt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersStarAction"};function zt({className:t,...i}){const{queryBuilder:n}=y(),r=n.getSelectedSavedFilter();return e.jsxs("div",{className:R("flex items-center gap-4 whitespace-nowrap text-ellipsis overflow-hidden",t),...i,children:[e.jsx("div",{className:"text-ellipsis overflow-hidden text-base",children:r?r.raw().title:n.coreProps.savedFilterDefaultTitle}),e.jsxs("div",{className:"flex items-center",onClick:a=>a.stopPropagation(),children:[e.jsx(Rt,{}),e.jsx(Lt,{}),e.jsx(Et,{})]})]})}zt.__docgenInfo={description:"",methods:[],displayName:"SavedFiltersLeftActions"};function E({className:t,enableCombine:i=!0,enableFavorite:n=!1,enableShowHideLabels:r,initialShowHideLabels:a=!0,queryReferenceColors:o=Re,queryCountIcon:l,fetchQueryCount:s,dictionary:d,customPillConfig:h,queryPillFacetFilterConfig:c,resolveSyntheticSqon:g,...f}){const C=Kt(f),b=Gt(),w=p.useMemo(()=>Cn(b,d||{}),[d,b]),[P,N]=p.useState(a),S=p.useCallback(I=>o[I%o.length],[o]),B=p.useMemo(()=>({queryBuilder:C,enableCombine:i,enableFavorite:n,enableShowHideLabels:r,showLabels:P,toggleLabels:N,queryCountIcon:l,getQueryReferenceColor:S,fetchQueryCount:s,dictionary:d,customPillConfig:h,queryPillFacetFilterConfig:c,resolveSyntheticSqon:g}),[C,i,n,r,P,N,l,S,s,d,h,c,g]);return e.jsx(Zt.Provider,{value:w,children:e.jsx(en.Provider,{value:B,children:e.jsx(ui,{type:"multiple",defaultValue:["query-builder"],className:t,children:e.jsxs(pe,{value:"query-builder",className:"border-none",children:[e.jsxs(ge,{asChild:!0,className:"border py-0 px-5 rounded-t data-[state=closed]:rounded-sm hover:cursor-pointer",children:[e.jsx(zt,{className:"py-4 pr-4"}),e.jsx(Ot,{className:"ml-auto py-4"})]}),e.jsxs(Ce,{className:"border-l border-b border-r py-4 px-5 space-y-4 rounded-b",children:[e.jsx("div",{className:"flex flex-col gap-2 max-h-[30vh] overflow-y-scroll",children:C.getQueries().map(I=>e.jsx(wt,{query:I},I.id))}),e.jsx(Pt,{})]})]})})})})}E.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{enableCombine:{defaultValue:{value:"true",computed:!1},required:!1},enableFavorite:{defaultValue:{value:"false",computed:!1},required:!1},initialShowHideLabels:{defaultValue:{value:"true",computed:!1},required:!1},queryReferenceColors:{defaultValue:{value:`[
  "#C31D7E",
  "#328536",
  "#AA00FF",
  "#C2410C",
  "#047ABE",
  "#E5231F",
  "#007D85",
  "#C51162",
  "#7B5A90",
  "#B85C00",
  "#722ED1",
  "#4D7C0F",
  "#9F1239",
  "#2D7D9A",
  "#847545",
]`,computed:!1},required:!1}}};const Vi={queryBar:{empty:"Use the search tools & facets on the left to build a query",deletePopover:{title:"Delete this query?",cancel:"Cancel",ok:"Delete"},customPill:{createTooltip:"Create a custom query",cannotSaveAsCustomPill:"Custom queries cannot include other custom queries"},saveDialog:{title:"Save this query",fields:{title:{label:"Query name",placeholder:"Untitled query"}},notice:'You will find your saved queries in the sidebar under the "Queries" heading.',cancel:"Cancel",ok:"Save"}},queryPill:{operator:{changeOperatorTo:"Change operator to",and:"and",or:"or"},facet:t=>t,customPill:{editDialog:{title:"Edit custom query",cancel:"Cancel",ok:"Save"},cantBeEmptyDialog:{title:"Query cannot be empty",description:"Your custom query must contain at least one criteria.",ok:"Close"},titleExistsDialog:{title:"Name already in use",description:"A custom query with this name already exists. Please assign a unique name.",ok:"Close"},saveDialog:{title:"Edit this query?",confirmationMessage:'You are about to edit the custom query "{title}", which may affect your results.',affectedFilters:"Affected saved filters:",cancel:"Cancel",ok:"Save"}}},toolbar:{combine:"Combine",newQuery:"New query",clearAll:"Clear all",clearAllDialog:{title:"Delete all queries?",description:"You are about to delete all your queries. They will be lost forever.",cancel:"Cancel",ok:"Delete"},labels:"Labels"},savedFilter:{deleteTooltip:"Delete filter",deleteDialog:{title:"Permanently delete this filter?",description:"You are about to permanently delete this filter and all of its queries.",cancel:"Cancel",ok:"Delete filter"},duplicateTooltip:"Duplicate filter",overwriteDialog:{title:"Unsaved changes",description:"You are about to create a new filter; all modifications will be lost.",cancel:"Cancel",ok:"Create"},editDialog:{title:"Edit filter",cancel:"Cancel",ok:"Save",fields:{title:{label:"Title",placeholder:"Untitled query"}}},myFilters:"My Filters",manageFilters:"Manage filters",manageDialog:{title:"Manage filters",close:"Close",lastSaveAt:"Last saved at: {lastSaveAt} ago"},newFilter:"New filter",saveTooltip:{whenEmpty:"Add a query to save",whenDirty:"Save changes",default:"Save filter"},shareTooltip:{whenNotSaved:"Save filter to share",default:"Share (Copy url)"},favoriteTooltip:{set:"Set as default filter",unset:"Unset default filter"},discardTooltip:"Discard unsaved changes",noSavedFilters:"You have no saved filters"}},Xr={title:"Feature/Query Builder",component:E,args:{id:"query-builder-id",enableCombine:!0,enableFavorite:!0,enableShowHideLabels:!0,initialShowHideLabels:!0,queryReferenceColors:Re,resolveSyntheticSqon:u(),dictionary:Vi}},te="query-builder-id",Hi="query-builder-custom-pill-id",ne="query-builder-query-pill-filter-id";function Ut({queryBuilderId:t}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Testing Tools:"}),e.jsxs("div",{className:"flex border p-4 gap-2",children:[e.jsx(m,{color:"primary",size:"sm",onClick:()=>O.addQuery(t,Q()),children:"Add query"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>{O.updateActiveQueryField(t,{field:"field",value:["new-value"]})},children:"Add field to active query"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>{O.updateActiveQueryField(t,{field:"field",value:[]})},children:"Remove field from active query"})]})]})}const z={args:{id:te,initialState:{...O.getLocalQueryBuilderState(te),savedFilters:[{id:W(),title:"Olivier's Filter",favorite:!1,queries:[Q(),Q(),Q()]},{id:W(),title:"Francis' Filter",favorite:!1,queries:[Q(),Q()]},{id:W(),title:"Luc's Filter",favorite:!1,queries:[Q(),Q(),Q()]}],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onCustomPillSave:u(),onCustomPillUpdate:u(),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u()},render:t=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{...t}),e.jsx(Ut,{queryBuilderId:te})]})},ke=W(),U={args:{id:Hi,queryCountIcon:e.jsx(Mn,{size:14}),initialState:{activeQueryId:ke,queries:[Q(ke),Q()],savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onCustomPillSave:t=>(ie("onCustomPillSave")(t),new Promise(i=>setTimeout(()=>i(T(t)),750))),onCustomPillUpdate:t=>(ie("onCustomPillUpdate")(t),new Promise(i=>setTimeout(()=>i(T(t)),750))),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u(),customPillConfig:{enable:!0,queryBuilderEditId:"qb-custom-pill-edit-id",fetchCustomPillById:()=>new Promise(t=>setTimeout(()=>t(T()),750)),validateCustomPillTitle:()=>new Promise(t=>setTimeout(()=>t(!0),750)),fetchSavedFiltersByCustomPillId:()=>new Promise(t=>setTimeout(()=>t([T(),T()]),750))}},render:t=>e.jsx(E,{...t})},V={args:{id:ne,initialState:{...O.getLocalQueryBuilderState(ne),savedFilters:[],selectedQueryIndexes:[]},fetchQueryCount:async()=>Promise.resolve(15),onStateChange:u(),onActiveQueryChange:u(),onQueryCreate:u(),onQueryDelete:u(),onQuerySelectChange:u(),onQueryUpdate:u(),onSavedFilterCreate:u(),onSavedFilterDelete:u(),onSavedFilterSave:u(),onSavedFilterUpdate:u(),queryPillFacetFilterConfig:{enable:!0,onFacetClick:t=>(ie("onFacetClick")(t),e.jsx("div",{className:"italic text-sm",children:"Insert Filter Content"}))}},render:t=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{...t}),e.jsx(Ut,{queryBuilderId:ne})]})};var Fe,Ie,Pe;z.parameters={...z.parameters,docs:{...(Fe=z.parameters)==null?void 0:Fe.docs,source:{originalSource:`{
  args: {
    id: qbId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbId),
      savedFilters: [{
        id: v4(),
        title: "Olivier's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Francis' Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery()]
      }, {
        id: v4(),
        title: "Luc's Filter",
        favorite: false,
        queries: [generateRandomQuery(), generateRandomQuery(), generateRandomQuery()]
      }],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: fn(),
    onCustomPillUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn()
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbId} />
      </div>;
  }
}`,...(Pe=(Ie=z.parameters)==null?void 0:Ie.docs)==null?void 0:Pe.source}}};var Ae,De,Ne;U.parameters={...U.parameters,docs:{...(Ae=U.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  args: {
    id: qbCustomPillId,
    queryCountIcon: <UserIcon size={14} />,
    initialState: {
      activeQueryId: customPillActiveQueryId,
      queries: [generateRandomQuery(customPillActiveQueryId), generateRandomQuery()],
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onCustomPillSave: filter => {
      action('onCustomPillSave')(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onCustomPillUpdate: filter => {
      action('onCustomPillUpdate')(filter);
      return new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter(filter)), 750));
    },
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    customPillConfig: {
      enable: true,
      queryBuilderEditId: 'qb-custom-pill-edit-id',
      fetchCustomPillById: () => new Promise(resolve => setTimeout(() => resolve(generateRandomUserSavedFilter()), 750)),
      validateCustomPillTitle: () => new Promise(resolve => setTimeout(() => resolve(true), 750)),
      fetchSavedFiltersByCustomPillId: () => new Promise(resolve => setTimeout(() => resolve([generateRandomUserSavedFilter(), generateRandomUserSavedFilter()]), 750))
    }
  },
  render: args => {
    return <QueryBuilder {...args} />;
  }
}`,...(Ne=(De=U.parameters)==null?void 0:De.docs)==null?void 0:Ne.source}}};var Be,Te,Me;V.parameters={...V.parameters,docs:{...(Be=V.parameters)==null?void 0:Be.docs,source:{originalSource:`{
  args: {
    id: qbQueryPillFilterId,
    initialState: {
      ...queryBuilderRemote.getLocalQueryBuilderState(qbQueryPillFilterId),
      savedFilters: [],
      selectedQueryIndexes: []
    },
    fetchQueryCount: async () => Promise.resolve(15),
    onStateChange: fn(),
    onActiveQueryChange: fn(),
    onQueryCreate: fn(),
    onQueryDelete: fn(),
    onQuerySelectChange: fn(),
    onQueryUpdate: fn(),
    onSavedFilterCreate: fn(),
    onSavedFilterDelete: fn(),
    onSavedFilterSave: fn(),
    onSavedFilterUpdate: fn(),
    queryPillFacetFilterConfig: {
      enable: true,
      onFacetClick: filter => {
        action('onFacetClick')(filter);
        return <div className="italic text-sm">Insert Filter Content</div>;
      }
    }
  },
  render: args => {
    return <div className="space-y-6">
        <QueryBuilder {...args} />
        <TestingTools queryBuilderId={qbQueryPillFilterId} />
      </div>;
  }
}`,...(Me=(Te=V.parameters)==null?void 0:Te.docs)==null?void 0:Me.source}}};const $r=["Default","CustomPill","QueryPillFilter"];export{U as CustomPill,z as Default,V as QueryPillFilter,$r as __namedExportsOrder,Xr as default};
