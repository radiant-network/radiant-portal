import{r as O,R as yt}from"./index-CGj_12n1.js";import{s as oe}from"./index-DxlLpgFR.js";import{c as Bt,H as ie,C as ae,B as W,I as ce,O as ue,d as le,M as fe,A as de,e as pe,D as he,f as we}from"./api-BLBZBurO.js";const Kt=0,zt=1,Jt=2,Wt=3;var Ut=Object.prototype.hasOwnProperty;function mt(t,e){var n,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&mt(t[s],e[s]););return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(Ut.call(t,n)&&++s&&!Ut.call(e,n)||!(n in e)||!mt(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}const M=new WeakMap,H=()=>{},C=H(),Ot=Object,i=t=>t===C,P=t=>typeof t=="function",k=(t,e)=>({...t,...e}),Gt=t=>P(t.then),pt={},at={},_t="undefined",nt=typeof window!=_t,vt=typeof document!=_t,Ee=nt&&"Deno"in window,Re=()=>nt&&typeof window.requestAnimationFrame!=_t,Yt=(t,e)=>{const n=M.get(t);return[()=>!i(e)&&t.get(e)||pt,s=>{if(!i(e)){const a=t.get(e);e in at||(at[e]=a),n[5](e,k(a,s),a||pt)}},n[6],()=>!i(e)&&e in at?at[e]:!i(e)&&t.get(e)||pt]};let At=!0;const ge=()=>At,[Ct,St]=nt&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[H,H],me=()=>{const t=vt&&document.visibilityState;return i(t)||t!=="hidden"},Oe=t=>(vt&&document.addEventListener("visibilitychange",t),Ct("focus",t),()=>{vt&&document.removeEventListener("visibilitychange",t),St("focus",t)}),ve=t=>{const e=()=>{At=!0,t()},n=()=>{At=!1};return Ct("online",e),Ct("offline",n),()=>{St("online",e),St("offline",n)}},Ae={isOnline:ge,isVisible:me},Ce={initFocus:Oe,initReconnect:ve},qt=!yt.useId,et=!nt||Ee,Se=t=>Re()?window.requestAnimationFrame(t):setTimeout(t,1),ht=et?O.useEffect:O.useLayoutEffect,wt=typeof navigator<"u"&&navigator.connection,Ht=!et&&wt&&(["slow-2g","2g"].includes(wt.effectiveType)||wt.saveData),ct=new WeakMap,Te=t=>Ot.prototype.toString.call(t),Et=(t,e)=>t===`[object ${e}]`;let De=0;const Tt=t=>{const e=typeof t,n=Te(t),s=Et(n,"Date"),a=Et(n,"RegExp"),c=Et(n,"Object");let o,l;if(Ot(t)===t&&!s&&!a){if(o=ct.get(t),o)return o;if(o=++De+"~",ct.set(t,o),Array.isArray(t)){for(o="@",l=0;l<t.length;l++)o+=Tt(t[l])+",";ct.set(t,o)}if(c){o="#";const h=Ot.keys(t).sort();for(;!i(l=h.pop());)i(t[l])||(o+=l+":"+Tt(t[l])+",");ct.set(t,o)}}else o=s?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},bt=t=>{if(P(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Tt(t):"",[t,e]};let ye=0;const Dt=()=>++ye;async function Xt(...t){const[e,n,s,a]=t,c=k({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let o=c.populateCache;const l=c.rollbackOnError;let h=c.optimisticData;const b=S=>typeof l=="function"?l(S):l!==!1,v=c.throwOnError;if(P(n)){const S=n,w=[],L=e.keys();for(const E of L)!/^\$(inf|sub)\$/.test(E)&&S(e.get(E)._k)&&w.push(E);return Promise.all(w.map(g))}return g(n);async function g(S){const[w]=bt(S);if(!w)return;const[L,E]=Yt(e,w),[ut,r,st,X]=M.get(e),q=()=>{const T=ut[w];return(P(c.revalidate)?c.revalidate(L().data,S):c.revalidate!==!1)&&(delete st[w],delete X[w],T&&T[0])?T[0](Jt).then(()=>L().data):L().data};if(t.length<3)return q();let A=s,x,V=!1;const p=Dt();r[w]=[p,0];const K=!i(h),N=L(),z=N.data,rt=N._c,$=i(rt)?z:rt;if(K&&(h=P(h)?h($,z):h,E({data:h,_c:$})),P(A))try{A=A($)}catch(T){x=T,V=!0}if(A&&Gt(A))if(A=await A.catch(T=>{x=T,V=!0}),p!==r[w][0]){if(V)throw x;return A}else V&&K&&b(x)&&(o=!0,E({data:$,_c:C}));if(o&&!V)if(P(o)){const T=o(A,$);E({data:T,error:C,_c:C})}else E({data:A,error:C,_c:C});if(r[w][1]=Dt(),Promise.resolve(q()).then(()=>{E({_c:C})}),V){if(v)throw x;return}return A}}const kt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},_e=(t,e)=>{if(!M.has(t)){const n=k(Ce,e),s=Object.create(null),a=Xt.bind(C,t);let c=H;const o=Object.create(null),l=(v,g)=>{const S=o[v]||[];return o[v]=S,S.push(g),()=>S.splice(S.indexOf(g),1)},h=(v,g,S)=>{t.set(v,g);const w=o[v];if(w)for(const L of w)L(g,S)},b=()=>{if(!M.has(t)&&(M.set(t,[s,Object.create(null),Object.create(null),Object.create(null),a,h,l]),!et)){const v=n.initFocus(setTimeout.bind(C,kt.bind(C,s,Kt))),g=n.initReconnect(setTimeout.bind(C,kt.bind(C,s,zt)));c=()=>{v&&v(),g&&g(),M.delete(t)}}};return b(),[t,a,b,c]}return[t,M.get(t)[4]]},be=(t,e,n,s,a)=>{const c=n.errorRetryCount,o=a.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!i(c)&&o>c||setTimeout(s,l,a)},Ie=mt,[Qt,Le]=_e(new Map),Ve=k({onLoadingSlow:H,onSuccess:H,onError:H,onErrorRetry:be,onDiscarded:H,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ht?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ht?5e3:3e3,compare:Ie,isPaused:()=>!1,cache:Qt,mutate:Le,fallback:{}},Ae),Ne=(t,e)=>{const n=k(t,e);if(e){const{use:s,fallback:a}=t,{use:c,fallback:o}=e;s&&c&&(n.use=s.concat(c)),a&&o&&(n.fallback=k(a,o))}return n},Pe=O.createContext({}),xe="$inf$",Zt=nt&&window.__SWR_DEVTOOLS_USE__,je=Zt?window.__SWR_DEVTOOLS_USE__:[],Fe=()=>{Zt&&(window.__SWR_DEVTOOLS_REACT__=yt)},te=t=>P(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Me=()=>{const t=O.useContext(Pe);return O.useMemo(()=>k(Ve,t),[t])},We=t=>(e,n,s)=>t(e,n&&((...c)=>{const[o]=bt(e),[,,,l]=M.get(Qt);if(o.startsWith(xe))return n(...c);const h=l[o];return i(h)?n(...c):(delete l[o],h)}),s),Ue=je.concat(We),qe=t=>function(...n){const s=Me(),[a,c,o]=te(n),l=Ne(s,o);let h=t;const{use:b}=l,v=(b||[]).concat(Ue);for(let g=v.length;g--;)h=v[g](h);return h(a,c||l.fetcher||null,l)},He=(t,e,n)=>{const s=e[t]||(e[t]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}},Ge=(t,e)=>(...n)=>{const[s,a,c]=te(n),o=(c.use||[]).concat(e);return t(s,a,{...c,use:o})};Fe();const Rt=yt.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),gt={dedupe:!0},$t=Promise.resolve(C),ke=(t,e,n)=>{const{cache:s,compare:a,suspense:c,fallbackData:o,revalidateOnMount:l,revalidateIfStale:h,refreshInterval:b,refreshWhenHidden:v,refreshWhenOffline:g,keepPreviousData:S}=n,[w,L,E,ut]=M.get(s),[r,st]=bt(t),X=O.useRef(!1),q=O.useRef(!1),A=O.useRef(r),x=O.useRef(e),V=O.useRef(n),p=()=>V.current,K=()=>p().isVisible()&&p().isOnline(),[N,z,rt,$]=Yt(s,r),T=O.useRef({}).current,Q=i(o)?i(n.fallback)?C:n.fallback[r]:o,It=(u,d)=>{for(const R in T){const f=R;if(f==="data"){if(!a(u[f],d[f])&&(!i(u[f])||!a(it,d[f])))return!1}else if(d[f]!==u[f])return!1}return!0},Lt=O.useMemo(()=>{const u=!r||!e?!1:i(l)?p().isPaused()||c?!1:h!==!1:l,d=D=>{const j=k(D);return delete j._k,u?{isValidating:!0,isLoading:!0,...j}:j},R=N(),f=$(),I=d(R),Y=R===f?I:d(f);let m=I;return[()=>{const D=d(N());return It(D,m)?(m.data=D.data,m.isLoading=D.isLoading,m.isValidating=D.isValidating,m.error=D.error,m):(m=D,D)},()=>Y]},[s,r]),J=oe.useSyncExternalStore(O.useCallback(u=>rt(r,(d,R)=>{It(R,d)||u()}),[s,r]),Lt[0],Lt[1]),Vt=!X.current,ee=w[r]&&w[r].length>0,G=J.data,B=i(G)?Q&&Gt(Q)?Rt(Q):Q:G,ot=J.error,lt=O.useRef(B),it=S?i(G)?i(lt.current)?B:lt.current:G:B,Nt=ee&&!i(ot)?!1:Vt&&!i(l)?l:p().isPaused()?!1:c?i(B)?!1:h:i(B)||h,Pt=!!(r&&e&&Vt&&Nt),ne=i(J.isValidating)?Pt:J.isValidating,se=i(J.isLoading)?Pt:J.isLoading,Z=O.useCallback(async u=>{const d=x.current;if(!r||!d||q.current||p().isPaused())return!1;let R,f,I=!0;const Y=u||{},m=!E[r]||!Y.dedupe,D=()=>qt?!q.current&&r===A.current&&X.current:r===A.current,j={isValidating:!1,isLoading:!1},jt=()=>{z(j)},Ft=()=>{const y=E[r];y&&y[1]===f&&delete E[r]},Mt={isValidating:!0};i(N().data)&&(Mt.isLoading=!0);try{if(m&&(z(Mt),n.loadingTimeout&&i(N().data)&&setTimeout(()=>{I&&D()&&p().onLoadingSlow(r,n)},n.loadingTimeout),E[r]=[d(st),Dt()]),[R,f]=E[r],R=await R,m&&setTimeout(Ft,n.dedupingInterval),!E[r]||E[r][1]!==f)return m&&D()&&p().onDiscarded(r),!1;j.error=C;const y=L[r];if(!i(y)&&(f<=y[0]||f<=y[1]||y[1]===0))return jt(),m&&D()&&p().onDiscarded(r),!1;const F=N().data;j.data=a(F,R)?F:R,m&&D()&&p().onSuccess(R,r,n)}catch(y){Ft();const F=p(),{shouldRetryOnError:ft}=F;F.isPaused()||(j.error=y,m&&D()&&(F.onError(y,r,F),(ft===!0||P(ft)&&ft(y))&&(!p().revalidateOnFocus||!p().revalidateOnReconnect||K())&&F.onErrorRetry(y,r,F,re=>{const dt=w[r];dt&&dt[0]&&dt[0](Wt,re)},{retryCount:(Y.retryCount||0)+1,dedupe:!0})))}return I=!1,jt(),!0},[r,s]),xt=O.useCallback((...u)=>Xt(s,A.current,...u),[]);if(ht(()=>{x.current=e,V.current=n,i(G)||(lt.current=G)}),ht(()=>{if(!r)return;const u=Z.bind(C,gt);let d=0;p().revalidateOnFocus&&(d=Date.now()+p().focusThrottleInterval);const f=He(r,w,(I,Y={})=>{if(I==Kt){const m=Date.now();p().revalidateOnFocus&&m>d&&K()&&(d=m+p().focusThrottleInterval,u())}else if(I==zt)p().revalidateOnReconnect&&K()&&u();else{if(I==Jt)return Z();if(I==Wt)return Z(Y)}});return q.current=!1,A.current=r,X.current=!0,z({_k:st}),Nt&&(E[r]||(i(B)||et?u():Se(u))),()=>{q.current=!0,f()}},[r]),ht(()=>{let u;function d(){const f=P(b)?b(N().data):b;f&&u!==-1&&(u=setTimeout(R,f))}function R(){!N().error&&(v||p().isVisible())&&(g||p().isOnline())?Z(gt).then(d):d()}return d(),()=>{u&&(clearTimeout(u),u=-1)}},[b,v,g,r]),O.useDebugValue(it),c){const u=r&&i(B);if(!qt&&et&&u)throw new Error("Fallback data is required when using Suspense in SSR.");u&&(x.current=e,V.current=n,q.current=!1);const d=ut[r],R=!i(d)&&u?xt(d):$t;if(Rt(R),!i(ot)&&u)throw ot;const f=u?Z(gt):$t;!i(it)&&u&&(f.status="fulfilled",f.value=!0),Rt(f)}return{mutate:xt,get data(){return T.data=!0,it},get error(){return T.error=!0,ot},get isValidating(){return T.isValidating=!0,ne},get isLoading(){return T.isLoading=!0,se}}},Ye=qe(ke);class $e{constructor(e={}){var n;this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.serverIndex=e.serverIndex,this.baseOptions={headers:{...(n=e.baseOptions)==null?void 0:n.headers,"User-Agent":"OpenAPI-Generator/typescript-axios"},...e.baseOptions},this.formDataCtor=e.formDataCtor}isJsonMime(e){const n=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(n.test(e)||e.toLowerCase()==="application/json-patch+json")}}const _=Bt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});let tt=null;_.interceptors.response.use(t=>t,async t=>{const e=t.config;if(tt)return await tt,_(e);if(t.response.status===ie.Unauthorized&&!e._retry){e._retry=!0;try{return tt=Bt.post("/auth/refresh-token").finally(()=>{tt=null}),await tt,_(e)}catch(n){return window.location.href="/auth/logout",Promise.reject(n)}}return Promise.reject(t)});const U=new $e({basePath:"/api"});new pe(U,W,_);const Xe=new ue(U,W,_),Qe=new le(U,W,_),Ze=new fe(U,W,_),tn=new ae(U,W,_);new he(U,W,_);new we(U,W,_);const en=new de(U,W,_),nn=new ce(U,W,_);export{qt as I,C as U,Me as a,ht as b,tn as c,en as d,Qe as e,Ze as f,Dt as g,nn as i,k as m,Xe as o,bt as s,Ye as u,Ge as w};
