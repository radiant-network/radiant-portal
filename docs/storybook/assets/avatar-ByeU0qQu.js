import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{r as c}from"./index-CBYaBgW8.js";import{u as M}from"./index-BdYz8WOz.js";import{u as S}from"./index-D9mtqW9-.js";import"./index-sTUCEGFJ.js";import{c as F}from"./index-C-d7IIsQ.js";import{s as H}from"./index-lnksFm0-.js";import{c as y}from"./utils-CDN07tui.js";function T(e,t=[]){let a=[];function o(r,i){const n=c.createContext(i);n.displayName=r+"Context";const u=a.length;a=[...a,i];const d=f=>{var w;const{scope:m,children:g,...p}=f,x=((w=m==null?void 0:m[e])==null?void 0:w[u])||n,k=c.useMemo(()=>p,Object.values(p));return l.jsx(x.Provider,{value:k,children:g})};d.displayName=r+"Provider";function v(f,m){var x;const g=((x=m==null?void 0:m[e])==null?void 0:x[u])||n,p=c.useContext(g);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[d,v]}const s=()=>{const r=a.map(i=>c.createContext(i));return function(n){const u=(n==null?void 0:n[e])||r;return c.useMemo(()=>({[`__scope${e}`]:{...n,[e]:u}}),[n,u])}};return s.scopeName=e,[o,B(s,...t)]}function B(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const i=o.reduce((n,{useScope:u,scopeName:d})=>{const f=u(r)[`__scope${d}`];return{...n,...f}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}var D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h=D.reduce((e,t)=>{const a=F(`Primitive.${t}`),o=c.forwardRef((s,r)=>{const{asChild:i,...n}=s,u=i?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...n,ref:r})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function G(){return H.useSyncExternalStore(K,()=>!0,()=>!1)}function K(){return()=>{}}var A="Avatar",[O]=T(A),[V,L]=O(A),_=c.forwardRef((e,t)=>{const{__scopeAvatar:a,...o}=e,[s,r]=c.useState("idle");return l.jsx(V,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:r,children:l.jsx(h.span,{...o,ref:t})})});_.displayName=A;var E="AvatarImage",N=c.forwardRef((e,t)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:s=()=>{},...r}=e,i=L(E,a),n=W(o,r),u=M(d=>{s(d),i.onImageLoadingStatusChange(d)});return S(()=>{n!=="idle"&&u(n)},[n,u]),n==="loaded"?l.jsx(h.img,{...r,ref:t,src:o}):null});N.displayName=E;var b="AvatarFallback",I=c.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:o,...s}=e,r=L(b,a),[i,n]=c.useState(o===void 0);return c.useEffect(()=>{if(o!==void 0){const u=window.setTimeout(()=>n(!0),o);return()=>window.clearTimeout(u)}},[o]),i&&r.imageLoadingStatus!=="loaded"?l.jsx(h.span,{...s,ref:t}):null});I.displayName=b;function C(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function W(e,{referrerPolicy:t,crossOrigin:a}){const o=G(),s=c.useRef(null),r=o?(s.current||(s.current=new window.Image),s.current):null,[i,n]=c.useState(()=>C(r,e));return S(()=>{n(C(r,e))},[r,e]),S(()=>{const u=f=>()=>{n(f)};if(!r)return;const d=u("loaded"),v=u("error");return r.addEventListener("load",d),r.addEventListener("error",v),t&&(r.referrerPolicy=t),typeof a=="string"&&(r.crossOrigin=a),()=>{r.removeEventListener("load",d),r.removeEventListener("error",v)}},[r,a,t]),i}var j=_,q=N,P=I;function R({className:e,...t}){return l.jsx(j,{className:y("relative flex h-6 w-6 shrink-0 overflow-hidden rounded-full",e),...t})}R.displayName=j.displayName;q.displayName;function $({className:e,...t}){return l.jsx(P,{className:y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t})}$.displayName=P.displayName;R.__docgenInfo={description:"",methods:[]};$.__docgenInfo={description:"",methods:[]};export{R as A,$ as a};
