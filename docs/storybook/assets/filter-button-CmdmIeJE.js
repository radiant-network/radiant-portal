import{g as V,r as y,j as e,c as w,T as A,b as E,d as L,e as D}from"./iframe-DQ1t6oJB.js";import{B as G}from"./badge-jNZs0a3S.js";import{B as b}from"./button-IY8sM8Om.js";import{C as M}from"./checkbox-C4ZvKrpl.js";import{g as U,C as H,a as J,b as K,c as N,e as Q,d as W}from"./command-BpJjTVrB.js";import{P as X,a as Y,b as Z}from"./popover-C75z6Xu5.js";import{u as $}from"./i18n-CxZaJApP.js";import{S as ee}from"./search-BumnZBLC.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],te=V("CirclePlus",se),T=({option:s,handleSelect:r,closeOnSelect:t,setOpen:i,actionMode:p,selected:l,withTooltip:f})=>{const n=s.icon;return e.jsx(W,{onSelect:()=>{r(s.key||""),t&&i(!1)},className:"p-0 overflow-hidden hover:bg-accent hover:text-accent-foreground focus:bg-transparent focus:text-foreground",children:p?e.jsx(b,{variant:"ghost",className:"mx-2 my-1.5 p-0 h-full w-full items-center justify-start font-normal",children:s.label}):e.jsxs("div",{className:"flex row mx-2 my-1.5 p-0 w-full gap-2 items-center overflow-hidden",children:[e.jsx(M,{className:"mr-0",checked:l.includes(s.key||""),onCheckedChange:()=>{r(s.key||"")},onMouseDown:c=>{c.preventDefault()}}),e.jsxs("div",{className:"flex w-full items-center gap-1 overflow-hidden min-w-0",children:[n&&e.jsx(n,{size:20}),f?e.jsx(A,{children:e.jsxs(E,{children:[e.jsx(L,{asChild:!0,children:e.jsxs("div",{className:"truncate",children:[e.jsx("span",{className:"flex-1 min-w-0",children:s.key}),e.jsxs("span",{className:"text-muted-foreground",children:[" - ",s.label]})]})}),e.jsx(D,{children:s.tooltip||s.label})]})}):e.jsx("span",{className:"truncate flex-1 min-w-0",children:s.label})]})]})},s.key)};function k(s,r){return s.filter(t=>r.includes(t.key||""))}function I(s,r){return s.filter(t=>!r.includes(t.key||""))}function ae({label:s,options:r,selected:t,onSelect:i,className:p,popoverSize:l="sm",placeholder:f,actionMode:n=!1,icon:c,isOpen:h=!1,closeOnSelect:j=!1,withTooltip:v=!1}){const{t:x}=$(),[O,o]=y.useState(h),[q,R]=y.useState(!0),d=t.length,[g,B]=y.useState({selectedOptions:k(r,t),unselectedOptions:I(r,t)}),S=a=>{q&&h?(R(!1),o(h)):(o(a),a&&B({selectedOptions:k(r,t).sort((m,u)=>{const _=typeof m.label=="string"?m.label:"",z=typeof u.label=="string"?u.label:"";return _.localeCompare(z)}),unselectedOptions:I(r,t)}))},C=a=>{const m=t.includes(a)?t.filter(u=>u!==a):[...t,a];i(m)},F=()=>{i([])},P=n?"ghost":"outline";return e.jsxs(X,{open:O,onOpenChange:S,children:[e.jsx(Y,{asChild:!0,children:e.jsxs(b,{variant:P,size:"sm",className:w("border-dashed",p),children:[c||e.jsx(te,{className:""}),e.jsx("span",{children:s}),!n&&d>0&&e.jsx(G,{className:"size-5 items-center justify-center",children:d})]})}),e.jsxs(Z,{className:w("p-0 flex flex-col",{"w-48 max-h-96":l==="xs","w-56 max-h-96":l==="sm","w-72 max-h-96":l==="md","w-120 max-h-96":l==="lg"}),align:"start",onMouseLeave:()=>o(!1),children:[e.jsxs(U,{className:"flex flex-col border-border border-0 border-b-none rounded-b-none",value:"",children:[e.jsx(H,{placeholder:f||s||x("common.filters.select_placeholder"),leftAddon:e.jsx(ee,{size:16,className:"text-muted-foreground mr-1"}),wrapperClassName:"shrink-0 h-10 border-t-0 border-l-0 border-b-1 border-r-0 border-color-border rounded-none"}),e.jsxs(J,{children:[e.jsx(K,{children:x("common.table.no_result")}),e.jsx(N,{children:g.selectedOptions.map(a=>e.jsx(T,{option:a,handleSelect:C,closeOnSelect:j,setOpen:o,actionMode:n,selected:t,withTooltip:v},a.key))}),g.selectedOptions.length>0&&e.jsx(Q,{}),e.jsx(N,{children:g.unselectedOptions.map(a=>e.jsx(T,{option:a,handleSelect:C,closeOnSelect:j,setOpen:o,actionMode:n,selected:t,withTooltip:v},a.key))})]})]}),d!==0&&!n&&e.jsx("div",{className:"size-full border-t-1 rounded-none border-border p-1",children:e.jsx(b,{variant:"ghost",size:"sm",className:"size-full",onClick:F,disabled:d===0,children:x("common.actions.clear")})})]})]})}ae.__docgenInfo={description:"",methods:[],displayName:"FilterButton",props:{label:{required:!0,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"IFilterButtonItem"}],raw:"IFilterButtonItem[]"},description:""},selected:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"selected"}],return:{name:"void"}}},description:""},popoverSize:{required:!1,tsType:{name:"union",raw:"'sm' | 'lg' | 'md' | 'xs'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'md'"},{name:"literal",value:"'xs'"}]},description:"",defaultValue:{value:"'sm'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},actionMode:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},closeOnSelect:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},optionRenderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: IFilterButtonItem) => React.ReactNode",signature:{arguments:[{type:{name:"IFilterButtonItem"},name:"option"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},withTooltip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{ae as F};
