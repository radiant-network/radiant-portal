import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{R as lt,r as E,b as ct,g as Dt}from"./index-CBYaBgW8.js";import{A as Pt}from"./action-button-9r-08jXC.js";import{B as J}from"./button-CbhBcUjT.js";import"./button.variants-Du9eY_ux.js";import{C as Mt}from"./checkbox-filter-BvP0FXCK.js";import{d as ut,e as dt,C as Lt,a as Ft}from"./card-Cyh3E19J.js";import{I as _e}from"./input-Bj-MPxry.js";import{L as be}from"./label-BI8zg36L.js";import{S as qt}from"./separator-ChZWIdMg.js";import{S as xe}from"./skeleton-_T1otFf0.js";import{S as Vt}from"./switch-Jy17y5RA.js";import{q as G,D as ft}from"./query-builder-remote-BvxINXQp.js";import{M as oe,T as Ce,R as B}from"./sqon-DVtAmdMA.js";import{u as te}from"./i18n-DrzVMC28.js";import{A as Gt,a as Ut,b as Ht,c as Bt}from"./accordion-DSXieqtP.js";import{A as De}from"./applications-config-3OOAo44D.js";import{u as pt,o as Se,e as zt}from"./api-DxU0s23E.js";import{M as Xt}from"./multi-selector-BpYvdJnj.js";import{T as mt,a as ht,b as yt}from"./tooltip-0vX-MTK3.js";import{I as Qt}from"./info-1oMsIW1a.js";import{S as Wt}from"./search-DKmUqS9g.js";import{a as Jt,c as Yt,b as Zt,E as Kt,L as $t,G as en}from"./less-than-or-equal-operator-icon-D0t0YMSp.js";import{C as tn}from"./checkbox-BUFo-vqr.js";import{d as Pe,S as Me,a as Le,b as Fe,c as qe}from"./select-DnbErV3f.js";import{c as nn}from"./index-C66Dxnp2.js";import{u as rn}from"./chunk-WWGJGFF6-CCuOjZso.js";import{R as an,a as on}from"./radio-group-DekDLgvf.js";const sn=["omim_gene_panel","ddd_gene_panel","cosmic_gene_panel","hpo_gene_panel","vep_impact","exomiser_gene_combined_score","cadd_score","cadd_phred","dann_score","fathmm_pred","lrt_pred","polyphen2_hvar_pred","revel_score","sift_pred","pf_wgs","pf_wgs_affected","pf_wgs_not_affected","transmission_mode","nb_snv","hpo_gene_panel","pe","sm"],vt=lt.createContext({caseId:1,seqId:1}),ln=e=>{switch(e){case De.cnv_occurrence:return r=>Se.aggregateGermlineCNVOccurrences(r.caseId,r.seqId,r.aggregationBody).then(a=>a.data);default:return r=>Se.aggregateGermlineSNVOccurrences(r.caseId,r.seqId,r.aggregationBody,r.withDictionary).then(a=>a.data)}};function gt(e,r=30,a=!1,c=!1,h){let f;const{caseId:l,seqId:u}=lt.useContext(vt);a?f={caseId:l,seqId:u,aggregationBody:{field:e,size:r},withDictionary:c}:f=null;const n=G.getResolvedActiveQuery(h);return n&&f&&(f.aggregationBody.sqon={content:n.content,op:n.op}),pt(f,ln(h),{revalidateOnFocus:!1})}function Ve(e,r){const a=e.toLowerCase().split(/\s+/).filter(Boolean);return r.filter(c=>{const h=c.key.toLowerCase(),f=c.label.toLowerCase();function l(u,n){let i=0;for(const d of n){const y=u.indexOf(d,i);if(y===-1)return!1;i=y+d.length}return!0}return l(h,a)||l(f,a)})}function we(e,r){return r<e?r:e}function cn(e,r){try{const a=sessionStorage.getItem(r);if(a){const c=JSON.parse(a),h=`${e.key}_withDictionary`;if(Object.prototype.hasOwnProperty.call(c,h))return c[h]}}catch(a){console.warn(`Failed to read dictionary toggle state from sessionStorage for ${e.key}:`,a)}return!1}function _t({field:e,maxVisibleItems:r=5}){const{t:a,sanitize:c,lazyTranslate:h}=te(),{appId:f}=Te(),l=It(f),u=()=>{try{const T=sessionStorage.getItem(l);if(T){const R=JSON.parse(T);Object.keys(R).forEach(L=>{L.endsWith("_withDictionary")||delete R[L]}),Object.keys(R).length>0?sessionStorage.setItem(l,JSON.stringify(R)):sessionStorage.removeItem(l)}}catch(T){console.warn("Failed to clear unapplied filters from sessionStorage:",T)}},[n,i]=E.useState(cn(e,l)),{data:d,isLoading:y}=gt(e.key,void 0,!0,n,f),v=()=>{const T=`appLoaded_${f}`;if(!window[T]){try{const V=sessionStorage.getItem(l);if(V){const Q=JSON.parse(V);Object.keys(Q).forEach(ne=>{ne.endsWith("_withDictionary")||delete Q[ne]}),Object.keys(Q).length>0?sessionStorage.setItem(l,JSON.stringify(Q)):sessionStorage.removeItem(l)}}catch(V){console.warn("Failed to clear unapplied filters on page refresh:",V)}window[T]=!0;const P=G.getResolvedActiveQuery(f).content.find(V=>V.content.field===e.key);return(P==null?void 0:P.content.value)||[]}try{const P=sessionStorage.getItem(l);if(P){const V=JSON.parse(P);if(Object.prototype.hasOwnProperty.call(V,e.key))return V[e.key]}}catch(P){console.warn(`Failed to read filter state from sessionStorage for ${e.key}:`,P)}const L=G.getResolvedActiveQuery(f).content.find(P=>P.content.field===e.key);return(L==null?void 0:L.content.value)||[]},[N,A]=E.useState(d||[]),[g,p]=E.useState(d||[]),[S,k]=E.useState(""),[b,j]=E.useState(v()),[t,o]=E.useState(we((d||[]).length,r)),[m,x]=E.useState(!1),[_,D]=E.useState(!1),[q,H]=E.useState(!1),[X,I]=E.useState(()=>{const T=G.getResolvedActiveQuery(f);return JSON.stringify(T)}),[C,U]=E.useState(()=>{try{const T=sessionStorage.getItem(l);if(T){const R=JSON.parse(T);return Object.prototype.hasOwnProperty.call(R,e.key)}}catch(T){console.warn(`Failed to check sessionStorage state for ${e.key}:`,T)}return!1});E.useEffect(()=>{const T=G.getResolvedActiveQuery(f),R=JSON.stringify(T);if(X&&X!==R){u();const L=G.getResolvedActiveQuery(f).content.find(P=>P.content.field===e.key),Z=(L==null?void 0:L.content.value)||[];j(Z)}I(R)},[f,e.key,u,b]),E.useEffect(()=>{let T=!1;try{const V=sessionStorage.getItem(l);if(V){const Q=JSON.parse(V);T=Object.prototype.hasOwnProperty.call(Q,e.key)}}catch(V){console.warn(`Failed to check sessionStorage values for ${e.key}:`,V)}if(T)return;const R=G.getResolvedActiveQuery(f).content.find(V=>V.content.field===e.key),L=(R==null?void 0:R.content.value)||[],Z=[...b].sort(),P=[...L].sort();JSON.stringify(Z)!==JSON.stringify(P)&&(_||j(L))},[f,e.key,b,_,l]),E.useEffect(()=>{const T=G.getResolvedActiveQuery(f).content.find(F=>F.content.field===e.key),R=(T==null?void 0:T.content.value)||[],L=JSON.stringify([...b].sort())!==JSON.stringify([...R].sort());D(L),b.length===0&&R.length>0&&!q&&!_&&!C&&j(R),C&&U(!1),b.length>0&&q&&H(!1);let Z=[];try{const F=sessionStorage.getItem(l);if(F){const K=JSON.parse(F);Object.prototype.hasOwnProperty.call(K,e.key)&&(Z=K[e.key]||[])}}catch(F){console.warn(`Failed to read unapplied values from sessionStorage for ${e.key}:`,F)}const P=[...d||[]],V=[...new Set([...R,...Z])];V.length>0&&V.forEach(F=>{P.some(ye=>ye.key===F)||P.push({key:F,count:0,label:F})}),P==null||P.sort((F,K)=>{const ye=F.key&&R.includes(F.key),jt=K.key&&R.includes(K.key);return ye===jt?K.count-F.count:ye?-1:1}),P==null||P.forEach(F=>{F.label=a(`common.filters.values.${e.key}.${c(F.key)}`,{defaultValue:h(F.key)})}),A(P||[]);const Q=S.trim()?Ve(S,P||[]):P||[];p(Q);const ne=Q.length;if(m&&ne>r)o(ne);else{const F=we(ne,r);t!==F&&o(F),m&&F<=r&&x(!1)}},[d,f,e.key,r,l,b,q,_,C,S]),E.useEffect(()=>{try{const T=sessionStorage.getItem(l)||"{}",R=JSON.parse(T);R[e.key]=b,sessionStorage.setItem(l,JSON.stringify(R))}catch(T){console.warn(`Failed to save filter state to sessionStorage for ${e.key}:`,T)}},[b,l,e.key]),E.useEffect(()=>{if(e.withDictionary)try{const T=sessionStorage.getItem(l)||"{}",R=JSON.parse(T),L=`${e.key}_withDictionary`;R[L]=n,sessionStorage.setItem(l,JSON.stringify(R))}catch(T){console.warn(`Failed to save dictionary toggle state to sessionStorage for ${e.key}:`,T)}},[n,l,e.key,e.withDictionary]);const se=E.useCallback(T=>{if(k(T),x(!1),!T.trim()){p(N),o(we(N.length,r));return}const R=Ve(T,N);p(R),r>R.length?o(R.length):R.length>r&&o(r)},[N,r]),ke=E.useCallback(()=>{o(g.length),x(!0)},[g]),Re=E.useCallback(()=>{o(r),x(!1)},[r]),Ae=E.useCallback(()=>{b.length!==g.length&&(D(!0),j(g.map(T=>T.key)))},[g,b]),Y=E.useCallback(()=>{D(!0),j([]),H(!0);try{const T=sessionStorage.getItem(l);if(T){const R=JSON.parse(T);delete R[e.key],Object.keys(R).length===0?sessionStorage.removeItem(l):sessionStorage.setItem(l,JSON.stringify(R))}}catch(T){console.warn(`Failed to clear filter state from sessionStorage for ${e.key}:`,T)}},[l,e.key]),pe=E.useCallback(()=>{b.length!==0&&Y()},[b,Y]),me=E.useCallback(T=>{let R=[];b.some(L=>L===T.key)?R=b.filter(L=>L!==T.key):R=[...b,T.key],D(!0),j(R)},[b]),he=E.useCallback(()=>{Y()},[Y]),W=E.useCallback(T=>{D(!1),H(!1),G.updateActiveQueryField(f,{field:e.key,value:[...b],merge_strategy:oe.OVERRIDE_VALUES,operator:T}),u()},[b,f,e.key,u]),O=E.useCallback(()=>{W(Ce.In)},[W]),M=E.useCallback(()=>{W(Ce.NotIn)},[W]),Ne=E.useCallback(()=>{W(Ce.In)},[W]);return s.jsxs(s.Fragment,{children:[s.jsxs(ut,{size:"sm",variant:"outline",children:[s.jsx(_e,{startIcon:Wt,size:"xs",type:"text",placeholder:a("common.filters.search.placeholder"),className:"w-full text-xs mt-3 py-1.5 px-3 mb-4 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",onChange:T=>se(T.target.value),autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(J,{size:"xs",onClick:()=>Ae(),variant:"link",className:"px-0",children:a("common.filters.buttons.all")}),s.jsx(qt,{orientation:"vertical",className:"h-4"}),s.jsx(J,{size:"xs",onClick:()=>pe(),variant:"link",className:"px-0",children:a("common.filters.buttons.none")}),e.withDictionary&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-grow"}),s.jsx(be,{htmlFor:"with-dictionary-switch",className:"text-xs",children:a("common.filters.with_dictionary")}),s.jsx(Vt,{id:"with-dictionary-switch",checked:n,size:"xs",onCheckedChange:()=>i(!n)})]})]}),s.jsxs("div",{className:"max-h-[250px] overflow-auto",children:[y&&Array.from({length:3},(T,R)=>s.jsxs("div",{className:"flex justify-between items-center py-2 space-x-2",children:[s.jsx(xe,{className:"w-full h-6 rounded"}),s.jsx(xe,{className:"h-6 w-12 rounded-md"})]},`skeleton-${R}`)),!y&&g.length===0&&s.jsx("div",{className:"text-muted-foreground py-4",children:a("common.filters.no_values_found")}),!y&&g.length>0&&Array.from({length:t},(T,R)=>s.jsx("div",{className:"gap-3 py-1.5",children:s.jsx(Mt,{size:"xs",label:a(`common.filters.labels.${e.key}_value.${g[R].key}`,{defaultValue:g[R].label}),checked:b.some(L=>L===g[R].key),count:g[R].count,onCheckedChange:()=>me(g[R])})},g[R].key))]}),!y&&g.length>t&&s.jsx(J,{className:"mt-2 px-0",onClick:ke,size:"xs",variant:"link",children:a("common.filters.buttons.show_more",{count:g.length-t})}),!y&&t>r&&s.jsx(J,{className:"mt-2 px-0",onClick:Re,size:"xs",variant:"link",children:a("common.filters.buttons.show_less")})]}),s.jsx(dt,{size:"sm",children:s.jsxs("div",{className:"flex align-right justify-end items-center space-x-2",children:[s.jsx(J,{size:"xxs",variant:"ghost",onClick:he,disabled:b.length===0||y,children:a("common.filters.buttons.clear")}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(Pt,{size:"xxs",variant:"outline",className:"h-7",color:"primary",actions:[{label:a("common.filters.buttons.some_not_in"),onClick:Ne},{label:a("common.filters.buttons.not_in"),onClick:M}],onDefaultAction:O,disabled:y,children:a("common.filters.buttons.apply")})})]})})]})}_t.__docgenInfo={description:"",methods:[],displayName:"MultiSelectFilter",props:{field:{required:!0,tsType:{name:"AggregationConfig"},description:""},maxVisibleItems:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5",computed:!1}}}};const un=nn({slots:{base:"text-muted-foreground"},variants:{size:{xs:{base:"text-xs"},sm:{base:"text-sm"}}},defaultVariants:{size:"sm"}});function Et({className:e,size:r,children:a}){const c=un({size:r});return s.jsx("p",{className:c.base({className:e}),children:a})}Et.__docgenInfo={description:"",methods:[],displayName:"TextMuted"};const dn=function(){const{caseId:e}=rn(),r=e?Number(e):void 0;if(r==null)throw new Error("Required parameter case_id was null or undefined.");return r},xt="integer",fn=e=>{switch(e){case De.cnv_occurrence:return r=>Se.statisticsGermlineCNVOccurrences(r.caseId,r.seqId,r.statisticsBody).then(a=>a.data);default:return r=>Se.statisticsGermlineSNVOccurrences(r.caseId,r.seqId,r.statisticsBody).then(a=>a.data)}};function pn(e,r,a,c,h=!1){const f={caseId:a,seqId:c,statisticsBody:{field:e}},l=h?ft:G.getResolvedActiveQuery(r);return l&&(f.statisticsBody.sqon={content:l.content,op:l.op}),pt(f,fn(r),{revalidateOnFocus:!1})}function Ge(e,r,a,c){var A;let h=!1,f=(a==null?void 0:a.defaultOperator)??B.LessThan,l="0",u="0",n="",i=!1;const d=(c==null?void 0:c.type)===xt?0:3,y=r.content.find(g=>"content"in g&&"field"in g.content?g.content.field===e:!1),v=r.content.find(g=>"content"in g&&"field"in g.content?g.content.field===`${e}_unit`:!1);if(y){const g=y.content.value;if(console.log("[NumericalFilter] values",g),g.includes("__missing__"))return{hasUnappliedItems:h,selectedRange:f,minValue:l,maxValue:u,numericalValue:n,hasNoData:!0,selectedUnit:void 0};h=!0,g.length===2?(f=B.Between,l=Number(g[0]).toFixed(d),u=Number(g[1]).toFixed(d)):n=g[0],y.op&&(f=y.op)}else console.log("[NumericalFilter else] no filter exists",a),i=!1,(a==null?void 0:a.defaultMin)!==void 0?(l=a.defaultMin.toString(),n=a.defaultMin.toString()):(c==null?void 0:c.min)!==void 0&&(l=Number(c.min.toFixed(d)).toString(),n=Number(c.min.toFixed(d)).toString()),(a==null?void 0:a.defaultMax)!==void 0?u=a.defaultMax.toString():(c==null?void 0:c.max)!==void 0&&(u=Number(c.max.toFixed(d)).toString()),a!=null&&a.defaultOperator&&(f=B[a.defaultOperator]);let N;return v&&v.content.value[0]&&((A=a==null?void 0:a.rangeTypes)!=null&&A.length)&&(N=a.rangeTypes[0].key),{hasUnappliedItems:h,selectedRange:f,minValue:l,maxValue:u,numericalValue:n,hasNoData:i,selectedUnit:N}}function St({field:e}){var Y,pe,me,he,W;const{t:r}=te(),{appId:a,aggregations:c}=Te(),{seqId:h}=E.useContext(vt),f=dn(),l=e.key,u={[B.GreaterThan]:{display:r("common.filters.operators.greater_than"),dropdown:r("common.filters.operators.greater_than"),icon:en},[B.LessThan]:{display:r("common.filters.operators.less_than"),dropdown:r("common.filters.operators.less_than"),icon:$t},[B.Between]:{display:r("common.filters.operators.between"),dropdown:r("common.filters.operators.between"),icon:Kt},[B.GreaterThanOrEqualTo]:{display:r("common.filters.operators.greater_than_or_equal"),dropdown:r("common.filters.operators.greater_than_or_equal"),icon:Zt},[B.LessThanOrEqualTo]:{display:r("common.filters.operators.less_than_or_equal"),dropdown:r("common.filters.operators.less_than_or_equal"),icon:Yt},[B.In]:{display:r("common.filters.operators.in"),dropdown:r("common.filters.operators.in"),icon:Jt}},{data:n,isLoading:i}=pn(l,a,f,h,!1),d=(n==null?void 0:n.type)===xt?0:3,[y,v]=E.useState(B.GreaterThan),[N,A]=E.useState("0"),[g,p]=E.useState("0"),[S,k]=E.useState("0"),[b,j]=E.useState(!1),[t,o]=E.useState(),[m,x]=E.useState(!1),_=(Y=Object.values(c).flatMap(O=>O.items).find(O=>O.key===l))==null?void 0:Y.defaults,D=e.type==="numerical"&&(_==null?void 0:_.noDataInputOption),q=(_==null?void 0:_.intervalDecimal)!==void 0&&((_==null?void 0:_.max)!==void 0||(_==null?void 0:_.min)!==void 0)||n&&(n.min!==void 0||n.max!==void 0),H=(_==null?void 0:_.min)??(n==null?void 0:n.min)??0,X=(_==null?void 0:_.max)??(n==null?void 0:n.max)??100,I=E.useCallback(()=>{const O=G.getResolvedActiveQuery(a);if(!(O!=null&&O.content))return;const M=Ge(l,O,_,n);j(M.hasNoData),k(M.minValue),p(M.maxValue),x(M.hasUnappliedItems),v(M.selectedRange??B.GreaterThan),A(M.numericalValue)},[a,l,_,n]);E.useEffect(()=>{I()},[I]);const C=E.useCallback(O=>{v(O),x(!0)},[]),U=E.useCallback(O=>{j(O),x(!0)},[]),se=E.useCallback(O=>{o(O),x(!0)},[]),ke=()=>{x(!1);const O=Ge(l,ft,_,n);j(O.hasNoData),k(O.minValue),p(O.maxValue),x(O.hasUnappliedItems),v(O.selectedRange),A(O.numericalValue)},Re=E.useCallback(()=>{if(x(!1),b){G.updateActiveQueryField(a,{field:l,value:["__missing__"],merge_strategy:oe.OVERRIDE_VALUES});return}let O=[];O=y===B.Between?[parseFloat(S.toString()),parseFloat(g.toString())]:[parseFloat(N.toString())],G.updateActiveQueryField(a,{field:l,value:O,merge_strategy:oe.OVERRIDE_VALUES,operator:y}),t&&G.updateActiveQueryField(a,{field:`${l}_unit`,value:[t],merge_strategy:oe.OVERRIDE_VALUES})},[a,l,y,N,S,g,b,t]),Ae=Object.entries(B).map(([O,M])=>{if(M in u){const Ne=u[M].icon;return s.jsx(Pe,{value:M,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ne,{size:16}),s.jsx("span",{children:u[M].dropdown})]})},M)}return null}).filter(Boolean);return s.jsxs(s.Fragment,{children:[s.jsx(ut,{id:`${l}_container`,size:"sm",variant:"outline",children:s.jsxs("div",{className:"pt-2",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{id:`${l}_operator`,children:s.jsxs(Me,{value:y,onValueChange:C,children:[s.jsx(Le,{size:"sm",children:s.jsx(Fe,{placeholder:r("common.filters.operators.select_operator"),children:((pe=u[y])==null?void 0:pe.display)||r("common.filters.operators.unknown")})}),s.jsx(qe,{children:Ae})]})}),y===B.Between?s.jsxs("div",{className:"flex gap-2 flex-row",children:[s.jsx(_e,{size:"xs",className:"w-half",value:S,onChange:O=>{const M=O.target.value;isNaN(Number(M))||(k(M),x(!0))},min:H,max:X,id:`${l}_min`,"data-testid":`${l}_min`}),s.jsx(_e,{size:"xs",className:"w-half",value:g,onChange:O=>{const M=O.target.value;isNaN(Number(M))||(p(M),x(!0))},min:H,max:X,id:`${l}_max`,"data-testid":`${l}_max`})]}):s.jsx(_e,{size:"xs",className:"w-full",value:N,onChange:O=>{const M=O.target.value;isNaN(Number(M))||(A(M),x(!0))},min:H,max:X,id:`${l}_value`,"data-testid":`${l}_value`}),q&&s.jsx("div",{id:`${l}_interval`,children:s.jsxs(Et,{size:"xs",children:[r("common.filters.labels.actual_interval")," : ",(me=n==null?void 0:n.min)==null?void 0:me.toFixed(d)," -"," ",(he=n==null?void 0:n.max)==null?void 0:he.toFixed(d)]})})]}),(_==null?void 0:_.rangeTypes)&&_.rangeTypes.length>0&&s.jsx("div",{id:`${l}_range_type_container`,className:"mt-3",children:i?s.jsxs(s.Fragment,{children:[s.jsx(xe,{className:"h-5 w-16 mb-1",id:`${l}_unit_label_skeleton`}),s.jsx(xe,{className:"h-9 w-full",id:`${l}_select_skeleton`})]}):s.jsxs(s.Fragment,{children:[s.jsx(be,{className:"text-sm",id:`${l}_unit_label`,children:r("common.filters.labels.unit")}),s.jsxs(Me,{defaultValue:t||_.rangeTypes[0].key,onValueChange:se,children:[s.jsx(Le,{children:s.jsx(Fe,{placeholder:r("common.filters.labels.select_unit"),children:((W=_.rangeTypes.find(O=>O.key===t))==null?void 0:W.name)||r("common.filters.labels.select_unit")})}),s.jsx(qe,{children:_.rangeTypes.map(O=>s.jsx(Pe,{value:O.key,children:O.name},O.key))})]})]})}),D&&!q&&s.jsxs("label",{className:"flex items-center space-x-2 overflow-hidden mt-3",id:`${l}_no_data_label`,children:[s.jsx(tn,{checked:b,onCheckedChange:U,id:`${l}_no_data`}),s.jsx("span",{children:r("common.filters.labels.no_data")})]})]})}),s.jsx(dt,{size:"sm",children:s.jsxs("div",{className:"flex align-right justify-end items-center space-x-2",children:[s.jsx(J,{size:"xxs",variant:"ghost",onClick:ke,disabled:!m,id:`${l}_clear`,children:r("common.filters.buttons.clear")}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(J,{size:"xxs",variant:"outline",onClick:Re,id:`${l}_apply`,children:r("common.filters.buttons.apply")})})]})})]})}St.__docgenInfo={description:"",methods:[],displayName:"NumericalFilter",props:{field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};function bt({data:e,field:r}){const{t:a}=te(),{appId:c}=Te(),{data:h}=gt(r.key,void 0,!0,!1,c),[f,l]=E.useState(e||h||[]),[u,n]=E.useState(null);E.useEffect(()=>{l(e||h||[])},[e,h]),E.useEffect(()=>{const v=G.getActiveQuery(c).content.find(N=>N.content.field===r.key);if(v){const N=v.content.value;N.length>=1&&n(N[0])}else n(null)},[c,r.key]);const i=E.useCallback(v=>{v.key!==u&&v.key!==void 0&&(n(v.key||null),G.updateActiveQueryField(c,{field:r.key,value:[...v.key],merge_strategy:oe.OVERRIDE_VALUES}))},[u]),d=E.useCallback(v=>u===v.key,[u]),y=E.useCallback(()=>{n(null)},[u]);return s.jsxs("div",{className:"p-2 w-full max-w-md",children:[s.jsx(an,{children:f.map(v=>s.jsx("div",{className:"space-y-3 pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(on,{value:v.key||"",id:v.key,checked:d(v),onClick:()=>{i(v)}}),s.jsx(be,{htmlFor:v.key,children:v.key})]}),s.jsx("span",{className:"bg-accent px-2 py-1 rounded-md font-mono text-xs",children:v.count})]})},v.key))}),u!==null&&s.jsxs(s.Fragment,{children:[s.jsx("hr",{className:"my-4 border-border"}),s.jsx("div",{className:"flex align-right justify-end items-center space-x-2",children:s.jsx(J,{onClick:y,size:"xs",children:a("common.filters.buttons.clear")})})]})]})}bt.__docgenInfo={description:"",methods:[],displayName:"ToggleFilter",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"Aggregation"}],raw:"Aggregation[]"},description:""},field:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};function Ee({field:e,children:r}){const{t:a}=te(),c=a(`common.filters.labels.${e.translation_key}`,{defaultValue:e.key});let h=null;if(sn.includes(e.key)){const l=`common.filters.labels.${e.translation_key}_tooltip`;h=a(l)===l?null:a(l)}function f(){return s.jsx("div",{className:"flex items-center justify-between w-full text-xs",children:s.jsx("span",{children:c})})}return s.jsx(Lt,{size:"sm",children:s.jsxs(Gt,{value:e.key,className:"border-none",children:[s.jsx(Ft,{size:"sm",children:s.jsx(Ut,{children:h?s.jsxs(mt,{children:[s.jsx(ht,{asChild:!0,children:s.jsx("span",{children:f()})}),s.jsx(yt,{children:s.jsx("span",{children:h})})]}):f()})}),s.jsx(Ht,{className:"pb-0",children:r})]},e.key)})}function Tt({field:e,isOpen:r}){const{t:a}=te(),c=e.type;if(c==="divider")return s.jsx("h4",{className:"px-2 h-8 text-sidebar-foreground/70 text-xs font-medium line-height-xs text-ellipsis overflow-hidden flex justify-between items-center",children:a(`common.filters.${e.key}`)});let h;switch(c){case"multiple":h=s.jsx(Ee,{field:e,isOpen:r,children:s.jsx(_t,{field:e})});break;case"numerical":h=s.jsx(Ee,{field:e,isOpen:r,children:s.jsx(St,{field:e})});break;case"boolean":h=s.jsx(Ee,{field:e,isOpen:r,children:s.jsx(bt,{field:e})});break;default:h=s.jsx("div",{children:a("common.filters.unsupported_type",{type:e.type})})}return h}Ee.__docgenInfo={description:"",methods:[],displayName:"AccordionContainer",props:{field:{required:!0,tsType:{name:"AggregationConfig"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},searchHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(_e: React.MouseEvent<SVGElement, MouseEvent>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<SVGElement, MouseEvent>",elements:[{name:"SVGElement"},{name:"MouseEvent"}]},name:"_e"}],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};Tt.__docgenInfo={description:"To be use when the filter needs to be inside an Accordion component",methods:[],displayName:"FilterContainer",props:{field:{required:!0,tsType:{name:"AggregationConfig"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},searchHandler:{required:!1,tsType:{name:"signature",type:"function",raw:"(_e: React.MouseEvent<SVGElement, MouseEvent>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<SVGElement, MouseEvent>",elements:[{name:"SVGElement"},{name:"MouseEvent"}]},name:"_e"}],return:{name:"void"}}},description:""}}};var le={},re={},ve={},$={},ee={},Oe={},Ue;function kt(){return Ue||(Ue=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var r;(function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"})(r=e.ElementType||(e.ElementType={}));function a(c){return c.type===r.Tag||c.type===r.Script||c.type===r.Style}e.isTag=a,e.Root=r.Root,e.Text=r.Text,e.Directive=r.Directive,e.Comment=r.Comment,e.Script=r.Script,e.Style=r.Style,e.Tag=r.Tag,e.CDATA=r.CDATA,e.Doctype=r.Doctype})(Oe)),Oe}var w={},He;function Be(){if(He)return w;He=1;var e=w&&w.__extends||(function(){var t=function(o,m){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,_){x.__proto__=_}||function(x,_){for(var D in _)Object.prototype.hasOwnProperty.call(_,D)&&(x[D]=_[D])},t(o,m)};return function(o,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");t(o,m);function x(){this.constructor=o}o.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}})(),r=w&&w.__assign||function(){return r=Object.assign||function(t){for(var o,m=1,x=arguments.length;m<x;m++){o=arguments[m];for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(t[_]=o[_])}return t},r.apply(this,arguments)};Object.defineProperty(w,"__esModule",{value:!0}),w.cloneNode=w.hasChildren=w.isDocument=w.isDirective=w.isComment=w.isText=w.isCDATA=w.isTag=w.Element=w.Document=w.CDATA=w.NodeWithChildren=w.ProcessingInstruction=w.Comment=w.Text=w.DataNode=w.Node=void 0;var a=kt(),c=(function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(o){this.parent=o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(o){this.prev=o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(o){this.next=o},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(o){return o===void 0&&(o=!1),b(this,o)},t})();w.Node=c;var h=(function(t){e(o,t);function o(m){var x=t.call(this)||this;return x.data=m,x}return Object.defineProperty(o.prototype,"nodeValue",{get:function(){return this.data},set:function(m){this.data=m},enumerable:!1,configurable:!0}),o})(c);w.DataNode=h;var f=(function(t){e(o,t);function o(){var m=t!==null&&t.apply(this,arguments)||this;return m.type=a.ElementType.Text,m}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),o})(h);w.Text=f;var l=(function(t){e(o,t);function o(){var m=t!==null&&t.apply(this,arguments)||this;return m.type=a.ElementType.Comment,m}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),o})(h);w.Comment=l;var u=(function(t){e(o,t);function o(m,x){var _=t.call(this,x)||this;return _.name=m,_.type=a.ElementType.Directive,_}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),o})(h);w.ProcessingInstruction=u;var n=(function(t){e(o,t);function o(m){var x=t.call(this)||this;return x.children=m,x}return Object.defineProperty(o.prototype,"firstChild",{get:function(){var m;return(m=this.children[0])!==null&&m!==void 0?m:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"childNodes",{get:function(){return this.children},set:function(m){this.children=m},enumerable:!1,configurable:!0}),o})(c);w.NodeWithChildren=n;var i=(function(t){e(o,t);function o(){var m=t!==null&&t.apply(this,arguments)||this;return m.type=a.ElementType.CDATA,m}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),o})(n);w.CDATA=i;var d=(function(t){e(o,t);function o(){var m=t!==null&&t.apply(this,arguments)||this;return m.type=a.ElementType.Root,m}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),o})(n);w.Document=d;var y=(function(t){e(o,t);function o(m,x,_,D){_===void 0&&(_=[]),D===void 0&&(D=m==="script"?a.ElementType.Script:m==="style"?a.ElementType.Style:a.ElementType.Tag);var q=t.call(this,_)||this;return q.name=m,q.attribs=x,q.type=D,q}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tagName",{get:function(){return this.name},set:function(m){this.name=m},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"attributes",{get:function(){var m=this;return Object.keys(this.attribs).map(function(x){var _,D;return{name:x,value:m.attribs[x],namespace:(_=m["x-attribsNamespace"])===null||_===void 0?void 0:_[x],prefix:(D=m["x-attribsPrefix"])===null||D===void 0?void 0:D[x]}})},enumerable:!1,configurable:!0}),o})(n);w.Element=y;function v(t){return(0,a.isTag)(t)}w.isTag=v;function N(t){return t.type===a.ElementType.CDATA}w.isCDATA=N;function A(t){return t.type===a.ElementType.Text}w.isText=A;function g(t){return t.type===a.ElementType.Comment}w.isComment=g;function p(t){return t.type===a.ElementType.Directive}w.isDirective=p;function S(t){return t.type===a.ElementType.Root}w.isDocument=S;function k(t){return Object.prototype.hasOwnProperty.call(t,"children")}w.hasChildren=k;function b(t,o){o===void 0&&(o=!1);var m;if(A(t))m=new f(t.data);else if(g(t))m=new l(t.data);else if(v(t)){var x=o?j(t.children):[],_=new y(t.name,r({},t.attribs),x);x.forEach(function(X){return X.parent=_}),t.namespace!=null&&(_.namespace=t.namespace),t["x-attribsNamespace"]&&(_["x-attribsNamespace"]=r({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(_["x-attribsPrefix"]=r({},t["x-attribsPrefix"])),m=_}else if(N(t)){var x=o?j(t.children):[],D=new i(x);x.forEach(function(I){return I.parent=D}),m=D}else if(S(t)){var x=o?j(t.children):[],q=new d(x);x.forEach(function(I){return I.parent=q}),t["x-mode"]&&(q["x-mode"]=t["x-mode"]),m=q}else if(p(t)){var H=new u(t.name,t.data);t["x-name"]!=null&&(H["x-name"]=t["x-name"],H["x-publicId"]=t["x-publicId"],H["x-systemId"]=t["x-systemId"]),m=H}else throw new Error("Not implemented yet: ".concat(t.type));return m.startIndex=t.startIndex,m.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(m.sourceCodeLocation=t.sourceCodeLocation),m}w.cloneNode=b;function j(t){for(var o=t.map(function(x){return b(x,!0)}),m=1;m<o.length;m++)o[m].prev=o[m-1],o[m-1].next=o[m];return o}return w}var ze;function Rt(){return ze||(ze=1,(function(e){var r=ee&&ee.__createBinding||(Object.create?(function(u,n,i,d){d===void 0&&(d=i);var y=Object.getOwnPropertyDescriptor(n,i);(!y||("get"in y?!n.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(u,d,y)}):(function(u,n,i,d){d===void 0&&(d=i),u[d]=n[i]})),a=ee&&ee.__exportStar||function(u,n){for(var i in u)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&r(n,u,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var c=kt(),h=Be();a(Be(),e);var f={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=(function(){function u(n,i,d){this.dom=[],this.root=new h.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof i=="function"&&(d=i,i=f),typeof n=="object"&&(i=n,n=void 0),this.callback=n??null,this.options=i??f,this.elementCB=d??null}return u.prototype.onparserinit=function(n){this.parser=n},u.prototype.onreset=function(){this.dom=[],this.root=new h.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(n){this.handleCallback(n)},u.prototype.onclosetag=function(){this.lastNode=null;var n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)},u.prototype.onopentag=function(n,i){var d=this.options.xmlMode?c.ElementType.Tag:void 0,y=new h.Element(n,i,void 0,d);this.addNode(y),this.tagStack.push(y)},u.prototype.ontext=function(n){var i=this.lastNode;if(i&&i.type===c.ElementType.Text)i.data+=n,this.options.withEndIndices&&(i.endIndex=this.parser.endIndex);else{var d=new h.Text(n);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(n){if(this.lastNode&&this.lastNode.type===c.ElementType.Comment){this.lastNode.data+=n;return}var i=new h.Comment(n);this.addNode(i),this.lastNode=i},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var n=new h.Text(""),i=new h.CDATA([n]);this.addNode(i),n.parent=i,this.lastNode=n},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(n,i){var d=new h.ProcessingInstruction(n,i);this.addNode(d)},u.prototype.handleCallback=function(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n},u.prototype.addNode=function(n){var i=this.tagStack[this.tagStack.length-1],d=i.children[i.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),i.children.push(n),d&&(n.prev=d,d.next=n),n.parent=i,this.lastNode=null},u})();e.DomHandler=l,e.default=l})(ee)),ee}var Ie={},Xe;function mn(){return Xe||(Xe=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=e.CARRIAGE_RETURN_PLACEHOLDER=e.CARRIAGE_RETURN_REGEX=e.CARRIAGE_RETURN=e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(r,a){return r[a.toLowerCase()]=a,r},{}),e.CARRIAGE_RETURN="\r",e.CARRIAGE_RETURN_REGEX=new RegExp(e.CARRIAGE_RETURN,"g"),e.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(e.CARRIAGE_RETURN_PLACEHOLDER,"g")})(Ie)),Ie}var Qe;function At(){if(Qe)return $;Qe=1,Object.defineProperty($,"__esModule",{value:!0}),$.formatAttributes=c,$.escapeSpecialCharacters=f,$.revertEscapedCharacters=l,$.formatDOM=u;var e=Rt(),r=mn();function a(n){return r.CASE_SENSITIVE_TAG_NAMES_MAP[n]}function c(n){for(var i={},d=0,y=n.length;d<y;d++){var v=n[d];i[v.name]=v.value}return i}function h(n){n=n.toLowerCase();var i=a(n);return i||n}function f(n){return n.replace(r.CARRIAGE_RETURN_REGEX,r.CARRIAGE_RETURN_PLACEHOLDER)}function l(n){return n.replace(r.CARRIAGE_RETURN_PLACEHOLDER_REGEX,r.CARRIAGE_RETURN)}function u(n,i,d){i===void 0&&(i=null);for(var y=[],v,N=0,A=n.length;N<A;N++){var g=n[N];switch(g.nodeType){case 1:{var p=h(g.nodeName);v=new e.Element(p,c(g.attributes)),v.children=u(p==="template"?g.content.childNodes:g.childNodes,v);break}case 3:v=new e.Text(l(g.nodeValue));break;case 8:v=new e.Comment(g.nodeValue);break;default:continue}var S=y[N-1]||null;S&&(S.next=v),v.parent=i,v.prev=S,v.next=null,y.push(v)}return d&&(v=new e.ProcessingInstruction(d.substring(0,d.indexOf(" ")).toLowerCase(),d),v.next=y[0]||null,v.parent=i,y.unshift(v),y[1]&&(y[1].prev=y[0])),y}return $}var We;function hn(){if(We)return ve;We=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=g;var e=At(),r="html",a="head",c="body",h=/<([a-zA-Z]+[0-9]?)/,f=/<head[^]*>/i,l=/<body[^]*>/i,u=function(p,S){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},n=function(p,S){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},i=typeof window=="object"&&window.DOMParser;if(typeof i=="function"){var d=new i,y="text/html";n=function(p,S){return S&&(p="<".concat(S,">").concat(p,"</").concat(S,">")),d.parseFromString(p,y)},u=n}if(typeof document=="object"&&document.implementation){var v=document.implementation.createHTMLDocument();u=function(p,S){if(S){var k=v.documentElement.querySelector(S);return k&&(k.innerHTML=p),v}return v.documentElement.innerHTML=p,v}}var N=typeof document=="object"&&document.createElement("template"),A;N&&N.content&&(A=function(p){return N.innerHTML=p,N.content.childNodes});function g(p){var S,k;p=(0,e.escapeSpecialCharacters)(p);var b=p.match(h),j=b&&b[1]?b[1].toLowerCase():"";switch(j){case r:{var t=n(p);if(!f.test(p)){var o=t.querySelector(a);(S=o==null?void 0:o.parentNode)===null||S===void 0||S.removeChild(o)}if(!l.test(p)){var o=t.querySelector(c);(k=o==null?void 0:o.parentNode)===null||k===void 0||k.removeChild(o)}return t.querySelectorAll(r)}case a:case c:{var m=u(p).querySelectorAll(j);return l.test(p)&&f.test(p)?m[0].parentNode.childNodes:m}default:{if(A)return A(p);var o=u(p,c).querySelector(c);return o.childNodes}}}return ve}var Je;function yn(){if(Je)return re;Je=1;var e=re&&re.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(re,"__esModule",{value:!0}),re.default=h;var r=e(hn()),a=At(),c=/<(![a-zA-Z\s]+)>/;function h(f){if(typeof f!="string")throw new TypeError("First argument must be a string");if(!f)return[];var l=f.match(c),u=l?l[1]:void 0;return(0,a.formatDOM)((0,r.default)(f),null,u)}return re}var ge={},z={},ce={},Ye;function vn(){if(Ye)return ce;Ye=1;var e=0;ce.SAME=e;var r=1;return ce.CAMELCASE=r,ce.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},ce}var Ze;function gn(){if(Ze)return z;Ze=1;const e=0,r=1,a=2,c=3,h=4,f=5,l=6;function u(t){return i.hasOwnProperty(t)?i[t]:null}function n(t,o,m,x,_,D,q){this.acceptsBooleans=o===a||o===c||o===h,this.attributeName=x,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=t,this.type=o,this.sanitizeURL=D,this.removeEmptyString=q}const i={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(t=>{i[t]=new n(t,e,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,o])=>{i[t]=new n(t,r,!1,o,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(t=>{i[t]=new n(t,a,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{i[t]=new n(t,a,!1,t,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{i[t]=new n(t,c,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(t=>{i[t]=new n(t,c,!0,t,null,!1,!1)}),["capture","download"].forEach(t=>{i[t]=new n(t,h,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(t=>{i[t]=new n(t,l,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(t=>{i[t]=new n(t,f,!1,t.toLowerCase(),null,!1,!1)});const y=/[\-\:]([a-z])/g,v=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const o=t.replace(y,v);i[o]=new n(o,r,!1,t,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const o=t.replace(y,v);i[o]=new n(o,r,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(t=>{const o=t.replace(y,v);i[o]=new n(o,r,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(t=>{i[t]=new n(t,r,!1,t.toLowerCase(),null,!1,!1)});const N="xlinkHref";i[N]=new n("xlinkHref",r,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(t=>{i[t]=new n(t,r,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:A,SAME:g,possibleStandardNames:p}=vn(),k=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",b=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+k+"]*$")),j=Object.keys(p).reduce((t,o)=>{const m=p[o];return m===g?t[o]=o:m===A?t[o.toLowerCase()]=o:t[o]=m,t},{});return z.BOOLEAN=c,z.BOOLEANISH_STRING=a,z.NUMERIC=f,z.OVERLOADED_BOOLEAN=h,z.POSITIVE_NUMERIC=l,z.RESERVED=e,z.STRING=r,z.getPropertyInfo=u,z.isCustomAttribute=b,z.possibleStandardNames=j,z}var ue={},ae={},je,Ke;function _n(){if(Ke)return je;Ke=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,a=/^\s*/,c=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,h=/^:\s*/,f=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,n=`
`,i="/",d="*",y="",v="comment",N="declaration";function A(p,S){if(typeof p!="string")throw new TypeError("First argument must be a string");if(!p)return[];S=S||{};var k=1,b=1;function j(I){var C=I.match(r);C&&(k+=C.length);var U=I.lastIndexOf(n);b=~U?I.length-U:b+I.length}function t(){var I={line:k,column:b};return function(C){return C.position=new o(I),_(),C}}function o(I){this.start=I,this.end={line:k,column:b},this.source=S.source}o.prototype.content=p;function m(I){var C=new Error(S.source+":"+k+":"+b+": "+I);if(C.reason=I,C.filename=S.source,C.line=k,C.column=b,C.source=p,!S.silent)throw C}function x(I){var C=I.exec(p);if(C){var U=C[0];return j(U),p=p.slice(U.length),C}}function _(){x(a)}function D(I){var C;for(I=I||[];C=q();)C!==!1&&I.push(C);return I}function q(){var I=t();if(!(i!=p.charAt(0)||d!=p.charAt(1))){for(var C=2;y!=p.charAt(C)&&(d!=p.charAt(C)||i!=p.charAt(C+1));)++C;if(C+=2,y===p.charAt(C-1))return m("End of comment missing");var U=p.slice(2,C-2);return b+=2,j(U),p=p.slice(C),b+=2,I({type:v,comment:U})}}function H(){var I=t(),C=x(c);if(C){if(q(),!x(h))return m("property missing ':'");var U=x(f),se=I({type:N,property:g(C[0].replace(e,y)),value:U?g(U[0].replace(e,y)):y});return x(l),se}}function X(){var I=[];D(I);for(var C;C=H();)C!==!1&&(I.push(C),D(I));return I}return _(),X()}function g(p){return p?p.replace(u,y):y}return je=A,je}var $e;function En(){if($e)return ae;$e=1;var e=ae&&ae.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=a;const r=e(_n());function a(c,h){let f=null;if(!c||typeof c!="string")return f;const l=(0,r.default)(c),u=typeof h=="function";return l.forEach(n=>{if(n.type!=="declaration")return;const{property:i,value:d}=n;u?h(i,d,n):d&&(f=f||{},f[i]=d)}),f}return ae}var de={},et;function xn(){if(et)return de;et=1,Object.defineProperty(de,"__esModule",{value:!0}),de.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,a=/^[^-]+$/,c=/^-(webkit|moz|ms|o|khtml)-/,h=/^-(ms)-/,f=function(i){return!i||a.test(i)||e.test(i)},l=function(i,d){return d.toUpperCase()},u=function(i,d){return"".concat(d,"-")},n=function(i,d){return d===void 0&&(d={}),f(i)?i:(i=i.toLowerCase(),d.reactCompat?i=i.replace(h,u):i=i.replace(c,u),i.replace(r,l))};return de.camelCase=n,de}var fe,tt;function Sn(){if(tt)return fe;tt=1;var e=fe&&fe.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},r=e(En()),a=xn();function c(h,f){var l={};return!h||typeof h!="string"||(0,r.default)(h,function(u,n){u&&n&&(l[(0,a.camelCase)(u,f)]=n)}),l}return c.default=c,fe=c,fe}var nt;function Nt(){return nt||(nt=1,(function(e){var r=ue&&ue.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=void 0,e.isCustomComponent=f,e.setStyleProp=u;var a=ct(),c=r(Sn()),h=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function f(d,y){return d.includes("-")?!h.has(d):!!(y&&typeof y.is=="string")}var l={reactCompat:!0};function u(d,y){if(typeof d=="string"){if(!d.trim()){y.style={};return}try{y.style=(0,c.default)(d,l)}catch{y.style={}}}}e.PRESERVE_CUSTOM_ATTRIBUTES=Number(a.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var n=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=n;var i=function(d){return d};e.returnFirstArg=i})(ue)),ue}var rt;function Ct(){if(rt)return ge;rt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=f;var e=gn(),r=Nt(),a=["checked","value"],c=["input","select","textarea"],h={reset:!0,submit:!0};function f(u,n){u===void 0&&(u={});var i={},d=!!(u.type&&h[u.type]);for(var y in u){var v=u[y];if((0,e.isCustomAttribute)(y)){i[y]=v;continue}var N=y.toLowerCase(),A=l(N);if(A){var g=(0,e.getPropertyInfo)(A);switch(a.includes(A)&&c.includes(n)&&!d&&(A=l("default"+N)),i[A]=v,g&&g.type){case e.BOOLEAN:i[A]=!0;break;case e.OVERLOADED_BOOLEAN:v===""&&(i[A]=!0);break}continue}r.PRESERVE_CUSTOM_ATTRIBUTES&&(i[y]=v)}return(0,r.setStyleProp)(u.style,i),i}function l(u){return e.possibleStandardNames[u]}return ge}var ie={},at;function bn(){if(at)return ie;at=1;var e=ie&&ie.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=f;var r=ct(),a=e(Ct()),c=Nt(),h={cloneElement:r.cloneElement,createElement:r.createElement,isValidElement:r.isValidElement};function f(u,n){n===void 0&&(n={});for(var i=[],d=typeof n.replace=="function",y=n.transform||c.returnFirstArg,v=n.library||h,N=v.cloneElement,A=v.createElement,g=v.isValidElement,p=u.length,S=0;S<p;S++){var k=u[S];if(d){var b=n.replace(k,S);if(g(b)){p>1&&(b=N(b,{key:b.key||S})),i.push(y(b,k,S));continue}}if(k.type==="text"){var j=!k.data.trim().length;if(j&&k.parent&&!(0,c.canTextBeChildOfNode)(k.parent)||n.trim&&j)continue;i.push(y(k.data,k,S));continue}var t=k,o={};l(t)?((0,c.setStyleProp)(t.attribs.style,t.attribs),o=t.attribs):t.attribs&&(o=(0,a.default)(t.attribs,t.name));var m=void 0;switch(k.type){case"script":case"style":k.children[0]&&(o.dangerouslySetInnerHTML={__html:k.children[0].data});break;case"tag":k.name==="textarea"&&k.children[0]?o.defaultValue=k.children[0].data:k.children&&k.children.length&&(m=f(k.children,n));break;default:continue}p>1&&(o.key=S),i.push(y(A(k.name,o,m),k,S))}return i.length===1?i[0]:i}function l(u){return c.PRESERVE_CUSTOM_ATTRIBUTES&&u.type==="tag"&&(0,c.isCustomComponent)(u.name,u.attribs)}return ie}var it;function Tn(){return it||(it=1,(function(e){var r=le&&le.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0,e.default=u;var a=r(yn());e.htmlToDOM=a.default;var c=r(Ct());e.attributesToProps=c.default;var h=r(bn());e.domToReact=h.default;var f=Rt();Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return f.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return f.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return f.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return f.Text}});var l={lowerCaseAttributeNames:!1};function u(n,i){if(typeof n!="string")throw new TypeError("First argument must be a string");return n?(0,h.default)((0,a.default)(n,(i==null?void 0:i.htmlparser2)||l),i):[]}})(le)),le}var kn=Tn();const ot=Dt(kn),st=ot.default||ot;function wt({search:e}){const{t:r}=te(),{appId:a}=Te(),{translation_key:c,key:h}=e,f=h.replace(/search_by_/g,""),[l,u]=E.useState([]),[n,i]=E.useState([]),[d,y]=E.useState(null);E.useEffect(()=>{var S;const A=G.getResolvedActiveQuery(a);if(JSON.stringify(A)===JSON.stringify(d))return;const g=A.content.find(k=>"content"in k&&"field"in k.content?k.content.field===f:!1),p=((S=g==null?void 0:g.content)==null?void 0:S.value)||[];Array.isArray(p)&&u(p),y(A)},[a,f,G.getActiveQuery(a)]),E.useEffect(()=>{const A=l.map(g=>({value:g,label:g,badgeLabel:g}));i(A)},[l]);const v=async A=>{if(!A)return[];try{return(await zt.geneAutoComplete(A)).data.map(p=>{var S,k,b,j,t,o;return{value:((S=p.source)==null?void 0:S.name)||"",label:s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-sm text-foreground",children:st(((k=p.highlight)==null?void 0:k.name)||((b=p.source)==null?void 0:b.name)||"")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:st(((j=p.highlight)==null?void 0:j.id)||((t=p.source)==null?void 0:t.id)||"")})]}),badgeLabel:((o=p.source)==null?void 0:o.name)||""}})}catch(g){return console.error("Error fetching genes:",g),[]}},N=A=>{u(A),G.updateActiveQueryField(a,{field:f,value:A,merge_strategy:oe.OVERRIDE_VALUES})};return s.jsxs("div",{className:"flex flex-col gap-2 ",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{children:r(`common.filters.labels.${c}`)}),s.jsxs(mt,{children:[s.jsx(ht,{asChild:!0,children:s.jsx(Qt,{size:16})}),s.jsx(yt,{children:r(`common.filters.labels.${c}_tooltip`)})]})]}),s.jsx(Xt,{value:l,defaultOptions:n,onChange:N,onSearch:v,placeholder:r(`common.filters.labels.${c}_placeholder`),className:"w-full",debounceDelay:300,maxSelected:100,hidePlaceholderWhenSelected:!0})]})}wt.__docgenInfo={description:"",methods:[],displayName:"SearchFilter",props:{search:{required:!0,tsType:{name:"AggregationConfig"},description:""}}};const Ot=E.createContext({appId:De.variant_entity,aggregations:{}}),Te=()=>{const e=E.useContext(Ot);if(!e)throw new Error("useFilterConfig must be used within a FilterConfigProvider");return e};function It(e){return`temp-filters-${e}`}function Rn({groupKey:e,appId:r,aggregations:a}){var g;const{t:c}=te(),[h,f]=E.useState(!1),[l,u]=E.useState([]),[n,i]=E.useState(e),d=It(r),y=()=>{sessionStorage.removeItem(d)},v=e?((g=a[e])==null?void 0:g.items)||[]:Object.values(a).flatMap(p=>p.items),N=v.filter(p=>p.type==="search_by"),A=v.filter(p=>p.type!=="search_by");return E.useEffect(()=>{f(!1),u([])},[e]),E.useEffect(()=>{(n&&n!==null&&e===null||n&&n!==null&&e&&e!==null&&n!==e)&&y(),i(e)},[e,n]),s.jsx(Ot,{value:{appId:r,aggregations:a},children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",children:N.map((p,S)=>s.jsx(wt,{search:p},`${p.key}-${S}`))}),s.jsx("div",{className:"flex justify-end",children:s.jsx(J,{variant:"link",size:"xs",onClick:()=>{const p=!h;f(p),u(p?A.map(S=>S.key):[])},children:c(h?"common.actions.collapse_all":"common.actions.expand_all")})}),s.jsx(Bt,{className:"flex flex-col gap-1",type:"multiple",value:l,onValueChange:p=>u(p),children:A.map((p,S)=>s.jsx(Tt,{isOpen:l.includes(p.key),field:p},`${p.key}-${S}`))})]})})}Rn.__docgenInfo={description:"",methods:[],displayName:"FilterList",props:{groupKey:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},aggregations:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [key: string]: AggregationGroup;
}`,signature:{properties:[{key:{name:"string"},value:{name:"AggregationGroup",required:!0}}]}},description:""},appId:{required:!0,tsType:{name:"ApplicationId"},description:""}}};export{vt as A,Rn as F,Ot as a,dn as u};
