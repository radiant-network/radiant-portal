import{j as S}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-CBYaBgW8.js";import{R as Me,P as $e,O as De,a as qe}from"./index-CYXvTLpn.js";import{P as j}from"./index-D9mtqW9-.js";import{u as K}from"./index-DnEzm5An.js";import{c as V}from"./index-Dy6y0jaD.js";import{c as Fe}from"./index-C66Dxnp2.js";import{C as Ke}from"./checkbox-BUFo-vqr.js";import"./dialog-CV5sm2qR.js";import{c as A}from"./utils-CDN07tui.js";var pe=1,Le=.9,Pe=.8,Ve=.17,ee=.1,te=.999,Oe=.9999,Te=.99,ze=/[\\\/_+.#"@\[\(\{&]/,Be=/[\\\/_+.#"@\[\(\{&]/g,Ge=/[\s-]/,ge=/[\s-]/g;function ne(e,n,r,c,o,i,s){if(i===n.length)return o===e.length?pe:Te;var f=`${o},${i}`;if(s[f]!==void 0)return s[f];for(var b=c.charAt(i),u=r.indexOf(b,o),v=0,h,E,w,N;u>=0;)h=ne(e,n,r,c,u+1,i+1,s),h>v&&(u===o?h*=pe:ze.test(e.charAt(u-1))?(h*=Pe,w=e.slice(o,u-1).match(Be),w&&o>0&&(h*=Math.pow(te,w.length))):Ge.test(e.charAt(u-1))?(h*=Le,N=e.slice(o,u-1).match(ge),N&&o>0&&(h*=Math.pow(te,N.length))):(h*=Ve,o>0&&(h*=Math.pow(te,u-o))),e.charAt(u)!==n.charAt(i)&&(h*=Oe)),(h<ee&&r.charAt(u-1)===c.charAt(i+1)||c.charAt(i+1)===c.charAt(i)&&r.charAt(u-1)!==c.charAt(i))&&(E=ne(e,n,r,c,u+1,i+2,s),E*ee>h&&(h=E*ee)),h>v&&(v=h),u=r.indexOf(b,u+1);return s[f]=v,v}function ve(e){return e.toLowerCase().replace(ge," ")}function Ue(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ne(e,n,ve(e),ve(n),0,0,{})}var P='[cmdk-group=""]',re='[cmdk-group-items=""]',We='[cmdk-group-heading=""]',be='[cmdk-item=""]',he=`${be}:not([aria-disabled="true"])`,le="cmdk-item-select",q="data-value",He=(e,n,r)=>Ue(e,n,r),ye=l.createContext(void 0),O=()=>l.useContext(ye),xe=l.createContext(void 0),ae=()=>l.useContext(xe),we=l.createContext(void 0),ke=l.forwardRef((e,n)=>{let r=F(()=>{var t,d;return{search:"",value:(d=(t=e.value)!=null?t:e.defaultValue)!=null?d:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),c=F(()=>new Set),o=F(()=>new Map),i=F(()=>new Map),s=F(()=>new Set),f=Ce(e),{label:b,children:u,value:v,onValueChange:h,filter:E,shouldFilter:w,loop:N,disablePointerSelection:G=!1,vimBindings:_=!0,...T}=e,U=K(),ie=K(),W=K(),M=l.useRef(null),y=at();$(()=>{if(v!==void 0){let t=v.trim();r.current.value=t,k.emit()}},[v]),$(()=>{y(6,de)},[]);let k=l.useMemo(()=>({subscribe:t=>(s.current.add(t),()=>s.current.delete(t)),snapshot:()=>r.current,setState:(t,d,m)=>{var a,p,g,C;if(!Object.is(r.current[t],d)){if(r.current[t]=d,t==="search")Y(),J(),y(1,X);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let x=document.getElementById(W);x?x.focus():(a=document.getElementById(U))==null||a.focus()}if(y(7,()=>{var x;r.current.selectedItemId=(x=D())==null?void 0:x.id,k.emit()}),m||y(5,de),((p=f.current)==null?void 0:p.value)!==void 0){let x=d??"";(C=(g=f.current).onValueChange)==null||C.call(g,x);return}}k.emit()}},emit:()=>{s.current.forEach(t=>t())}}),[]),H=l.useMemo(()=>({value:(t,d,m)=>{var a;d!==((a=i.current.get(t))==null?void 0:a.value)&&(i.current.set(t,{value:d,keywords:m}),r.current.filtered.items.set(t,ue(d,m)),y(2,()=>{J(),k.emit()}))},item:(t,d)=>(c.current.add(t),d&&(o.current.has(d)?o.current.get(d).add(t):o.current.set(d,new Set([t]))),y(3,()=>{Y(),J(),r.current.value||X(),k.emit()}),()=>{i.current.delete(t),c.current.delete(t),r.current.filtered.items.delete(t);let m=D();y(4,()=>{Y(),(m==null?void 0:m.getAttribute("id"))===t&&X(),k.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{i.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:U,inputId:W,labelId:ie,listInnerRef:M}),[]);function ue(t,d){var m,a;let p=(a=(m=f.current)==null?void 0:m.filter)!=null?a:He;return t?p(t,r.current.search,d):0}function J(){if(!r.current.search||f.current.shouldFilter===!1)return;let t=r.current.filtered.items,d=[];r.current.filtered.groups.forEach(a=>{let p=o.current.get(a),g=0;p.forEach(C=>{let x=t.get(C);g=Math.max(x,g)}),d.push([a,g])});let m=M.current;L().sort((a,p)=>{var g,C;let x=a.getAttribute("id"),z=p.getAttribute("id");return((g=t.get(z))!=null?g:0)-((C=t.get(x))!=null?C:0)}).forEach(a=>{let p=a.closest(re);p?p.appendChild(a.parentElement===p?a:a.closest(`${re} > *`)):m.appendChild(a.parentElement===m?a:a.closest(`${re} > *`))}),d.sort((a,p)=>p[1]-a[1]).forEach(a=>{var p;let g=(p=M.current)==null?void 0:p.querySelector(`${P}[${q}="${encodeURIComponent(a[0])}"]`);g==null||g.parentElement.appendChild(g)})}function X(){let t=L().find(m=>m.getAttribute("aria-disabled")!=="true"),d=t==null?void 0:t.getAttribute(q);k.setState("value",d||void 0)}function Y(){var t,d,m,a;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=c.current.size;return}r.current.filtered.groups=new Set;let p=0;for(let g of c.current){let C=(d=(t=i.current.get(g))==null?void 0:t.value)!=null?d:"",x=(a=(m=i.current.get(g))==null?void 0:m.keywords)!=null?a:[],z=ue(C,x);r.current.filtered.items.set(g,z),z>0&&p++}for(let[g,C]of o.current)for(let x of C)if(r.current.filtered.items.get(x)>0){r.current.filtered.groups.add(g);break}r.current.filtered.count=p}function de(){var t,d,m;let a=D();a&&(((t=a.parentElement)==null?void 0:t.firstChild)===a&&((m=(d=a.closest(P))==null?void 0:d.querySelector(We))==null||m.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function D(){var t;return(t=M.current)==null?void 0:t.querySelector(`${be}[aria-selected="true"]`)}function L(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(he))||[])}function Q(t){let d=L()[t];d&&k.setState("value",d.getAttribute(q))}function Z(t){var d;let m=D(),a=L(),p=a.findIndex(C=>C===m),g=a[p+t];(d=f.current)!=null&&d.loop&&(g=p+t<0?a[a.length-1]:p+t===a.length?a[0]:a[p+t]),g&&k.setState("value",g.getAttribute(q))}function ce(t){let d=D(),m=d==null?void 0:d.closest(P),a;for(;m&&!a;)m=t>0?nt(m,P):lt(m,P),a=m==null?void 0:m.querySelector(he);a?k.setState("value",a.getAttribute(q)):Z(t)}let se=()=>Q(L().length-1),me=t=>{t.preventDefault(),t.metaKey?se():t.altKey?ce(1):Z(1)},fe=t=>{t.preventDefault(),t.metaKey?Q(0):t.altKey?ce(-1):Z(-1)};return l.createElement(j.div,{ref:n,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:t=>{var d;(d=T.onKeyDown)==null||d.call(T,t);let m=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||m))switch(t.key){case"n":case"j":{_&&t.ctrlKey&&me(t);break}case"ArrowDown":{me(t);break}case"p":case"k":{_&&t.ctrlKey&&fe(t);break}case"ArrowUp":{fe(t);break}case"Home":{t.preventDefault(),Q(0);break}case"End":{t.preventDefault(),se();break}case"Enter":{t.preventDefault();let a=D();if(a){let p=new Event(le);a.dispatchEvent(p)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:it},b),B(e,t=>l.createElement(xe.Provider,{value:k},l.createElement(ye.Provider,{value:H},t))))}),Je=l.forwardRef((e,n)=>{var r,c;let o=K(),i=l.useRef(null),s=l.useContext(we),f=O(),b=Ce(e),u=(c=(r=b.current)==null?void 0:r.forceMount)!=null?c:s==null?void 0:s.forceMount;$(()=>{if(!u)return f.item(o,s==null?void 0:s.id)},[u]);let v=Ie(o,i,[e.value,e.children,i],e.keywords),h=ae(),E=R(y=>y.value&&y.value===v.current),w=R(y=>u||f.filter()===!1?!0:y.search?y.filtered.items.get(o)>0:!0);l.useEffect(()=>{let y=i.current;if(!(!y||e.disabled))return y.addEventListener(le,N),()=>y.removeEventListener(le,N)},[w,e.onSelect,e.disabled]);function N(){var y,k;G(),(k=(y=b.current).onSelect)==null||k.call(y,v.current)}function G(){h.setState("value",v.current,!0)}if(!w)return null;let{disabled:_,value:T,onSelect:U,forceMount:ie,keywords:W,...M}=e;return l.createElement(j.div,{ref:V(i,n),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!E,"data-disabled":!!_,"data-selected":!!E,onPointerMove:_||f.getDisablePointerSelection()?void 0:G,onClick:_?void 0:N},e.children)}),Xe=l.forwardRef((e,n)=>{let{heading:r,children:c,forceMount:o,...i}=e,s=K(),f=l.useRef(null),b=l.useRef(null),u=K(),v=O(),h=R(w=>o||v.filter()===!1?!0:w.search?w.filtered.groups.has(s):!0);$(()=>v.group(s),[]),Ie(s,f,[e.value,e.heading,b]);let E=l.useMemo(()=>({id:s,forceMount:o}),[o]);return l.createElement(j.div,{ref:V(f,n),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&l.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),B(e,w=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},l.createElement(we.Provider,{value:E},w))))}),Ye=l.forwardRef((e,n)=>{let{alwaysRender:r,...c}=e,o=l.useRef(null),i=R(s=>!s.search);return!r&&!i?null:l.createElement(j.div,{ref:V(o,n),...c,"cmdk-separator":"",role:"separator"})}),Qe=l.forwardRef((e,n)=>{let{onValueChange:r,...c}=e,o=e.value!=null,i=ae(),s=R(u=>u.search),f=R(u=>u.selectedItemId),b=O();return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement(j.input,{ref:n,...c,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:s,onChange:u=>{o||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Ze=l.forwardRef((e,n)=>{let{children:r,label:c="Suggestions",...o}=e,i=l.useRef(null),s=l.useRef(null),f=R(u=>u.selectedItemId),b=O();return l.useEffect(()=>{if(s.current&&i.current){let u=s.current,v=i.current,h,E=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let w=u.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return E.observe(u),()=>{cancelAnimationFrame(h),E.unobserve(u)}}},[]),l.createElement(j.div,{ref:V(i,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":c,id:b.listId},B(e,u=>l.createElement("div",{ref:V(s,b.listInnerRef),"cmdk-list-sizer":""},u)))}),et=l.forwardRef((e,n)=>{let{open:r,onOpenChange:c,overlayClassName:o,contentClassName:i,container:s,...f}=e;return l.createElement(Me,{open:r,onOpenChange:c},l.createElement($e,{container:s},l.createElement(De,{"cmdk-overlay":"",className:o}),l.createElement(qe,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(ke,{ref:n,...f}))))}),tt=l.forwardRef((e,n)=>R(r=>r.filtered.count===0)?l.createElement(j.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),rt=l.forwardRef((e,n)=>{let{progress:r,children:c,label:o="Loading...",...i}=e;return l.createElement(j.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},B(e,s=>l.createElement("div",{"aria-hidden":!0},s)))}),I=Object.assign(ke,{List:Ze,Item:Je,Input:Qe,Group:Xe,Separator:Ye,Dialog:et,Empty:tt,Loading:rt});function nt(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function lt(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Ce(e){let n=l.useRef(e);return $(()=>{n.current=e}),n}var $=typeof window>"u"?l.useEffect:l.useLayoutEffect;function F(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function R(e){let n=ae(),r=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,r,r)}function Ie(e,n,r,c=[]){let o=l.useRef(),i=O();return $(()=>{var s;let f=(()=>{var u;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(u=v.current.textContent)==null?void 0:u.trim():o.current}})(),b=c.map(u=>u.trim());i.value(e,f,b),(s=n.current)==null||s.setAttribute(q,f),o.current=f}),o}var at=()=>{let[e,n]=l.useState(),r=F(()=>new Map);return $(()=>{r.current.forEach(c=>c()),r.current=new Map},[e]),(c,o)=>{r.current.set(c,o),n({})}};function ot(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function B({asChild:e,children:n},r){return e&&l.isValidElement(n)?l.cloneElement(ot(n),{ref:n.ref},r(n.props.children)):r(n)}var it={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Ee({className:e,...n}){return S.jsx(I,{className:A("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n})}Ee.displayName=I.displayName;const ut=Fe({slots:{base:"flex h-9 items-center px-3 bg-background rounded-md border"},variants:{variant:{default:"enabled:focus-within:ring-1 enabled:focus-within:ring-ring",search:"focus-within:ring-primary focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-0 [&:has(:focus-visible)]:ring-1"}},defaultVariants:{variant:"default"}});function Se({className:e,wrapperClassName:n,leftAddon:r,rightAddon:c,disabled:o,variant:i,...s}){const f=ut({variant:i});return S.jsxs("div",{className:A(f.base({variant:i}),n,{"cursor-not-allowed opacity-50":o}),"cmdk-input-wrapper":"",children:[r,S.jsx(I.Input,{className:A("flex w-full rounded-md bg-background text-sm outline-none placeholder:text-muted-foreground",e),disabled:o,...s}),c]})}Se.displayName=I.Input.displayName;function Re({className:e,...n}){return S.jsx(I.List,{className:A("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n})}Re.displayName=I.List.displayName;function Ne({className:e,...n}){return R(c=>c.filtered.count===0)?S.jsx("div",{className:A("py-4 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...n}):null}Ne.displayName=I.Empty.displayName;function Ae({className:e,...n}){return S.jsx(I.Group,{className:A("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n})}Ae.displayName=I.Group.displayName;function je({className:e,...n}){return S.jsx(I.Separator,{className:A("-mx-1 h-px bg-border",e),...n})}je.displayName=I.Separator.displayName;function oe({className:e,...n}){return S.jsx(I.Item,{className:A("relative flex cursor-default gap-2 select-none items-center rounded-xs px-2 py-1 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n})}oe.displayName=I.Item.displayName;function _e({...e}){const[n,r]=l.useState(!1);return S.jsxs(oe,{...e,onSelect:c=>{e.onSelect&&e.onSelect(c),r(!n)},children:[S.jsx(Ke,{checked:n,disabled:e.disabled}),e.children]})}_e.displayName="CommandItemCheckbox";Ee.__docgenInfo={description:"",methods:[]};Se.__docgenInfo={description:"",methods:[],props:{wrapperClassName:{required:!1,tsType:{name:"string"},description:""},rightAddon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},leftAddon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};Re.__docgenInfo={description:"",methods:[]};Ne.__docgenInfo={description:"",methods:[]};Ae.__docgenInfo={description:"",methods:[]};oe.__docgenInfo={description:"",methods:[]};_e.__docgenInfo={description:"Custom Component added. We be overrided if shadcn command is run",methods:[],displayName:"CommandItemCheckbox"};je.__docgenInfo={description:"",methods:[]};export{Se as C,I as _,Re as a,Ne as b,Ae as c,oe as d,je as e,_e as f,Ee as g};
